(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var jE={exports:{}},Uc={},FE={exports:{}},te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qa=Symbol.for("react.element"),TC=Symbol.for("react.portal"),xC=Symbol.for("react.fragment"),SC=Symbol.for("react.strict_mode"),IC=Symbol.for("react.profiler"),AC=Symbol.for("react.provider"),kC=Symbol.for("react.context"),CC=Symbol.for("react.forward_ref"),RC=Symbol.for("react.suspense"),PC=Symbol.for("react.memo"),bC=Symbol.for("react.lazy"),kv=Symbol.iterator;function NC(t){return t===null||typeof t!="object"?null:(t=kv&&t[kv]||t["@@iterator"],typeof t=="function"?t:null)}var UE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},BE=Object.assign,$E={};function Ks(t,e,n){this.props=t,this.context=e,this.refs=$E,this.updater=n||UE}Ks.prototype.isReactComponent={};Ks.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ks.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function zE(){}zE.prototype=Ks.prototype;function Bp(t,e,n){this.props=t,this.context=e,this.refs=$E,this.updater=n||UE}var $p=Bp.prototype=new zE;$p.constructor=Bp;BE($p,Ks.prototype);$p.isPureReactComponent=!0;var Cv=Array.isArray,HE=Object.prototype.hasOwnProperty,zp={current:null},WE={key:!0,ref:!0,__self:!0,__source:!0};function qE(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)HE.call(e,r)&&!WE.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Qa,type:t,key:s,ref:o,props:i,_owner:zp.current}}function DC(t,e){return{$$typeof:Qa,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Hp(t){return typeof t=="object"&&t!==null&&t.$$typeof===Qa}function VC(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Rv=/\/+/g;function Jh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?VC(""+t.key):e.toString(36)}function yu(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Qa:case TC:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Jh(o,0):r,Cv(i)?(n="",t!=null&&(n=t.replace(Rv,"$&/")+"/"),yu(i,e,n,"",function(c){return c})):i!=null&&(Hp(i)&&(i=DC(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Rv,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Cv(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Jh(s,a);o+=yu(s,e,n,l,i)}else if(l=NC(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Jh(s,a++),o+=yu(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Ul(t,e,n){if(t==null)return t;var r=[],i=0;return yu(t,r,"","",function(s){return e.call(n,s,i++)}),r}function LC(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var wt={current:null},vu={transition:null},OC={ReactCurrentDispatcher:wt,ReactCurrentBatchConfig:vu,ReactCurrentOwner:zp};function KE(){throw Error("act(...) is not supported in production builds of React.")}te.Children={map:Ul,forEach:function(t,e,n){Ul(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ul(t,function(){e++}),e},toArray:function(t){return Ul(t,function(e){return e})||[]},only:function(t){if(!Hp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};te.Component=Ks;te.Fragment=xC;te.Profiler=IC;te.PureComponent=Bp;te.StrictMode=SC;te.Suspense=RC;te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=OC;te.act=KE;te.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=BE({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=zp.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)HE.call(e,l)&&!WE.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Qa,type:t.type,key:i,ref:s,props:r,_owner:o}};te.createContext=function(t){return t={$$typeof:kC,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:AC,_context:t},t.Consumer=t};te.createElement=qE;te.createFactory=function(t){var e=qE.bind(null,t);return e.type=t,e};te.createRef=function(){return{current:null}};te.forwardRef=function(t){return{$$typeof:CC,render:t}};te.isValidElement=Hp;te.lazy=function(t){return{$$typeof:bC,_payload:{_status:-1,_result:t},_init:LC}};te.memo=function(t,e){return{$$typeof:PC,type:t,compare:e===void 0?null:e}};te.startTransition=function(t){var e=vu.transition;vu.transition={};try{t()}finally{vu.transition=e}};te.unstable_act=KE;te.useCallback=function(t,e){return wt.current.useCallback(t,e)};te.useContext=function(t){return wt.current.useContext(t)};te.useDebugValue=function(){};te.useDeferredValue=function(t){return wt.current.useDeferredValue(t)};te.useEffect=function(t,e){return wt.current.useEffect(t,e)};te.useId=function(){return wt.current.useId()};te.useImperativeHandle=function(t,e,n){return wt.current.useImperativeHandle(t,e,n)};te.useInsertionEffect=function(t,e){return wt.current.useInsertionEffect(t,e)};te.useLayoutEffect=function(t,e){return wt.current.useLayoutEffect(t,e)};te.useMemo=function(t,e){return wt.current.useMemo(t,e)};te.useReducer=function(t,e,n){return wt.current.useReducer(t,e,n)};te.useRef=function(t){return wt.current.useRef(t)};te.useState=function(t){return wt.current.useState(t)};te.useSyncExternalStore=function(t,e,n){return wt.current.useSyncExternalStore(t,e,n)};te.useTransition=function(){return wt.current.useTransition()};te.version="18.3.1";FE.exports=te;var C=FE.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MC=C,jC=Symbol.for("react.element"),FC=Symbol.for("react.fragment"),UC=Object.prototype.hasOwnProperty,BC=MC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,$C={key:!0,ref:!0,__self:!0,__source:!0};function GE(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)UC.call(e,r)&&!$C.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:jC,type:t,key:s,ref:o,props:i,_owner:BC.current}}Uc.Fragment=FC;Uc.jsx=GE;Uc.jsxs=GE;jE.exports=Uc;var p=jE.exports,QE={exports:{}},jt={},YE={exports:{}},XE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,K){var X=$.length;$.push(K);e:for(;0<X;){var _e=X-1>>>1,ue=$[_e];if(0<i(ue,K))$[_e]=K,$[X]=ue,X=_e;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var K=$[0],X=$.pop();if(X!==K){$[0]=X;e:for(var _e=0,ue=$.length,Ne=ue>>>1;_e<Ne;){var Nn=2*(_e+1)-1,Dn=$[Nn],Vn=Nn+1,Ln=$[Vn];if(0>i(Dn,X))Vn<ue&&0>i(Ln,Dn)?($[_e]=Ln,$[Vn]=X,_e=Vn):($[_e]=Dn,$[Nn]=X,_e=Nn);else if(Vn<ue&&0>i(Ln,X))$[_e]=Ln,$[Vn]=X,_e=Vn;else break e}}return K}function i($,K){var X=$.sortIndex-K.sortIndex;return X!==0?X:$.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],h=1,d=null,m=3,y=!1,E=!1,I=!1,R=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x($){for(var K=n(c);K!==null;){if(K.callback===null)r(c);else if(K.startTime<=$)r(c),K.sortIndex=K.expirationTime,e(l,K);else break;K=n(c)}}function N($){if(I=!1,x($),!E)if(n(l)!==null)E=!0,Ki(L);else{var K=n(c);K!==null&&de(N,K.startTime-$)}}function L($,K){E=!1,I&&(I=!1,v(w),w=-1),y=!0;var X=m;try{for(x(K),d=n(l);d!==null&&(!(d.expirationTime>K)||$&&!b());){var _e=d.callback;if(typeof _e=="function"){d.callback=null,m=d.priorityLevel;var ue=_e(d.expirationTime<=K);K=t.unstable_now(),typeof ue=="function"?d.callback=ue:d===n(l)&&r(l),x(K)}else r(l);d=n(l)}if(d!==null)var Ne=!0;else{var Nn=n(c);Nn!==null&&de(N,Nn.startTime-K),Ne=!1}return Ne}finally{d=null,m=X,y=!1}}var M=!1,S=null,w=-1,A=5,k=-1;function b(){return!(t.unstable_now()-k<A)}function D(){if(S!==null){var $=t.unstable_now();k=$;var K=!0;try{K=S(!0,$)}finally{K?P():(M=!1,S=null)}}else M=!1}var P;if(typeof _=="function")P=function(){_(D)};else if(typeof MessageChannel<"u"){var ft=new MessageChannel,ur=ft.port2;ft.port1.onmessage=D,P=function(){ur.postMessage(null)}}else P=function(){R(D,0)};function Ki($){S=$,M||(M=!0,P())}function de($,K){w=R(function(){$(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){E||y||(E=!0,Ki(L))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function($){switch(m){case 1:case 2:case 3:var K=3;break;default:K=m}var X=m;m=K;try{return $()}finally{m=X}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,K){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var X=m;m=$;try{return K()}finally{m=X}},t.unstable_scheduleCallback=function($,K,X){var _e=t.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?_e+X:_e):X=_e,$){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=X+ue,$={id:h++,callback:K,priorityLevel:$,startTime:X,expirationTime:ue,sortIndex:-1},X>_e?($.sortIndex=X,e(c,$),n(l)===null&&$===n(c)&&(I?(v(w),w=-1):I=!0,de(N,X-_e))):($.sortIndex=ue,e(l,$),E||y||(E=!0,Ki(L))),$},t.unstable_shouldYield=b,t.unstable_wrapCallback=function($){var K=m;return function(){var X=m;m=K;try{return $.apply(this,arguments)}finally{m=X}}}})(XE);YE.exports=XE;var zC=YE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HC=C,Mt=zC;function U(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var JE=new Set,pa={};function Fi(t,e){bs(t,e),bs(t+"Capture",e)}function bs(t,e){for(pa[t]=e,t=0;t<e.length;t++)JE.add(e[t])}var Qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Jd=Object.prototype.hasOwnProperty,WC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Pv={},bv={};function qC(t){return Jd.call(bv,t)?!0:Jd.call(Pv,t)?!1:WC.test(t)?bv[t]=!0:(Pv[t]=!0,!1)}function KC(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function GC(t,e,n,r){if(e===null||typeof e>"u"||KC(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Et(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Ze={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ze[t]=new Et(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ze[e]=new Et(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ze[t]=new Et(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ze[t]=new Et(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ze[t]=new Et(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ze[t]=new Et(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ze[t]=new Et(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ze[t]=new Et(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ze[t]=new Et(t,5,!1,t.toLowerCase(),null,!1,!1)});var Wp=/[\-:]([a-z])/g;function qp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Wp,qp);Ze[e]=new Et(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Wp,qp);Ze[e]=new Et(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Wp,qp);Ze[e]=new Et(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ze[t]=new Et(t,1,!1,t.toLowerCase(),null,!1,!1)});Ze.xlinkHref=new Et("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ze[t]=new Et(t,1,!1,t.toLowerCase(),null,!0,!0)});function Kp(t,e,n,r){var i=Ze.hasOwnProperty(e)?Ze[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(GC(e,n,i,r)&&(n=null),r||i===null?qC(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ar=HC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Bl=Symbol.for("react.element"),rs=Symbol.for("react.portal"),is=Symbol.for("react.fragment"),Gp=Symbol.for("react.strict_mode"),Zd=Symbol.for("react.profiler"),ZE=Symbol.for("react.provider"),eT=Symbol.for("react.context"),Qp=Symbol.for("react.forward_ref"),ef=Symbol.for("react.suspense"),tf=Symbol.for("react.suspense_list"),Yp=Symbol.for("react.memo"),gr=Symbol.for("react.lazy"),tT=Symbol.for("react.offscreen"),Nv=Symbol.iterator;function Eo(t){return t===null||typeof t!="object"?null:(t=Nv&&t[Nv]||t["@@iterator"],typeof t=="function"?t:null)}var Ie=Object.assign,Zh;function Oo(t){if(Zh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Zh=e&&e[1]||""}return`
`+Zh+t}var ed=!1;function td(t,e){if(!t||ed)return"";ed=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{ed=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Oo(t):""}function QC(t){switch(t.tag){case 5:return Oo(t.type);case 16:return Oo("Lazy");case 13:return Oo("Suspense");case 19:return Oo("SuspenseList");case 0:case 2:case 15:return t=td(t.type,!1),t;case 11:return t=td(t.type.render,!1),t;case 1:return t=td(t.type,!0),t;default:return""}}function nf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case is:return"Fragment";case rs:return"Portal";case Zd:return"Profiler";case Gp:return"StrictMode";case ef:return"Suspense";case tf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case eT:return(t.displayName||"Context")+".Consumer";case ZE:return(t._context.displayName||"Context")+".Provider";case Qp:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Yp:return e=t.displayName||null,e!==null?e:nf(t.type)||"Memo";case gr:e=t._payload,t=t._init;try{return nf(t(e))}catch{}}return null}function YC(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return nf(e);case 8:return e===Gp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Fr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function nT(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function XC(t){var e=nT(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function $l(t){t._valueTracker||(t._valueTracker=XC(t))}function rT(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=nT(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Wu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function rf(t,e){var n=e.checked;return Ie({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Dv(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Fr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function iT(t,e){e=e.checked,e!=null&&Kp(t,"checked",e,!1)}function sf(t,e){iT(t,e);var n=Fr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?of(t,e.type,n):e.hasOwnProperty("defaultValue")&&of(t,e.type,Fr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Vv(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function of(t,e,n){(e!=="number"||Wu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Mo=Array.isArray;function ws(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Fr(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function af(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(U(91));return Ie({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Lv(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(U(92));if(Mo(n)){if(1<n.length)throw Error(U(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Fr(n)}}function sT(t,e){var n=Fr(e.value),r=Fr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Ov(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function oT(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?oT(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var zl,aT=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(zl=zl||document.createElement("div"),zl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=zl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ma(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ko={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},JC=["Webkit","ms","Moz","O"];Object.keys(Ko).forEach(function(t){JC.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ko[e]=Ko[t]})});function lT(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ko.hasOwnProperty(t)&&Ko[t]?(""+e).trim():e+"px"}function uT(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=lT(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var ZC=Ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function uf(t,e){if(e){if(ZC[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(U(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(U(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(U(61))}if(e.style!=null&&typeof e.style!="object")throw Error(U(62))}}function cf(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hf=null;function Xp(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var df=null,Es=null,Ts=null;function Mv(t){if(t=Ja(t)){if(typeof df!="function")throw Error(U(280));var e=t.stateNode;e&&(e=Wc(e),df(t.stateNode,t.type,e))}}function cT(t){Es?Ts?Ts.push(t):Ts=[t]:Es=t}function hT(){if(Es){var t=Es,e=Ts;if(Ts=Es=null,Mv(t),e)for(t=0;t<e.length;t++)Mv(e[t])}}function dT(t,e){return t(e)}function fT(){}var nd=!1;function pT(t,e,n){if(nd)return t(e,n);nd=!0;try{return dT(t,e,n)}finally{nd=!1,(Es!==null||Ts!==null)&&(fT(),hT())}}function ga(t,e){var n=t.stateNode;if(n===null)return null;var r=Wc(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(U(231,e,typeof n));return n}var ff=!1;if(Qn)try{var To={};Object.defineProperty(To,"passive",{get:function(){ff=!0}}),window.addEventListener("test",To,To),window.removeEventListener("test",To,To)}catch{ff=!1}function eR(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(h){this.onError(h)}}var Go=!1,qu=null,Ku=!1,pf=null,tR={onError:function(t){Go=!0,qu=t}};function nR(t,e,n,r,i,s,o,a,l){Go=!1,qu=null,eR.apply(tR,arguments)}function rR(t,e,n,r,i,s,o,a,l){if(nR.apply(this,arguments),Go){if(Go){var c=qu;Go=!1,qu=null}else throw Error(U(198));Ku||(Ku=!0,pf=c)}}function Ui(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function mT(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function jv(t){if(Ui(t)!==t)throw Error(U(188))}function iR(t){var e=t.alternate;if(!e){if(e=Ui(t),e===null)throw Error(U(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return jv(i),t;if(s===r)return jv(i),e;s=s.sibling}throw Error(U(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(U(189))}}if(n.alternate!==r)throw Error(U(190))}if(n.tag!==3)throw Error(U(188));return n.stateNode.current===n?t:e}function gT(t){return t=iR(t),t!==null?yT(t):null}function yT(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=yT(t);if(e!==null)return e;t=t.sibling}return null}var vT=Mt.unstable_scheduleCallback,Fv=Mt.unstable_cancelCallback,sR=Mt.unstable_shouldYield,oR=Mt.unstable_requestPaint,Le=Mt.unstable_now,aR=Mt.unstable_getCurrentPriorityLevel,Jp=Mt.unstable_ImmediatePriority,_T=Mt.unstable_UserBlockingPriority,Gu=Mt.unstable_NormalPriority,lR=Mt.unstable_LowPriority,wT=Mt.unstable_IdlePriority,Bc=null,yn=null;function uR(t){if(yn&&typeof yn.onCommitFiberRoot=="function")try{yn.onCommitFiberRoot(Bc,t,void 0,(t.current.flags&128)===128)}catch{}}var an=Math.clz32?Math.clz32:dR,cR=Math.log,hR=Math.LN2;function dR(t){return t>>>=0,t===0?32:31-(cR(t)/hR|0)|0}var Hl=64,Wl=4194304;function jo(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Qu(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=jo(a):(s&=o,s!==0&&(r=jo(s)))}else o=n&~i,o!==0?r=jo(o):s!==0&&(r=jo(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-an(e),i=1<<n,r|=t[n],e&=~i;return r}function fR(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pR(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-an(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=fR(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function mf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function ET(){var t=Hl;return Hl<<=1,!(Hl&4194240)&&(Hl=64),t}function rd(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ya(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-an(e),t[e]=n}function mR(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-an(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Zp(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-an(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var le=0;function TT(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var xT,em,ST,IT,AT,gf=!1,ql=[],kr=null,Cr=null,Rr=null,ya=new Map,va=new Map,vr=[],gR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Uv(t,e){switch(t){case"focusin":case"focusout":kr=null;break;case"dragenter":case"dragleave":Cr=null;break;case"mouseover":case"mouseout":Rr=null;break;case"pointerover":case"pointerout":ya.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":va.delete(e.pointerId)}}function xo(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Ja(e),e!==null&&em(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function yR(t,e,n,r,i){switch(e){case"focusin":return kr=xo(kr,t,e,n,r,i),!0;case"dragenter":return Cr=xo(Cr,t,e,n,r,i),!0;case"mouseover":return Rr=xo(Rr,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return ya.set(s,xo(ya.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,va.set(s,xo(va.get(s)||null,t,e,n,r,i)),!0}return!1}function kT(t){var e=mi(t.target);if(e!==null){var n=Ui(e);if(n!==null){if(e=n.tag,e===13){if(e=mT(n),e!==null){t.blockedOn=e,AT(t.priority,function(){ST(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function _u(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=yf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);hf=r,n.target.dispatchEvent(r),hf=null}else return e=Ja(n),e!==null&&em(e),t.blockedOn=n,!1;e.shift()}return!0}function Bv(t,e,n){_u(t)&&n.delete(e)}function vR(){gf=!1,kr!==null&&_u(kr)&&(kr=null),Cr!==null&&_u(Cr)&&(Cr=null),Rr!==null&&_u(Rr)&&(Rr=null),ya.forEach(Bv),va.forEach(Bv)}function So(t,e){t.blockedOn===e&&(t.blockedOn=null,gf||(gf=!0,Mt.unstable_scheduleCallback(Mt.unstable_NormalPriority,vR)))}function _a(t){function e(i){return So(i,t)}if(0<ql.length){So(ql[0],t);for(var n=1;n<ql.length;n++){var r=ql[n];r.blockedOn===t&&(r.blockedOn=null)}}for(kr!==null&&So(kr,t),Cr!==null&&So(Cr,t),Rr!==null&&So(Rr,t),ya.forEach(e),va.forEach(e),n=0;n<vr.length;n++)r=vr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<vr.length&&(n=vr[0],n.blockedOn===null);)kT(n),n.blockedOn===null&&vr.shift()}var xs=ar.ReactCurrentBatchConfig,Yu=!0;function _R(t,e,n,r){var i=le,s=xs.transition;xs.transition=null;try{le=1,tm(t,e,n,r)}finally{le=i,xs.transition=s}}function wR(t,e,n,r){var i=le,s=xs.transition;xs.transition=null;try{le=4,tm(t,e,n,r)}finally{le=i,xs.transition=s}}function tm(t,e,n,r){if(Yu){var i=yf(t,e,n,r);if(i===null)fd(t,e,r,Xu,n),Uv(t,r);else if(yR(i,t,e,n,r))r.stopPropagation();else if(Uv(t,r),e&4&&-1<gR.indexOf(t)){for(;i!==null;){var s=Ja(i);if(s!==null&&xT(s),s=yf(t,e,n,r),s===null&&fd(t,e,r,Xu,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else fd(t,e,r,null,n)}}var Xu=null;function yf(t,e,n,r){if(Xu=null,t=Xp(r),t=mi(t),t!==null)if(e=Ui(t),e===null)t=null;else if(n=e.tag,n===13){if(t=mT(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Xu=t,null}function CT(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(aR()){case Jp:return 1;case _T:return 4;case Gu:case lR:return 16;case wT:return 536870912;default:return 16}default:return 16}}var Sr=null,nm=null,wu=null;function RT(){if(wu)return wu;var t,e=nm,n=e.length,r,i="value"in Sr?Sr.value:Sr.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return wu=i.slice(t,1<r?1-r:void 0)}function Eu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Kl(){return!0}function $v(){return!1}function Ft(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Kl:$v,this.isPropagationStopped=$v,this}return Ie(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Kl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Kl)},persist:function(){},isPersistent:Kl}),e}var Gs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rm=Ft(Gs),Xa=Ie({},Gs,{view:0,detail:0}),ER=Ft(Xa),id,sd,Io,$c=Ie({},Xa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:im,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Io&&(Io&&t.type==="mousemove"?(id=t.screenX-Io.screenX,sd=t.screenY-Io.screenY):sd=id=0,Io=t),id)},movementY:function(t){return"movementY"in t?t.movementY:sd}}),zv=Ft($c),TR=Ie({},$c,{dataTransfer:0}),xR=Ft(TR),SR=Ie({},Xa,{relatedTarget:0}),od=Ft(SR),IR=Ie({},Gs,{animationName:0,elapsedTime:0,pseudoElement:0}),AR=Ft(IR),kR=Ie({},Gs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),CR=Ft(kR),RR=Ie({},Gs,{data:0}),Hv=Ft(RR),PR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},NR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function DR(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=NR[t])?!!e[t]:!1}function im(){return DR}var VR=Ie({},Xa,{key:function(t){if(t.key){var e=PR[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Eu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?bR[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:im,charCode:function(t){return t.type==="keypress"?Eu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Eu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),LR=Ft(VR),OR=Ie({},$c,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wv=Ft(OR),MR=Ie({},Xa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:im}),jR=Ft(MR),FR=Ie({},Gs,{propertyName:0,elapsedTime:0,pseudoElement:0}),UR=Ft(FR),BR=Ie({},$c,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),$R=Ft(BR),zR=[9,13,27,32],sm=Qn&&"CompositionEvent"in window,Qo=null;Qn&&"documentMode"in document&&(Qo=document.documentMode);var HR=Qn&&"TextEvent"in window&&!Qo,PT=Qn&&(!sm||Qo&&8<Qo&&11>=Qo),qv=" ",Kv=!1;function bT(t,e){switch(t){case"keyup":return zR.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function NT(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ss=!1;function WR(t,e){switch(t){case"compositionend":return NT(e);case"keypress":return e.which!==32?null:(Kv=!0,qv);case"textInput":return t=e.data,t===qv&&Kv?null:t;default:return null}}function qR(t,e){if(ss)return t==="compositionend"||!sm&&bT(t,e)?(t=RT(),wu=nm=Sr=null,ss=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return PT&&e.locale!=="ko"?null:e.data;default:return null}}var KR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!KR[t.type]:e==="textarea"}function DT(t,e,n,r){cT(r),e=Ju(e,"onChange"),0<e.length&&(n=new rm("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Yo=null,wa=null;function GR(t){HT(t,0)}function zc(t){var e=ls(t);if(rT(e))return t}function QR(t,e){if(t==="change")return e}var VT=!1;if(Qn){var ad;if(Qn){var ld="oninput"in document;if(!ld){var Qv=document.createElement("div");Qv.setAttribute("oninput","return;"),ld=typeof Qv.oninput=="function"}ad=ld}else ad=!1;VT=ad&&(!document.documentMode||9<document.documentMode)}function Yv(){Yo&&(Yo.detachEvent("onpropertychange",LT),wa=Yo=null)}function LT(t){if(t.propertyName==="value"&&zc(wa)){var e=[];DT(e,wa,t,Xp(t)),pT(GR,e)}}function YR(t,e,n){t==="focusin"?(Yv(),Yo=e,wa=n,Yo.attachEvent("onpropertychange",LT)):t==="focusout"&&Yv()}function XR(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return zc(wa)}function JR(t,e){if(t==="click")return zc(e)}function ZR(t,e){if(t==="input"||t==="change")return zc(e)}function eP(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var cn=typeof Object.is=="function"?Object.is:eP;function Ea(t,e){if(cn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Jd.call(e,i)||!cn(t[i],e[i]))return!1}return!0}function Xv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Jv(t,e){var n=Xv(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Xv(n)}}function OT(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?OT(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function MT(){for(var t=window,e=Wu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Wu(t.document)}return e}function om(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function tP(t){var e=MT(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&OT(n.ownerDocument.documentElement,n)){if(r!==null&&om(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Jv(n,s);var o=Jv(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var nP=Qn&&"documentMode"in document&&11>=document.documentMode,os=null,vf=null,Xo=null,_f=!1;function Zv(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;_f||os==null||os!==Wu(r)||(r=os,"selectionStart"in r&&om(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Xo&&Ea(Xo,r)||(Xo=r,r=Ju(vf,"onSelect"),0<r.length&&(e=new rm("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=os)))}function Gl(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var as={animationend:Gl("Animation","AnimationEnd"),animationiteration:Gl("Animation","AnimationIteration"),animationstart:Gl("Animation","AnimationStart"),transitionend:Gl("Transition","TransitionEnd")},ud={},jT={};Qn&&(jT=document.createElement("div").style,"AnimationEvent"in window||(delete as.animationend.animation,delete as.animationiteration.animation,delete as.animationstart.animation),"TransitionEvent"in window||delete as.transitionend.transition);function Hc(t){if(ud[t])return ud[t];if(!as[t])return t;var e=as[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in jT)return ud[t]=e[n];return t}var FT=Hc("animationend"),UT=Hc("animationiteration"),BT=Hc("animationstart"),$T=Hc("transitionend"),zT=new Map,e0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xr(t,e){zT.set(t,e),Fi(e,[t])}for(var cd=0;cd<e0.length;cd++){var hd=e0[cd],rP=hd.toLowerCase(),iP=hd[0].toUpperCase()+hd.slice(1);Xr(rP,"on"+iP)}Xr(FT,"onAnimationEnd");Xr(UT,"onAnimationIteration");Xr(BT,"onAnimationStart");Xr("dblclick","onDoubleClick");Xr("focusin","onFocus");Xr("focusout","onBlur");Xr($T,"onTransitionEnd");bs("onMouseEnter",["mouseout","mouseover"]);bs("onMouseLeave",["mouseout","mouseover"]);bs("onPointerEnter",["pointerout","pointerover"]);bs("onPointerLeave",["pointerout","pointerover"]);Fi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Fi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Fi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Fi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Fi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Fi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sP=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fo));function t0(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,rR(r,e,void 0,t),t.currentTarget=null}function HT(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;t0(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;t0(i,a,c),s=l}}}if(Ku)throw t=pf,Ku=!1,pf=null,t}function pe(t,e){var n=e[Sf];n===void 0&&(n=e[Sf]=new Set);var r=t+"__bubble";n.has(r)||(WT(e,t,2,!1),n.add(r))}function dd(t,e,n){var r=0;e&&(r|=4),WT(n,t,r,e)}var Ql="_reactListening"+Math.random().toString(36).slice(2);function Ta(t){if(!t[Ql]){t[Ql]=!0,JE.forEach(function(n){n!=="selectionchange"&&(sP.has(n)||dd(n,!1,t),dd(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ql]||(e[Ql]=!0,dd("selectionchange",!1,e))}}function WT(t,e,n,r){switch(CT(e)){case 1:var i=_R;break;case 4:i=wR;break;default:i=tm}n=i.bind(null,e,n,t),i=void 0,!ff||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function fd(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=mi(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}pT(function(){var c=s,h=Xp(n),d=[];e:{var m=zT.get(t);if(m!==void 0){var y=rm,E=t;switch(t){case"keypress":if(Eu(n)===0)break e;case"keydown":case"keyup":y=LR;break;case"focusin":E="focus",y=od;break;case"focusout":E="blur",y=od;break;case"beforeblur":case"afterblur":y=od;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=zv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=xR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=jR;break;case FT:case UT:case BT:y=AR;break;case $T:y=UR;break;case"scroll":y=ER;break;case"wheel":y=$R;break;case"copy":case"cut":case"paste":y=CR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Wv}var I=(e&4)!==0,R=!I&&t==="scroll",v=I?m!==null?m+"Capture":null:m;I=[];for(var _=c,x;_!==null;){x=_;var N=x.stateNode;if(x.tag===5&&N!==null&&(x=N,v!==null&&(N=ga(_,v),N!=null&&I.push(xa(_,N,x)))),R)break;_=_.return}0<I.length&&(m=new y(m,E,null,n,h),d.push({event:m,listeners:I}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",m&&n!==hf&&(E=n.relatedTarget||n.fromElement)&&(mi(E)||E[Yn]))break e;if((y||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,y?(E=n.relatedTarget||n.toElement,y=c,E=E?mi(E):null,E!==null&&(R=Ui(E),E!==R||E.tag!==5&&E.tag!==6)&&(E=null)):(y=null,E=c),y!==E)){if(I=zv,N="onMouseLeave",v="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(I=Wv,N="onPointerLeave",v="onPointerEnter",_="pointer"),R=y==null?m:ls(y),x=E==null?m:ls(E),m=new I(N,_+"leave",y,n,h),m.target=R,m.relatedTarget=x,N=null,mi(h)===c&&(I=new I(v,_+"enter",E,n,h),I.target=x,I.relatedTarget=R,N=I),R=N,y&&E)t:{for(I=y,v=E,_=0,x=I;x;x=Ji(x))_++;for(x=0,N=v;N;N=Ji(N))x++;for(;0<_-x;)I=Ji(I),_--;for(;0<x-_;)v=Ji(v),x--;for(;_--;){if(I===v||v!==null&&I===v.alternate)break t;I=Ji(I),v=Ji(v)}I=null}else I=null;y!==null&&n0(d,m,y,I,!1),E!==null&&R!==null&&n0(d,R,E,I,!0)}}e:{if(m=c?ls(c):window,y=m.nodeName&&m.nodeName.toLowerCase(),y==="select"||y==="input"&&m.type==="file")var L=QR;else if(Gv(m))if(VT)L=ZR;else{L=XR;var M=YR}else(y=m.nodeName)&&y.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(L=JR);if(L&&(L=L(t,c))){DT(d,L,n,h);break e}M&&M(t,m,c),t==="focusout"&&(M=m._wrapperState)&&M.controlled&&m.type==="number"&&of(m,"number",m.value)}switch(M=c?ls(c):window,t){case"focusin":(Gv(M)||M.contentEditable==="true")&&(os=M,vf=c,Xo=null);break;case"focusout":Xo=vf=os=null;break;case"mousedown":_f=!0;break;case"contextmenu":case"mouseup":case"dragend":_f=!1,Zv(d,n,h);break;case"selectionchange":if(nP)break;case"keydown":case"keyup":Zv(d,n,h)}var S;if(sm)e:{switch(t){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else ss?bT(t,n)&&(w="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(w="onCompositionStart");w&&(PT&&n.locale!=="ko"&&(ss||w!=="onCompositionStart"?w==="onCompositionEnd"&&ss&&(S=RT()):(Sr=h,nm="value"in Sr?Sr.value:Sr.textContent,ss=!0)),M=Ju(c,w),0<M.length&&(w=new Hv(w,t,null,n,h),d.push({event:w,listeners:M}),S?w.data=S:(S=NT(n),S!==null&&(w.data=S)))),(S=HR?WR(t,n):qR(t,n))&&(c=Ju(c,"onBeforeInput"),0<c.length&&(h=new Hv("onBeforeInput","beforeinput",null,n,h),d.push({event:h,listeners:c}),h.data=S))}HT(d,e)})}function xa(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ju(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=ga(t,n),s!=null&&r.unshift(xa(t,s,i)),s=ga(t,e),s!=null&&r.push(xa(t,s,i))),t=t.return}return r}function Ji(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function n0(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=ga(n,s),l!=null&&o.unshift(xa(n,l,a))):i||(l=ga(n,s),l!=null&&o.push(xa(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var oP=/\r\n?/g,aP=/\u0000|\uFFFD/g;function r0(t){return(typeof t=="string"?t:""+t).replace(oP,`
`).replace(aP,"")}function Yl(t,e,n){if(e=r0(e),r0(t)!==e&&n)throw Error(U(425))}function Zu(){}var wf=null,Ef=null;function Tf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var xf=typeof setTimeout=="function"?setTimeout:void 0,lP=typeof clearTimeout=="function"?clearTimeout:void 0,i0=typeof Promise=="function"?Promise:void 0,uP=typeof queueMicrotask=="function"?queueMicrotask:typeof i0<"u"?function(t){return i0.resolve(null).then(t).catch(cP)}:xf;function cP(t){setTimeout(function(){throw t})}function pd(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),_a(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);_a(e)}function Pr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function s0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Qs=Math.random().toString(36).slice(2),mn="__reactFiber$"+Qs,Sa="__reactProps$"+Qs,Yn="__reactContainer$"+Qs,Sf="__reactEvents$"+Qs,hP="__reactListeners$"+Qs,dP="__reactHandles$"+Qs;function mi(t){var e=t[mn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Yn]||n[mn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=s0(t);t!==null;){if(n=t[mn])return n;t=s0(t)}return e}t=n,n=t.parentNode}return null}function Ja(t){return t=t[mn]||t[Yn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ls(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(U(33))}function Wc(t){return t[Sa]||null}var If=[],us=-1;function Jr(t){return{current:t}}function ge(t){0>us||(t.current=If[us],If[us]=null,us--)}function he(t,e){us++,If[us]=t.current,t.current=e}var Ur={},ht=Jr(Ur),Ct=Jr(!1),ki=Ur;function Ns(t,e){var n=t.type.contextTypes;if(!n)return Ur;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Rt(t){return t=t.childContextTypes,t!=null}function ec(){ge(Ct),ge(ht)}function o0(t,e,n){if(ht.current!==Ur)throw Error(U(168));he(ht,e),he(Ct,n)}function qT(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(U(108,YC(t)||"Unknown",i));return Ie({},n,r)}function tc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ur,ki=ht.current,he(ht,t),he(Ct,Ct.current),!0}function a0(t,e,n){var r=t.stateNode;if(!r)throw Error(U(169));n?(t=qT(t,e,ki),r.__reactInternalMemoizedMergedChildContext=t,ge(Ct),ge(ht),he(ht,t)):ge(Ct),he(Ct,n)}var Fn=null,qc=!1,md=!1;function KT(t){Fn===null?Fn=[t]:Fn.push(t)}function fP(t){qc=!0,KT(t)}function Zr(){if(!md&&Fn!==null){md=!0;var t=0,e=le;try{var n=Fn;for(le=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Fn=null,qc=!1}catch(i){throw Fn!==null&&(Fn=Fn.slice(t+1)),vT(Jp,Zr),i}finally{le=e,md=!1}}return null}var cs=[],hs=0,nc=null,rc=0,$t=[],zt=0,Ci=null,Bn=1,$n="";function hi(t,e){cs[hs++]=rc,cs[hs++]=nc,nc=t,rc=e}function GT(t,e,n){$t[zt++]=Bn,$t[zt++]=$n,$t[zt++]=Ci,Ci=t;var r=Bn;t=$n;var i=32-an(r)-1;r&=~(1<<i),n+=1;var s=32-an(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Bn=1<<32-an(e)+i|n<<i|r,$n=s+t}else Bn=1<<s|n<<i|r,$n=t}function am(t){t.return!==null&&(hi(t,1),GT(t,1,0))}function lm(t){for(;t===nc;)nc=cs[--hs],cs[hs]=null,rc=cs[--hs],cs[hs]=null;for(;t===Ci;)Ci=$t[--zt],$t[zt]=null,$n=$t[--zt],$t[zt]=null,Bn=$t[--zt],$t[zt]=null}var Ot=null,Vt=null,ve=!1,rn=null;function QT(t,e){var n=Wt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function l0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ot=t,Vt=Pr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ot=t,Vt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ci!==null?{id:Bn,overflow:$n}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Wt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ot=t,Vt=null,!0):!1;default:return!1}}function Af(t){return(t.mode&1)!==0&&(t.flags&128)===0}function kf(t){if(ve){var e=Vt;if(e){var n=e;if(!l0(t,e)){if(Af(t))throw Error(U(418));e=Pr(n.nextSibling);var r=Ot;e&&l0(t,e)?QT(r,n):(t.flags=t.flags&-4097|2,ve=!1,Ot=t)}}else{if(Af(t))throw Error(U(418));t.flags=t.flags&-4097|2,ve=!1,Ot=t}}}function u0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ot=t}function Xl(t){if(t!==Ot)return!1;if(!ve)return u0(t),ve=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Tf(t.type,t.memoizedProps)),e&&(e=Vt)){if(Af(t))throw YT(),Error(U(418));for(;e;)QT(t,e),e=Pr(e.nextSibling)}if(u0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(U(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Vt=Pr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Vt=null}}else Vt=Ot?Pr(t.stateNode.nextSibling):null;return!0}function YT(){for(var t=Vt;t;)t=Pr(t.nextSibling)}function Ds(){Vt=Ot=null,ve=!1}function um(t){rn===null?rn=[t]:rn.push(t)}var pP=ar.ReactCurrentBatchConfig;function Ao(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(U(309));var r=n.stateNode}if(!r)throw Error(U(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(U(284));if(!n._owner)throw Error(U(290,t))}return t}function Jl(t,e){throw t=Object.prototype.toString.call(e),Error(U(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function c0(t){var e=t._init;return e(t._payload)}function XT(t){function e(v,_){if(t){var x=v.deletions;x===null?(v.deletions=[_],v.flags|=16):x.push(_)}}function n(v,_){if(!t)return null;for(;_!==null;)e(v,_),_=_.sibling;return null}function r(v,_){for(v=new Map;_!==null;)_.key!==null?v.set(_.key,_):v.set(_.index,_),_=_.sibling;return v}function i(v,_){return v=Vr(v,_),v.index=0,v.sibling=null,v}function s(v,_,x){return v.index=x,t?(x=v.alternate,x!==null?(x=x.index,x<_?(v.flags|=2,_):x):(v.flags|=2,_)):(v.flags|=1048576,_)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,_,x,N){return _===null||_.tag!==6?(_=Td(x,v.mode,N),_.return=v,_):(_=i(_,x),_.return=v,_)}function l(v,_,x,N){var L=x.type;return L===is?h(v,_,x.props.children,N,x.key):_!==null&&(_.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===gr&&c0(L)===_.type)?(N=i(_,x.props),N.ref=Ao(v,_,x),N.return=v,N):(N=Cu(x.type,x.key,x.props,null,v.mode,N),N.ref=Ao(v,_,x),N.return=v,N)}function c(v,_,x,N){return _===null||_.tag!==4||_.stateNode.containerInfo!==x.containerInfo||_.stateNode.implementation!==x.implementation?(_=xd(x,v.mode,N),_.return=v,_):(_=i(_,x.children||[]),_.return=v,_)}function h(v,_,x,N,L){return _===null||_.tag!==7?(_=xi(x,v.mode,N,L),_.return=v,_):(_=i(_,x),_.return=v,_)}function d(v,_,x){if(typeof _=="string"&&_!==""||typeof _=="number")return _=Td(""+_,v.mode,x),_.return=v,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Bl:return x=Cu(_.type,_.key,_.props,null,v.mode,x),x.ref=Ao(v,null,_),x.return=v,x;case rs:return _=xd(_,v.mode,x),_.return=v,_;case gr:var N=_._init;return d(v,N(_._payload),x)}if(Mo(_)||Eo(_))return _=xi(_,v.mode,x,null),_.return=v,_;Jl(v,_)}return null}function m(v,_,x,N){var L=_!==null?_.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return L!==null?null:a(v,_,""+x,N);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Bl:return x.key===L?l(v,_,x,N):null;case rs:return x.key===L?c(v,_,x,N):null;case gr:return L=x._init,m(v,_,L(x._payload),N)}if(Mo(x)||Eo(x))return L!==null?null:h(v,_,x,N,null);Jl(v,x)}return null}function y(v,_,x,N,L){if(typeof N=="string"&&N!==""||typeof N=="number")return v=v.get(x)||null,a(_,v,""+N,L);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Bl:return v=v.get(N.key===null?x:N.key)||null,l(_,v,N,L);case rs:return v=v.get(N.key===null?x:N.key)||null,c(_,v,N,L);case gr:var M=N._init;return y(v,_,x,M(N._payload),L)}if(Mo(N)||Eo(N))return v=v.get(x)||null,h(_,v,N,L,null);Jl(_,N)}return null}function E(v,_,x,N){for(var L=null,M=null,S=_,w=_=0,A=null;S!==null&&w<x.length;w++){S.index>w?(A=S,S=null):A=S.sibling;var k=m(v,S,x[w],N);if(k===null){S===null&&(S=A);break}t&&S&&k.alternate===null&&e(v,S),_=s(k,_,w),M===null?L=k:M.sibling=k,M=k,S=A}if(w===x.length)return n(v,S),ve&&hi(v,w),L;if(S===null){for(;w<x.length;w++)S=d(v,x[w],N),S!==null&&(_=s(S,_,w),M===null?L=S:M.sibling=S,M=S);return ve&&hi(v,w),L}for(S=r(v,S);w<x.length;w++)A=y(S,v,w,x[w],N),A!==null&&(t&&A.alternate!==null&&S.delete(A.key===null?w:A.key),_=s(A,_,w),M===null?L=A:M.sibling=A,M=A);return t&&S.forEach(function(b){return e(v,b)}),ve&&hi(v,w),L}function I(v,_,x,N){var L=Eo(x);if(typeof L!="function")throw Error(U(150));if(x=L.call(x),x==null)throw Error(U(151));for(var M=L=null,S=_,w=_=0,A=null,k=x.next();S!==null&&!k.done;w++,k=x.next()){S.index>w?(A=S,S=null):A=S.sibling;var b=m(v,S,k.value,N);if(b===null){S===null&&(S=A);break}t&&S&&b.alternate===null&&e(v,S),_=s(b,_,w),M===null?L=b:M.sibling=b,M=b,S=A}if(k.done)return n(v,S),ve&&hi(v,w),L;if(S===null){for(;!k.done;w++,k=x.next())k=d(v,k.value,N),k!==null&&(_=s(k,_,w),M===null?L=k:M.sibling=k,M=k);return ve&&hi(v,w),L}for(S=r(v,S);!k.done;w++,k=x.next())k=y(S,v,w,k.value,N),k!==null&&(t&&k.alternate!==null&&S.delete(k.key===null?w:k.key),_=s(k,_,w),M===null?L=k:M.sibling=k,M=k);return t&&S.forEach(function(D){return e(v,D)}),ve&&hi(v,w),L}function R(v,_,x,N){if(typeof x=="object"&&x!==null&&x.type===is&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Bl:e:{for(var L=x.key,M=_;M!==null;){if(M.key===L){if(L=x.type,L===is){if(M.tag===7){n(v,M.sibling),_=i(M,x.props.children),_.return=v,v=_;break e}}else if(M.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===gr&&c0(L)===M.type){n(v,M.sibling),_=i(M,x.props),_.ref=Ao(v,M,x),_.return=v,v=_;break e}n(v,M);break}else e(v,M);M=M.sibling}x.type===is?(_=xi(x.props.children,v.mode,N,x.key),_.return=v,v=_):(N=Cu(x.type,x.key,x.props,null,v.mode,N),N.ref=Ao(v,_,x),N.return=v,v=N)}return o(v);case rs:e:{for(M=x.key;_!==null;){if(_.key===M)if(_.tag===4&&_.stateNode.containerInfo===x.containerInfo&&_.stateNode.implementation===x.implementation){n(v,_.sibling),_=i(_,x.children||[]),_.return=v,v=_;break e}else{n(v,_);break}else e(v,_);_=_.sibling}_=xd(x,v.mode,N),_.return=v,v=_}return o(v);case gr:return M=x._init,R(v,_,M(x._payload),N)}if(Mo(x))return E(v,_,x,N);if(Eo(x))return I(v,_,x,N);Jl(v,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,_!==null&&_.tag===6?(n(v,_.sibling),_=i(_,x),_.return=v,v=_):(n(v,_),_=Td(x,v.mode,N),_.return=v,v=_),o(v)):n(v,_)}return R}var Vs=XT(!0),JT=XT(!1),ic=Jr(null),sc=null,ds=null,cm=null;function hm(){cm=ds=sc=null}function dm(t){var e=ic.current;ge(ic),t._currentValue=e}function Cf(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ss(t,e){sc=t,cm=ds=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(At=!0),t.firstContext=null)}function Gt(t){var e=t._currentValue;if(cm!==t)if(t={context:t,memoizedValue:e,next:null},ds===null){if(sc===null)throw Error(U(308));ds=t,sc.dependencies={lanes:0,firstContext:t}}else ds=ds.next=t;return e}var gi=null;function fm(t){gi===null?gi=[t]:gi.push(t)}function ZT(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,fm(e)):(n.next=i.next,i.next=n),e.interleaved=n,Xn(t,r)}function Xn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var yr=!1;function pm(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ex(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Wn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function br(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,se&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Xn(t,n)}return i=r.interleaved,i===null?(e.next=e,fm(r)):(e.next=i.next,i.next=e),r.interleaved=e,Xn(t,n)}function Tu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Zp(t,n)}}function h0(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function oc(t,e,n,r){var i=t.updateQueue;yr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,h=c=l=null,a=s;do{var m=a.lane,y=a.eventTime;if((r&m)===m){h!==null&&(h=h.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var E=t,I=a;switch(m=e,y=n,I.tag){case 1:if(E=I.payload,typeof E=="function"){d=E.call(y,d,m);break e}d=E;break e;case 3:E.flags=E.flags&-65537|128;case 0:if(E=I.payload,m=typeof E=="function"?E.call(y,d,m):E,m==null)break e;d=Ie({},d,m);break e;case 2:yr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[a]:m.push(a))}else y={eventTime:y,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(c=h=y,l=d):h=h.next=y,o|=m;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;m=a,a=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(h===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Pi|=o,t.lanes=o,t.memoizedState=d}}function d0(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(U(191,i));i.call(r)}}}var Za={},vn=Jr(Za),Ia=Jr(Za),Aa=Jr(Za);function yi(t){if(t===Za)throw Error(U(174));return t}function mm(t,e){switch(he(Aa,e),he(Ia,t),he(vn,Za),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:lf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=lf(e,t)}ge(vn),he(vn,e)}function Ls(){ge(vn),ge(Ia),ge(Aa)}function tx(t){yi(Aa.current);var e=yi(vn.current),n=lf(e,t.type);e!==n&&(he(Ia,t),he(vn,n))}function gm(t){Ia.current===t&&(ge(vn),ge(Ia))}var we=Jr(0);function ac(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var gd=[];function ym(){for(var t=0;t<gd.length;t++)gd[t]._workInProgressVersionPrimary=null;gd.length=0}var xu=ar.ReactCurrentDispatcher,yd=ar.ReactCurrentBatchConfig,Ri=0,Te=null,Ue=null,We=null,lc=!1,Jo=!1,ka=0,mP=0;function it(){throw Error(U(321))}function vm(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!cn(t[n],e[n]))return!1;return!0}function _m(t,e,n,r,i,s){if(Ri=s,Te=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,xu.current=t===null||t.memoizedState===null?_P:wP,t=n(r,i),Jo){s=0;do{if(Jo=!1,ka=0,25<=s)throw Error(U(301));s+=1,We=Ue=null,e.updateQueue=null,xu.current=EP,t=n(r,i)}while(Jo)}if(xu.current=uc,e=Ue!==null&&Ue.next!==null,Ri=0,We=Ue=Te=null,lc=!1,e)throw Error(U(300));return t}function wm(){var t=ka!==0;return ka=0,t}function fn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return We===null?Te.memoizedState=We=t:We=We.next=t,We}function Qt(){if(Ue===null){var t=Te.alternate;t=t!==null?t.memoizedState:null}else t=Ue.next;var e=We===null?Te.memoizedState:We.next;if(e!==null)We=e,Ue=t;else{if(t===null)throw Error(U(310));Ue=t,t={memoizedState:Ue.memoizedState,baseState:Ue.baseState,baseQueue:Ue.baseQueue,queue:Ue.queue,next:null},We===null?Te.memoizedState=We=t:We=We.next=t}return We}function Ca(t,e){return typeof e=="function"?e(t):e}function vd(t){var e=Qt(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var r=Ue,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var h=c.lane;if((Ri&h)===h)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,Te.lanes|=h,Pi|=h}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,cn(r,e.memoizedState)||(At=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Te.lanes|=s,Pi|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function _d(t){var e=Qt(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);cn(s,e.memoizedState)||(At=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function nx(){}function rx(t,e){var n=Te,r=Qt(),i=e(),s=!cn(r.memoizedState,i);if(s&&(r.memoizedState=i,At=!0),r=r.queue,Em(ox.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||We!==null&&We.memoizedState.tag&1){if(n.flags|=2048,Ra(9,sx.bind(null,n,r,i,e),void 0,null),qe===null)throw Error(U(349));Ri&30||ix(n,e,i)}return i}function ix(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Te.updateQueue,e===null?(e={lastEffect:null,stores:null},Te.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function sx(t,e,n,r){e.value=n,e.getSnapshot=r,ax(e)&&lx(t)}function ox(t,e,n){return n(function(){ax(e)&&lx(t)})}function ax(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!cn(t,n)}catch{return!0}}function lx(t){var e=Xn(t,1);e!==null&&ln(e,t,1,-1)}function f0(t){var e=fn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ca,lastRenderedState:t},e.queue=t,t=t.dispatch=vP.bind(null,Te,t),[e.memoizedState,t]}function Ra(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Te.updateQueue,e===null?(e={lastEffect:null,stores:null},Te.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function ux(){return Qt().memoizedState}function Su(t,e,n,r){var i=fn();Te.flags|=t,i.memoizedState=Ra(1|e,n,void 0,r===void 0?null:r)}function Kc(t,e,n,r){var i=Qt();r=r===void 0?null:r;var s=void 0;if(Ue!==null){var o=Ue.memoizedState;if(s=o.destroy,r!==null&&vm(r,o.deps)){i.memoizedState=Ra(e,n,s,r);return}}Te.flags|=t,i.memoizedState=Ra(1|e,n,s,r)}function p0(t,e){return Su(8390656,8,t,e)}function Em(t,e){return Kc(2048,8,t,e)}function cx(t,e){return Kc(4,2,t,e)}function hx(t,e){return Kc(4,4,t,e)}function dx(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function fx(t,e,n){return n=n!=null?n.concat([t]):null,Kc(4,4,dx.bind(null,e,t),n)}function Tm(){}function px(t,e){var n=Qt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&vm(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function mx(t,e){var n=Qt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&vm(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function gx(t,e,n){return Ri&21?(cn(n,e)||(n=ET(),Te.lanes|=n,Pi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,At=!0),t.memoizedState=n)}function gP(t,e){var n=le;le=n!==0&&4>n?n:4,t(!0);var r=yd.transition;yd.transition={};try{t(!1),e()}finally{le=n,yd.transition=r}}function yx(){return Qt().memoizedState}function yP(t,e,n){var r=Dr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},vx(t))_x(e,n);else if(n=ZT(t,e,n,r),n!==null){var i=_t();ln(n,t,r,i),wx(n,e,r)}}function vP(t,e,n){var r=Dr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(vx(t))_x(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,cn(a,o)){var l=e.interleaved;l===null?(i.next=i,fm(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=ZT(t,e,i,r),n!==null&&(i=_t(),ln(n,t,r,i),wx(n,e,r))}}function vx(t){var e=t.alternate;return t===Te||e!==null&&e===Te}function _x(t,e){Jo=lc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function wx(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Zp(t,n)}}var uc={readContext:Gt,useCallback:it,useContext:it,useEffect:it,useImperativeHandle:it,useInsertionEffect:it,useLayoutEffect:it,useMemo:it,useReducer:it,useRef:it,useState:it,useDebugValue:it,useDeferredValue:it,useTransition:it,useMutableSource:it,useSyncExternalStore:it,useId:it,unstable_isNewReconciler:!1},_P={readContext:Gt,useCallback:function(t,e){return fn().memoizedState=[t,e===void 0?null:e],t},useContext:Gt,useEffect:p0,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Su(4194308,4,dx.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Su(4194308,4,t,e)},useInsertionEffect:function(t,e){return Su(4,2,t,e)},useMemo:function(t,e){var n=fn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=fn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=yP.bind(null,Te,t),[r.memoizedState,t]},useRef:function(t){var e=fn();return t={current:t},e.memoizedState=t},useState:f0,useDebugValue:Tm,useDeferredValue:function(t){return fn().memoizedState=t},useTransition:function(){var t=f0(!1),e=t[0];return t=gP.bind(null,t[1]),fn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Te,i=fn();if(ve){if(n===void 0)throw Error(U(407));n=n()}else{if(n=e(),qe===null)throw Error(U(349));Ri&30||ix(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,p0(ox.bind(null,r,s,t),[t]),r.flags|=2048,Ra(9,sx.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=fn(),e=qe.identifierPrefix;if(ve){var n=$n,r=Bn;n=(r&~(1<<32-an(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ka++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=mP++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},wP={readContext:Gt,useCallback:px,useContext:Gt,useEffect:Em,useImperativeHandle:fx,useInsertionEffect:cx,useLayoutEffect:hx,useMemo:mx,useReducer:vd,useRef:ux,useState:function(){return vd(Ca)},useDebugValue:Tm,useDeferredValue:function(t){var e=Qt();return gx(e,Ue.memoizedState,t)},useTransition:function(){var t=vd(Ca)[0],e=Qt().memoizedState;return[t,e]},useMutableSource:nx,useSyncExternalStore:rx,useId:yx,unstable_isNewReconciler:!1},EP={readContext:Gt,useCallback:px,useContext:Gt,useEffect:Em,useImperativeHandle:fx,useInsertionEffect:cx,useLayoutEffect:hx,useMemo:mx,useReducer:_d,useRef:ux,useState:function(){return _d(Ca)},useDebugValue:Tm,useDeferredValue:function(t){var e=Qt();return Ue===null?e.memoizedState=t:gx(e,Ue.memoizedState,t)},useTransition:function(){var t=_d(Ca)[0],e=Qt().memoizedState;return[t,e]},useMutableSource:nx,useSyncExternalStore:rx,useId:yx,unstable_isNewReconciler:!1};function tn(t,e){if(t&&t.defaultProps){e=Ie({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Rf(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ie({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Gc={isMounted:function(t){return(t=t._reactInternals)?Ui(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=_t(),i=Dr(t),s=Wn(r,i);s.payload=e,n!=null&&(s.callback=n),e=br(t,s,i),e!==null&&(ln(e,t,i,r),Tu(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=_t(),i=Dr(t),s=Wn(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=br(t,s,i),e!==null&&(ln(e,t,i,r),Tu(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=_t(),r=Dr(t),i=Wn(n,r);i.tag=2,e!=null&&(i.callback=e),e=br(t,i,r),e!==null&&(ln(e,t,r,n),Tu(e,t,r))}};function m0(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Ea(n,r)||!Ea(i,s):!0}function Ex(t,e,n){var r=!1,i=Ur,s=e.contextType;return typeof s=="object"&&s!==null?s=Gt(s):(i=Rt(e)?ki:ht.current,r=e.contextTypes,s=(r=r!=null)?Ns(t,i):Ur),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Gc,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function g0(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Gc.enqueueReplaceState(e,e.state,null)}function Pf(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},pm(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Gt(s):(s=Rt(e)?ki:ht.current,i.context=Ns(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Rf(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Gc.enqueueReplaceState(i,i.state,null),oc(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Os(t,e){try{var n="",r=e;do n+=QC(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function wd(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function bf(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var TP=typeof WeakMap=="function"?WeakMap:Map;function Tx(t,e,n){n=Wn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){hc||(hc=!0,Bf=r),bf(t,e)},n}function xx(t,e,n){n=Wn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){bf(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){bf(t,e),typeof r!="function"&&(Nr===null?Nr=new Set([this]):Nr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function y0(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new TP;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=OP.bind(null,t,e,n),e.then(t,t))}function v0(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function _0(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Wn(-1,1),e.tag=2,br(n,e,1))),n.lanes|=1),t)}var xP=ar.ReactCurrentOwner,At=!1;function yt(t,e,n,r){e.child=t===null?JT(e,null,n,r):Vs(e,t.child,n,r)}function w0(t,e,n,r,i){n=n.render;var s=e.ref;return Ss(e,i),r=_m(t,e,n,r,s,i),n=wm(),t!==null&&!At?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Jn(t,e,i)):(ve&&n&&am(e),e.flags|=1,yt(t,e,r,i),e.child)}function E0(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Pm(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,Sx(t,e,s,r,i)):(t=Cu(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Ea,n(o,r)&&t.ref===e.ref)return Jn(t,e,i)}return e.flags|=1,t=Vr(s,r),t.ref=e.ref,t.return=e,e.child=t}function Sx(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Ea(s,r)&&t.ref===e.ref)if(At=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(At=!0);else return e.lanes=t.lanes,Jn(t,e,i)}return Nf(t,e,n,r,i)}function Ix(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},he(ps,Dt),Dt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,he(ps,Dt),Dt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,he(ps,Dt),Dt|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,he(ps,Dt),Dt|=r;return yt(t,e,i,n),e.child}function Ax(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Nf(t,e,n,r,i){var s=Rt(n)?ki:ht.current;return s=Ns(e,s),Ss(e,i),n=_m(t,e,n,r,s,i),r=wm(),t!==null&&!At?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Jn(t,e,i)):(ve&&r&&am(e),e.flags|=1,yt(t,e,n,i),e.child)}function T0(t,e,n,r,i){if(Rt(n)){var s=!0;tc(e)}else s=!1;if(Ss(e,i),e.stateNode===null)Iu(t,e),Ex(e,n,r),Pf(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Gt(c):(c=Rt(n)?ki:ht.current,c=Ns(e,c));var h=n.getDerivedStateFromProps,d=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&g0(e,o,r,c),yr=!1;var m=e.memoizedState;o.state=m,oc(e,r,o,i),l=e.memoizedState,a!==r||m!==l||Ct.current||yr?(typeof h=="function"&&(Rf(e,n,h,r),l=e.memoizedState),(a=yr||m0(e,n,a,r,m,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,ex(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:tn(e.type,a),o.props=c,d=e.pendingProps,m=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Gt(l):(l=Rt(n)?ki:ht.current,l=Ns(e,l));var y=n.getDerivedStateFromProps;(h=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||m!==l)&&g0(e,o,r,l),yr=!1,m=e.memoizedState,o.state=m,oc(e,r,o,i);var E=e.memoizedState;a!==d||m!==E||Ct.current||yr?(typeof y=="function"&&(Rf(e,n,y,r),E=e.memoizedState),(c=yr||m0(e,n,c,r,m,E,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,E,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,E,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=E),o.props=r,o.state=E,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return Df(t,e,n,r,s,i)}function Df(t,e,n,r,i,s){Ax(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&a0(e,n,!1),Jn(t,e,s);r=e.stateNode,xP.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Vs(e,t.child,null,s),e.child=Vs(e,null,a,s)):yt(t,e,a,s),e.memoizedState=r.state,i&&a0(e,n,!0),e.child}function kx(t){var e=t.stateNode;e.pendingContext?o0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&o0(t,e.context,!1),mm(t,e.containerInfo)}function x0(t,e,n,r,i){return Ds(),um(i),e.flags|=256,yt(t,e,n,r),e.child}var Vf={dehydrated:null,treeContext:null,retryLane:0};function Lf(t){return{baseLanes:t,cachePool:null,transitions:null}}function Cx(t,e,n){var r=e.pendingProps,i=we.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),he(we,i&1),t===null)return kf(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Xc(o,r,0,null),t=xi(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Lf(n),e.memoizedState=Vf,t):xm(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return SP(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Vr(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Vr(a,s):(s=xi(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Lf(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Vf,r}return s=t.child,t=s.sibling,r=Vr(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function xm(t,e){return e=Xc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Zl(t,e,n,r){return r!==null&&um(r),Vs(e,t.child,null,n),t=xm(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function SP(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=wd(Error(U(422))),Zl(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Xc({mode:"visible",children:r.children},i,0,null),s=xi(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Vs(e,t.child,null,o),e.child.memoizedState=Lf(o),e.memoizedState=Vf,s);if(!(e.mode&1))return Zl(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(U(419)),r=wd(s,r,void 0),Zl(t,e,o,r)}if(a=(o&t.childLanes)!==0,At||a){if(r=qe,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Xn(t,i),ln(r,t,i,-1))}return Rm(),r=wd(Error(U(421))),Zl(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=MP.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Vt=Pr(i.nextSibling),Ot=e,ve=!0,rn=null,t!==null&&($t[zt++]=Bn,$t[zt++]=$n,$t[zt++]=Ci,Bn=t.id,$n=t.overflow,Ci=e),e=xm(e,r.children),e.flags|=4096,e)}function S0(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Cf(t.return,e,n)}function Ed(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Rx(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(yt(t,e,r.children,n),r=we.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&S0(t,n,e);else if(t.tag===19)S0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(he(we,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&ac(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Ed(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&ac(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Ed(e,!0,n,null,s);break;case"together":Ed(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Iu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Jn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Pi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(U(153));if(e.child!==null){for(t=e.child,n=Vr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Vr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function IP(t,e,n){switch(e.tag){case 3:kx(e),Ds();break;case 5:tx(e);break;case 1:Rt(e.type)&&tc(e);break;case 4:mm(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;he(ic,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(he(we,we.current&1),e.flags|=128,null):n&e.child.childLanes?Cx(t,e,n):(he(we,we.current&1),t=Jn(t,e,n),t!==null?t.sibling:null);he(we,we.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Rx(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),he(we,we.current),r)break;return null;case 22:case 23:return e.lanes=0,Ix(t,e,n)}return Jn(t,e,n)}var Px,Of,bx,Nx;Px=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Of=function(){};bx=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,yi(vn.current);var s=null;switch(n){case"input":i=rf(t,i),r=rf(t,r),s=[];break;case"select":i=Ie({},i,{value:void 0}),r=Ie({},r,{value:void 0}),s=[];break;case"textarea":i=af(t,i),r=af(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Zu)}uf(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(pa.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(pa.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&pe("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};Nx=function(t,e,n,r){n!==r&&(e.flags|=4)};function ko(t,e){if(!ve)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function st(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function AP(t,e,n){var r=e.pendingProps;switch(lm(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(e),null;case 1:return Rt(e.type)&&ec(),st(e),null;case 3:return r=e.stateNode,Ls(),ge(Ct),ge(ht),ym(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Xl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,rn!==null&&(Hf(rn),rn=null))),Of(t,e),st(e),null;case 5:gm(e);var i=yi(Aa.current);if(n=e.type,t!==null&&e.stateNode!=null)bx(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(U(166));return st(e),null}if(t=yi(vn.current),Xl(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[mn]=e,r[Sa]=s,t=(e.mode&1)!==0,n){case"dialog":pe("cancel",r),pe("close",r);break;case"iframe":case"object":case"embed":pe("load",r);break;case"video":case"audio":for(i=0;i<Fo.length;i++)pe(Fo[i],r);break;case"source":pe("error",r);break;case"img":case"image":case"link":pe("error",r),pe("load",r);break;case"details":pe("toggle",r);break;case"input":Dv(r,s),pe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},pe("invalid",r);break;case"textarea":Lv(r,s),pe("invalid",r)}uf(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Yl(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Yl(r.textContent,a,t),i=["children",""+a]):pa.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&pe("scroll",r)}switch(n){case"input":$l(r),Vv(r,s,!0);break;case"textarea":$l(r),Ov(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Zu)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=oT(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[mn]=e,t[Sa]=r,Px(t,e,!1,!1),e.stateNode=t;e:{switch(o=cf(n,r),n){case"dialog":pe("cancel",t),pe("close",t),i=r;break;case"iframe":case"object":case"embed":pe("load",t),i=r;break;case"video":case"audio":for(i=0;i<Fo.length;i++)pe(Fo[i],t);i=r;break;case"source":pe("error",t),i=r;break;case"img":case"image":case"link":pe("error",t),pe("load",t),i=r;break;case"details":pe("toggle",t),i=r;break;case"input":Dv(t,r),i=rf(t,r),pe("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ie({},r,{value:void 0}),pe("invalid",t);break;case"textarea":Lv(t,r),i=af(t,r),pe("invalid",t);break;default:i=r}uf(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?uT(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&aT(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ma(t,l):typeof l=="number"&&ma(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(pa.hasOwnProperty(s)?l!=null&&s==="onScroll"&&pe("scroll",t):l!=null&&Kp(t,s,l,o))}switch(n){case"input":$l(t),Vv(t,r,!1);break;case"textarea":$l(t),Ov(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Fr(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?ws(t,!!r.multiple,s,!1):r.defaultValue!=null&&ws(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Zu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return st(e),null;case 6:if(t&&e.stateNode!=null)Nx(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(U(166));if(n=yi(Aa.current),yi(vn.current),Xl(e)){if(r=e.stateNode,n=e.memoizedProps,r[mn]=e,(s=r.nodeValue!==n)&&(t=Ot,t!==null))switch(t.tag){case 3:Yl(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Yl(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[mn]=e,e.stateNode=r}return st(e),null;case 13:if(ge(we),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ve&&Vt!==null&&e.mode&1&&!(e.flags&128))YT(),Ds(),e.flags|=98560,s=!1;else if(s=Xl(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(U(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(U(317));s[mn]=e}else Ds(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;st(e),s=!1}else rn!==null&&(Hf(rn),rn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||we.current&1?Be===0&&(Be=3):Rm())),e.updateQueue!==null&&(e.flags|=4),st(e),null);case 4:return Ls(),Of(t,e),t===null&&Ta(e.stateNode.containerInfo),st(e),null;case 10:return dm(e.type._context),st(e),null;case 17:return Rt(e.type)&&ec(),st(e),null;case 19:if(ge(we),s=e.memoizedState,s===null)return st(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)ko(s,!1);else{if(Be!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=ac(t),o!==null){for(e.flags|=128,ko(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return he(we,we.current&1|2),e.child}t=t.sibling}s.tail!==null&&Le()>Ms&&(e.flags|=128,r=!0,ko(s,!1),e.lanes=4194304)}else{if(!r)if(t=ac(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ko(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!ve)return st(e),null}else 2*Le()-s.renderingStartTime>Ms&&n!==1073741824&&(e.flags|=128,r=!0,ko(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Le(),e.sibling=null,n=we.current,he(we,r?n&1|2:n&1),e):(st(e),null);case 22:case 23:return Cm(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Dt&1073741824&&(st(e),e.subtreeFlags&6&&(e.flags|=8192)):st(e),null;case 24:return null;case 25:return null}throw Error(U(156,e.tag))}function kP(t,e){switch(lm(e),e.tag){case 1:return Rt(e.type)&&ec(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ls(),ge(Ct),ge(ht),ym(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return gm(e),null;case 13:if(ge(we),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(U(340));Ds()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ge(we),null;case 4:return Ls(),null;case 10:return dm(e.type._context),null;case 22:case 23:return Cm(),null;case 24:return null;default:return null}}var eu=!1,lt=!1,CP=typeof WeakSet=="function"?WeakSet:Set,W=null;function fs(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Re(t,e,r)}else n.current=null}function Mf(t,e,n){try{n()}catch(r){Re(t,e,r)}}var I0=!1;function RP(t,e){if(wf=Yu,t=MT(),om(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,h=0,d=t,m=null;t:for(;;){for(var y;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(y=d.firstChild)!==null;)m=d,d=y;for(;;){if(d===t)break t;if(m===n&&++c===i&&(a=o),m===s&&++h===r&&(l=o),(y=d.nextSibling)!==null)break;d=m,m=d.parentNode}d=y}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ef={focusedElem:t,selectionRange:n},Yu=!1,W=e;W!==null;)if(e=W,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,W=t;else for(;W!==null;){e=W;try{var E=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var I=E.memoizedProps,R=E.memoizedState,v=e.stateNode,_=v.getSnapshotBeforeUpdate(e.elementType===e.type?I:tn(e.type,I),R);v.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(N){Re(e,e.return,N)}if(t=e.sibling,t!==null){t.return=e.return,W=t;break}W=e.return}return E=I0,I0=!1,E}function Zo(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Mf(e,n,s)}i=i.next}while(i!==r)}}function Qc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function jf(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Dx(t){var e=t.alternate;e!==null&&(t.alternate=null,Dx(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[mn],delete e[Sa],delete e[Sf],delete e[hP],delete e[dP])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Vx(t){return t.tag===5||t.tag===3||t.tag===4}function A0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Vx(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ff(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Zu));else if(r!==4&&(t=t.child,t!==null))for(Ff(t,e,n),t=t.sibling;t!==null;)Ff(t,e,n),t=t.sibling}function Uf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Uf(t,e,n),t=t.sibling;t!==null;)Uf(t,e,n),t=t.sibling}var Ge=null,nn=!1;function fr(t,e,n){for(n=n.child;n!==null;)Lx(t,e,n),n=n.sibling}function Lx(t,e,n){if(yn&&typeof yn.onCommitFiberUnmount=="function")try{yn.onCommitFiberUnmount(Bc,n)}catch{}switch(n.tag){case 5:lt||fs(n,e);case 6:var r=Ge,i=nn;Ge=null,fr(t,e,n),Ge=r,nn=i,Ge!==null&&(nn?(t=Ge,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ge.removeChild(n.stateNode));break;case 18:Ge!==null&&(nn?(t=Ge,n=n.stateNode,t.nodeType===8?pd(t.parentNode,n):t.nodeType===1&&pd(t,n),_a(t)):pd(Ge,n.stateNode));break;case 4:r=Ge,i=nn,Ge=n.stateNode.containerInfo,nn=!0,fr(t,e,n),Ge=r,nn=i;break;case 0:case 11:case 14:case 15:if(!lt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Mf(n,e,o),i=i.next}while(i!==r)}fr(t,e,n);break;case 1:if(!lt&&(fs(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Re(n,e,a)}fr(t,e,n);break;case 21:fr(t,e,n);break;case 22:n.mode&1?(lt=(r=lt)||n.memoizedState!==null,fr(t,e,n),lt=r):fr(t,e,n);break;default:fr(t,e,n)}}function k0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new CP),e.forEach(function(r){var i=jP.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Jt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ge=a.stateNode,nn=!1;break e;case 3:Ge=a.stateNode.containerInfo,nn=!0;break e;case 4:Ge=a.stateNode.containerInfo,nn=!0;break e}a=a.return}if(Ge===null)throw Error(U(160));Lx(s,o,i),Ge=null,nn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Re(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Ox(e,t),e=e.sibling}function Ox(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Jt(e,t),dn(t),r&4){try{Zo(3,t,t.return),Qc(3,t)}catch(I){Re(t,t.return,I)}try{Zo(5,t,t.return)}catch(I){Re(t,t.return,I)}}break;case 1:Jt(e,t),dn(t),r&512&&n!==null&&fs(n,n.return);break;case 5:if(Jt(e,t),dn(t),r&512&&n!==null&&fs(n,n.return),t.flags&32){var i=t.stateNode;try{ma(i,"")}catch(I){Re(t,t.return,I)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&iT(i,s),cf(a,o);var c=cf(a,s);for(o=0;o<l.length;o+=2){var h=l[o],d=l[o+1];h==="style"?uT(i,d):h==="dangerouslySetInnerHTML"?aT(i,d):h==="children"?ma(i,d):Kp(i,h,d,c)}switch(a){case"input":sf(i,s);break;case"textarea":sT(i,s);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var y=s.value;y!=null?ws(i,!!s.multiple,y,!1):m!==!!s.multiple&&(s.defaultValue!=null?ws(i,!!s.multiple,s.defaultValue,!0):ws(i,!!s.multiple,s.multiple?[]:"",!1))}i[Sa]=s}catch(I){Re(t,t.return,I)}}break;case 6:if(Jt(e,t),dn(t),r&4){if(t.stateNode===null)throw Error(U(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(I){Re(t,t.return,I)}}break;case 3:if(Jt(e,t),dn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{_a(e.containerInfo)}catch(I){Re(t,t.return,I)}break;case 4:Jt(e,t),dn(t);break;case 13:Jt(e,t),dn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Am=Le())),r&4&&k0(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(lt=(c=lt)||h,Jt(e,t),lt=c):Jt(e,t),dn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!h&&t.mode&1)for(W=t,h=t.child;h!==null;){for(d=W=h;W!==null;){switch(m=W,y=m.child,m.tag){case 0:case 11:case 14:case 15:Zo(4,m,m.return);break;case 1:fs(m,m.return);var E=m.stateNode;if(typeof E.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,E.props=e.memoizedProps,E.state=e.memoizedState,E.componentWillUnmount()}catch(I){Re(r,n,I)}}break;case 5:fs(m,m.return);break;case 22:if(m.memoizedState!==null){R0(d);continue}}y!==null?(y.return=m,W=y):R0(d)}h=h.sibling}e:for(h=null,d=t;;){if(d.tag===5){if(h===null){h=d;try{i=d.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=lT("display",o))}catch(I){Re(t,t.return,I)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(I){Re(t,t.return,I)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Jt(e,t),dn(t),r&4&&k0(t);break;case 21:break;default:Jt(e,t),dn(t)}}function dn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Vx(n)){var r=n;break e}n=n.return}throw Error(U(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ma(i,""),r.flags&=-33);var s=A0(t);Uf(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=A0(t);Ff(t,a,o);break;default:throw Error(U(161))}}catch(l){Re(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function PP(t,e,n){W=t,Mx(t)}function Mx(t,e,n){for(var r=(t.mode&1)!==0;W!==null;){var i=W,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||eu;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||lt;a=eu;var c=lt;if(eu=o,(lt=l)&&!c)for(W=i;W!==null;)o=W,l=o.child,o.tag===22&&o.memoizedState!==null?P0(i):l!==null?(l.return=o,W=l):P0(i);for(;s!==null;)W=s,Mx(s),s=s.sibling;W=i,eu=a,lt=c}C0(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,W=s):C0(t)}}function C0(t){for(;W!==null;){var e=W;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:lt||Qc(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!lt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:tn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&d0(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}d0(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&_a(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}lt||e.flags&512&&jf(e)}catch(m){Re(e,e.return,m)}}if(e===t){W=null;break}if(n=e.sibling,n!==null){n.return=e.return,W=n;break}W=e.return}}function R0(t){for(;W!==null;){var e=W;if(e===t){W=null;break}var n=e.sibling;if(n!==null){n.return=e.return,W=n;break}W=e.return}}function P0(t){for(;W!==null;){var e=W;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Qc(4,e)}catch(l){Re(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Re(e,i,l)}}var s=e.return;try{jf(e)}catch(l){Re(e,s,l)}break;case 5:var o=e.return;try{jf(e)}catch(l){Re(e,o,l)}}}catch(l){Re(e,e.return,l)}if(e===t){W=null;break}var a=e.sibling;if(a!==null){a.return=e.return,W=a;break}W=e.return}}var bP=Math.ceil,cc=ar.ReactCurrentDispatcher,Sm=ar.ReactCurrentOwner,qt=ar.ReactCurrentBatchConfig,se=0,qe=null,je=null,Je=0,Dt=0,ps=Jr(0),Be=0,Pa=null,Pi=0,Yc=0,Im=0,ea=null,St=null,Am=0,Ms=1/0,jn=null,hc=!1,Bf=null,Nr=null,tu=!1,Ir=null,dc=0,ta=0,$f=null,Au=-1,ku=0;function _t(){return se&6?Le():Au!==-1?Au:Au=Le()}function Dr(t){return t.mode&1?se&2&&Je!==0?Je&-Je:pP.transition!==null?(ku===0&&(ku=ET()),ku):(t=le,t!==0||(t=window.event,t=t===void 0?16:CT(t.type)),t):1}function ln(t,e,n,r){if(50<ta)throw ta=0,$f=null,Error(U(185));Ya(t,n,r),(!(se&2)||t!==qe)&&(t===qe&&(!(se&2)&&(Yc|=n),Be===4&&_r(t,Je)),Pt(t,r),n===1&&se===0&&!(e.mode&1)&&(Ms=Le()+500,qc&&Zr()))}function Pt(t,e){var n=t.callbackNode;pR(t,e);var r=Qu(t,t===qe?Je:0);if(r===0)n!==null&&Fv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Fv(n),e===1)t.tag===0?fP(b0.bind(null,t)):KT(b0.bind(null,t)),uP(function(){!(se&6)&&Zr()}),n=null;else{switch(TT(r)){case 1:n=Jp;break;case 4:n=_T;break;case 16:n=Gu;break;case 536870912:n=wT;break;default:n=Gu}n=Wx(n,jx.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function jx(t,e){if(Au=-1,ku=0,se&6)throw Error(U(327));var n=t.callbackNode;if(Is()&&t.callbackNode!==n)return null;var r=Qu(t,t===qe?Je:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=fc(t,r);else{e=r;var i=se;se|=2;var s=Ux();(qe!==t||Je!==e)&&(jn=null,Ms=Le()+500,Ti(t,e));do try{VP();break}catch(a){Fx(t,a)}while(!0);hm(),cc.current=s,se=i,je!==null?e=0:(qe=null,Je=0,e=Be)}if(e!==0){if(e===2&&(i=mf(t),i!==0&&(r=i,e=zf(t,i))),e===1)throw n=Pa,Ti(t,0),_r(t,r),Pt(t,Le()),n;if(e===6)_r(t,r);else{if(i=t.current.alternate,!(r&30)&&!NP(i)&&(e=fc(t,r),e===2&&(s=mf(t),s!==0&&(r=s,e=zf(t,s))),e===1))throw n=Pa,Ti(t,0),_r(t,r),Pt(t,Le()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(U(345));case 2:di(t,St,jn);break;case 3:if(_r(t,r),(r&130023424)===r&&(e=Am+500-Le(),10<e)){if(Qu(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){_t(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=xf(di.bind(null,t,St,jn),e);break}di(t,St,jn);break;case 4:if(_r(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-an(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Le()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*bP(r/1960))-r,10<r){t.timeoutHandle=xf(di.bind(null,t,St,jn),r);break}di(t,St,jn);break;case 5:di(t,St,jn);break;default:throw Error(U(329))}}}return Pt(t,Le()),t.callbackNode===n?jx.bind(null,t):null}function zf(t,e){var n=ea;return t.current.memoizedState.isDehydrated&&(Ti(t,e).flags|=256),t=fc(t,e),t!==2&&(e=St,St=n,e!==null&&Hf(e)),t}function Hf(t){St===null?St=t:St.push.apply(St,t)}function NP(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!cn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function _r(t,e){for(e&=~Im,e&=~Yc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-an(e),r=1<<n;t[n]=-1,e&=~r}}function b0(t){if(se&6)throw Error(U(327));Is();var e=Qu(t,0);if(!(e&1))return Pt(t,Le()),null;var n=fc(t,e);if(t.tag!==0&&n===2){var r=mf(t);r!==0&&(e=r,n=zf(t,r))}if(n===1)throw n=Pa,Ti(t,0),_r(t,e),Pt(t,Le()),n;if(n===6)throw Error(U(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,di(t,St,jn),Pt(t,Le()),null}function km(t,e){var n=se;se|=1;try{return t(e)}finally{se=n,se===0&&(Ms=Le()+500,qc&&Zr())}}function bi(t){Ir!==null&&Ir.tag===0&&!(se&6)&&Is();var e=se;se|=1;var n=qt.transition,r=le;try{if(qt.transition=null,le=1,t)return t()}finally{le=r,qt.transition=n,se=e,!(se&6)&&Zr()}}function Cm(){Dt=ps.current,ge(ps)}function Ti(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,lP(n)),je!==null)for(n=je.return;n!==null;){var r=n;switch(lm(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ec();break;case 3:Ls(),ge(Ct),ge(ht),ym();break;case 5:gm(r);break;case 4:Ls();break;case 13:ge(we);break;case 19:ge(we);break;case 10:dm(r.type._context);break;case 22:case 23:Cm()}n=n.return}if(qe=t,je=t=Vr(t.current,null),Je=Dt=e,Be=0,Pa=null,Im=Yc=Pi=0,St=ea=null,gi!==null){for(e=0;e<gi.length;e++)if(n=gi[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}gi=null}return t}function Fx(t,e){do{var n=je;try{if(hm(),xu.current=uc,lc){for(var r=Te.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}lc=!1}if(Ri=0,We=Ue=Te=null,Jo=!1,ka=0,Sm.current=null,n===null||n.return===null){Be=1,Pa=e,je=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Je,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,h=a,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var m=h.alternate;m?(h.updateQueue=m.updateQueue,h.memoizedState=m.memoizedState,h.lanes=m.lanes):(h.updateQueue=null,h.memoizedState=null)}var y=v0(o);if(y!==null){y.flags&=-257,_0(y,o,a,s,e),y.mode&1&&y0(s,c,e),e=y,l=c;var E=e.updateQueue;if(E===null){var I=new Set;I.add(l),e.updateQueue=I}else E.add(l);break e}else{if(!(e&1)){y0(s,c,e),Rm();break e}l=Error(U(426))}}else if(ve&&a.mode&1){var R=v0(o);if(R!==null){!(R.flags&65536)&&(R.flags|=256),_0(R,o,a,s,e),um(Os(l,a));break e}}s=l=Os(l,a),Be!==4&&(Be=2),ea===null?ea=[s]:ea.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var v=Tx(s,l,e);h0(s,v);break e;case 1:a=l;var _=s.type,x=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Nr===null||!Nr.has(x)))){s.flags|=65536,e&=-e,s.lanes|=e;var N=xx(s,a,e);h0(s,N);break e}}s=s.return}while(s!==null)}$x(n)}catch(L){e=L,je===n&&n!==null&&(je=n=n.return);continue}break}while(!0)}function Ux(){var t=cc.current;return cc.current=uc,t===null?uc:t}function Rm(){(Be===0||Be===3||Be===2)&&(Be=4),qe===null||!(Pi&268435455)&&!(Yc&268435455)||_r(qe,Je)}function fc(t,e){var n=se;se|=2;var r=Ux();(qe!==t||Je!==e)&&(jn=null,Ti(t,e));do try{DP();break}catch(i){Fx(t,i)}while(!0);if(hm(),se=n,cc.current=r,je!==null)throw Error(U(261));return qe=null,Je=0,Be}function DP(){for(;je!==null;)Bx(je)}function VP(){for(;je!==null&&!sR();)Bx(je)}function Bx(t){var e=Hx(t.alternate,t,Dt);t.memoizedProps=t.pendingProps,e===null?$x(t):je=e,Sm.current=null}function $x(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=kP(n,e),n!==null){n.flags&=32767,je=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Be=6,je=null;return}}else if(n=AP(n,e,Dt),n!==null){je=n;return}if(e=e.sibling,e!==null){je=e;return}je=e=t}while(e!==null);Be===0&&(Be=5)}function di(t,e,n){var r=le,i=qt.transition;try{qt.transition=null,le=1,LP(t,e,n,r)}finally{qt.transition=i,le=r}return null}function LP(t,e,n,r){do Is();while(Ir!==null);if(se&6)throw Error(U(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(U(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(mR(t,s),t===qe&&(je=qe=null,Je=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||tu||(tu=!0,Wx(Gu,function(){return Is(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=qt.transition,qt.transition=null;var o=le;le=1;var a=se;se|=4,Sm.current=null,RP(t,n),Ox(n,t),tP(Ef),Yu=!!wf,Ef=wf=null,t.current=n,PP(n),oR(),se=a,le=o,qt.transition=s}else t.current=n;if(tu&&(tu=!1,Ir=t,dc=i),s=t.pendingLanes,s===0&&(Nr=null),uR(n.stateNode),Pt(t,Le()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(hc)throw hc=!1,t=Bf,Bf=null,t;return dc&1&&t.tag!==0&&Is(),s=t.pendingLanes,s&1?t===$f?ta++:(ta=0,$f=t):ta=0,Zr(),null}function Is(){if(Ir!==null){var t=TT(dc),e=qt.transition,n=le;try{if(qt.transition=null,le=16>t?16:t,Ir===null)var r=!1;else{if(t=Ir,Ir=null,dc=0,se&6)throw Error(U(331));var i=se;for(se|=4,W=t.current;W!==null;){var s=W,o=s.child;if(W.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(W=c;W!==null;){var h=W;switch(h.tag){case 0:case 11:case 15:Zo(8,h,s)}var d=h.child;if(d!==null)d.return=h,W=d;else for(;W!==null;){h=W;var m=h.sibling,y=h.return;if(Dx(h),h===c){W=null;break}if(m!==null){m.return=y,W=m;break}W=y}}}var E=s.alternate;if(E!==null){var I=E.child;if(I!==null){E.child=null;do{var R=I.sibling;I.sibling=null,I=R}while(I!==null)}}W=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,W=o;else e:for(;W!==null;){if(s=W,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Zo(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,W=v;break e}W=s.return}}var _=t.current;for(W=_;W!==null;){o=W;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,W=x;else e:for(o=_;W!==null;){if(a=W,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Qc(9,a)}}catch(L){Re(a,a.return,L)}if(a===o){W=null;break e}var N=a.sibling;if(N!==null){N.return=a.return,W=N;break e}W=a.return}}if(se=i,Zr(),yn&&typeof yn.onPostCommitFiberRoot=="function")try{yn.onPostCommitFiberRoot(Bc,t)}catch{}r=!0}return r}finally{le=n,qt.transition=e}}return!1}function N0(t,e,n){e=Os(n,e),e=Tx(t,e,1),t=br(t,e,1),e=_t(),t!==null&&(Ya(t,1,e),Pt(t,e))}function Re(t,e,n){if(t.tag===3)N0(t,t,n);else for(;e!==null;){if(e.tag===3){N0(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Nr===null||!Nr.has(r))){t=Os(n,t),t=xx(e,t,1),e=br(e,t,1),t=_t(),e!==null&&(Ya(e,1,t),Pt(e,t));break}}e=e.return}}function OP(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=_t(),t.pingedLanes|=t.suspendedLanes&n,qe===t&&(Je&n)===n&&(Be===4||Be===3&&(Je&130023424)===Je&&500>Le()-Am?Ti(t,0):Im|=n),Pt(t,e)}function zx(t,e){e===0&&(t.mode&1?(e=Wl,Wl<<=1,!(Wl&130023424)&&(Wl=4194304)):e=1);var n=_t();t=Xn(t,e),t!==null&&(Ya(t,e,n),Pt(t,n))}function MP(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),zx(t,n)}function jP(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(U(314))}r!==null&&r.delete(e),zx(t,n)}var Hx;Hx=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ct.current)At=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return At=!1,IP(t,e,n);At=!!(t.flags&131072)}else At=!1,ve&&e.flags&1048576&&GT(e,rc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Iu(t,e),t=e.pendingProps;var i=Ns(e,ht.current);Ss(e,n),i=_m(null,e,r,t,i,n);var s=wm();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Rt(r)?(s=!0,tc(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,pm(e),i.updater=Gc,e.stateNode=i,i._reactInternals=e,Pf(e,r,t,n),e=Df(null,e,r,!0,s,n)):(e.tag=0,ve&&s&&am(e),yt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Iu(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=UP(r),t=tn(r,t),i){case 0:e=Nf(null,e,r,t,n);break e;case 1:e=T0(null,e,r,t,n);break e;case 11:e=w0(null,e,r,t,n);break e;case 14:e=E0(null,e,r,tn(r.type,t),n);break e}throw Error(U(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:tn(r,i),Nf(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:tn(r,i),T0(t,e,r,i,n);case 3:e:{if(kx(e),t===null)throw Error(U(387));r=e.pendingProps,s=e.memoizedState,i=s.element,ex(t,e),oc(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Os(Error(U(423)),e),e=x0(t,e,r,n,i);break e}else if(r!==i){i=Os(Error(U(424)),e),e=x0(t,e,r,n,i);break e}else for(Vt=Pr(e.stateNode.containerInfo.firstChild),Ot=e,ve=!0,rn=null,n=JT(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ds(),r===i){e=Jn(t,e,n);break e}yt(t,e,r,n)}e=e.child}return e;case 5:return tx(e),t===null&&kf(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Tf(r,i)?o=null:s!==null&&Tf(r,s)&&(e.flags|=32),Ax(t,e),yt(t,e,o,n),e.child;case 6:return t===null&&kf(e),null;case 13:return Cx(t,e,n);case 4:return mm(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Vs(e,null,r,n):yt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:tn(r,i),w0(t,e,r,i,n);case 7:return yt(t,e,e.pendingProps,n),e.child;case 8:return yt(t,e,e.pendingProps.children,n),e.child;case 12:return yt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,he(ic,r._currentValue),r._currentValue=o,s!==null)if(cn(s.value,o)){if(s.children===i.children&&!Ct.current){e=Jn(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Wn(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?l.next=l:(l.next=h.next,h.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Cf(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(U(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Cf(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}yt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ss(e,n),i=Gt(i),r=r(i),e.flags|=1,yt(t,e,r,n),e.child;case 14:return r=e.type,i=tn(r,e.pendingProps),i=tn(r.type,i),E0(t,e,r,i,n);case 15:return Sx(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:tn(r,i),Iu(t,e),e.tag=1,Rt(r)?(t=!0,tc(e)):t=!1,Ss(e,n),Ex(e,r,i),Pf(e,r,i,n),Df(null,e,r,!0,t,n);case 19:return Rx(t,e,n);case 22:return Ix(t,e,n)}throw Error(U(156,e.tag))};function Wx(t,e){return vT(t,e)}function FP(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wt(t,e,n,r){return new FP(t,e,n,r)}function Pm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function UP(t){if(typeof t=="function")return Pm(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Qp)return 11;if(t===Yp)return 14}return 2}function Vr(t,e){var n=t.alternate;return n===null?(n=Wt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Cu(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Pm(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case is:return xi(n.children,i,s,e);case Gp:o=8,i|=8;break;case Zd:return t=Wt(12,n,e,i|2),t.elementType=Zd,t.lanes=s,t;case ef:return t=Wt(13,n,e,i),t.elementType=ef,t.lanes=s,t;case tf:return t=Wt(19,n,e,i),t.elementType=tf,t.lanes=s,t;case tT:return Xc(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ZE:o=10;break e;case eT:o=9;break e;case Qp:o=11;break e;case Yp:o=14;break e;case gr:o=16,r=null;break e}throw Error(U(130,t==null?t:typeof t,""))}return e=Wt(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function xi(t,e,n,r){return t=Wt(7,t,r,e),t.lanes=n,t}function Xc(t,e,n,r){return t=Wt(22,t,r,e),t.elementType=tT,t.lanes=n,t.stateNode={isHidden:!1},t}function Td(t,e,n){return t=Wt(6,t,null,e),t.lanes=n,t}function xd(t,e,n){return e=Wt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function BP(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=rd(0),this.expirationTimes=rd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rd(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function bm(t,e,n,r,i,s,o,a,l){return t=new BP(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Wt(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},pm(s),t}function $P(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:rs,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function qx(t){if(!t)return Ur;t=t._reactInternals;e:{if(Ui(t)!==t||t.tag!==1)throw Error(U(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Rt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(U(171))}if(t.tag===1){var n=t.type;if(Rt(n))return qT(t,n,e)}return e}function Kx(t,e,n,r,i,s,o,a,l){return t=bm(n,r,!0,t,i,s,o,a,l),t.context=qx(null),n=t.current,r=_t(),i=Dr(n),s=Wn(r,i),s.callback=e??null,br(n,s,i),t.current.lanes=i,Ya(t,i,r),Pt(t,r),t}function Jc(t,e,n,r){var i=e.current,s=_t(),o=Dr(i);return n=qx(n),e.context===null?e.context=n:e.pendingContext=n,e=Wn(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=br(i,e,o),t!==null&&(ln(t,i,o,s),Tu(t,i,o)),o}function pc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function D0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Nm(t,e){D0(t,e),(t=t.alternate)&&D0(t,e)}function zP(){return null}var Gx=typeof reportError=="function"?reportError:function(t){console.error(t)};function Dm(t){this._internalRoot=t}Zc.prototype.render=Dm.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(U(409));Jc(t,e,null,null)};Zc.prototype.unmount=Dm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;bi(function(){Jc(null,t,null,null)}),e[Yn]=null}};function Zc(t){this._internalRoot=t}Zc.prototype.unstable_scheduleHydration=function(t){if(t){var e=IT();t={blockedOn:null,target:t,priority:e};for(var n=0;n<vr.length&&e!==0&&e<vr[n].priority;n++);vr.splice(n,0,t),n===0&&kT(t)}};function Vm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function eh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function V0(){}function HP(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=pc(o);s.call(c)}}var o=Kx(e,r,t,0,null,!1,!1,"",V0);return t._reactRootContainer=o,t[Yn]=o.current,Ta(t.nodeType===8?t.parentNode:t),bi(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=pc(l);a.call(c)}}var l=bm(t,0,!1,null,null,!1,!1,"",V0);return t._reactRootContainer=l,t[Yn]=l.current,Ta(t.nodeType===8?t.parentNode:t),bi(function(){Jc(e,l,n,r)}),l}function th(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=pc(o);a.call(l)}}Jc(e,o,t,i)}else o=HP(n,e,t,i,r);return pc(o)}xT=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=jo(e.pendingLanes);n!==0&&(Zp(e,n|1),Pt(e,Le()),!(se&6)&&(Ms=Le()+500,Zr()))}break;case 13:bi(function(){var r=Xn(t,1);if(r!==null){var i=_t();ln(r,t,1,i)}}),Nm(t,1)}};em=function(t){if(t.tag===13){var e=Xn(t,134217728);if(e!==null){var n=_t();ln(e,t,134217728,n)}Nm(t,134217728)}};ST=function(t){if(t.tag===13){var e=Dr(t),n=Xn(t,e);if(n!==null){var r=_t();ln(n,t,e,r)}Nm(t,e)}};IT=function(){return le};AT=function(t,e){var n=le;try{return le=t,e()}finally{le=n}};df=function(t,e,n){switch(e){case"input":if(sf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Wc(r);if(!i)throw Error(U(90));rT(r),sf(r,i)}}}break;case"textarea":sT(t,n);break;case"select":e=n.value,e!=null&&ws(t,!!n.multiple,e,!1)}};dT=km;fT=bi;var WP={usingClientEntryPoint:!1,Events:[Ja,ls,Wc,cT,hT,km]},Co={findFiberByHostInstance:mi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},qP={bundleType:Co.bundleType,version:Co.version,rendererPackageName:Co.rendererPackageName,rendererConfig:Co.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ar.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=gT(t),t===null?null:t.stateNode},findFiberByHostInstance:Co.findFiberByHostInstance||zP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nu.isDisabled&&nu.supportsFiber)try{Bc=nu.inject(qP),yn=nu}catch{}}jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=WP;jt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Vm(e))throw Error(U(200));return $P(t,e,null,n)};jt.createRoot=function(t,e){if(!Vm(t))throw Error(U(299));var n=!1,r="",i=Gx;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=bm(t,1,!1,null,null,n,!1,r,i),t[Yn]=e.current,Ta(t.nodeType===8?t.parentNode:t),new Dm(e)};jt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(U(188)):(t=Object.keys(t).join(","),Error(U(268,t)));return t=gT(e),t=t===null?null:t.stateNode,t};jt.flushSync=function(t){return bi(t)};jt.hydrate=function(t,e,n){if(!eh(e))throw Error(U(200));return th(null,t,e,!0,n)};jt.hydrateRoot=function(t,e,n){if(!Vm(t))throw Error(U(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=Gx;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Kx(e,null,t,1,n??null,i,!1,s,o),t[Yn]=e.current,Ta(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Zc(e)};jt.render=function(t,e,n){if(!eh(e))throw Error(U(200));return th(null,t,e,!1,n)};jt.unmountComponentAtNode=function(t){if(!eh(t))throw Error(U(40));return t._reactRootContainer?(bi(function(){th(null,null,t,!1,function(){t._reactRootContainer=null,t[Yn]=null})}),!0):!1};jt.unstable_batchedUpdates=km;jt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!eh(n))throw Error(U(200));if(t==null||t._reactInternals===void 0)throw Error(U(38));return th(t,e,n,!1,r)};jt.version="18.3.1-next-f1338f8080-20240426";function Qx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Qx)}catch(t){console.error(t)}}Qx(),QE.exports=jt;var KP=QE.exports,Lm={};Object.defineProperty(Lm,"__esModule",{value:!0});Lm.parse=eb;Lm.serialize=tb;const GP=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,QP=/^[\u0021-\u003A\u003C-\u007E]*$/,YP=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,XP=/^[\u0020-\u003A\u003D-\u007E]*$/,JP=Object.prototype.toString,ZP=(()=>{const t=function(){};return t.prototype=Object.create(null),t})();function eb(t,e){const n=new ZP,r=t.length;if(r<2)return n;const i=(e==null?void 0:e.decode)||nb;let s=0;do{const o=t.indexOf("=",s);if(o===-1)break;const a=t.indexOf(";",s),l=a===-1?r:a;if(o>l){s=t.lastIndexOf(";",o-1)+1;continue}const c=L0(t,s,o),h=O0(t,o,c),d=t.slice(c,h);if(n[d]===void 0){let m=L0(t,o+1,l),y=O0(t,l,m);const E=i(t.slice(m,y));n[d]=E}s=l+1}while(s<r);return n}function L0(t,e,n){do{const r=t.charCodeAt(e);if(r!==32&&r!==9)return e}while(++e<n);return n}function O0(t,e,n){for(;e>n;){const r=t.charCodeAt(--e);if(r!==32&&r!==9)return e+1}return n}function tb(t,e,n){const r=(n==null?void 0:n.encode)||encodeURIComponent;if(!GP.test(t))throw new TypeError(`argument name is invalid: ${t}`);const i=r(e);if(!QP.test(i))throw new TypeError(`argument val is invalid: ${e}`);let s=t+"="+i;if(!n)return s;if(n.maxAge!==void 0){if(!Number.isInteger(n.maxAge))throw new TypeError(`option maxAge is invalid: ${n.maxAge}`);s+="; Max-Age="+n.maxAge}if(n.domain){if(!YP.test(n.domain))throw new TypeError(`option domain is invalid: ${n.domain}`);s+="; Domain="+n.domain}if(n.path){if(!XP.test(n.path))throw new TypeError(`option path is invalid: ${n.path}`);s+="; Path="+n.path}if(n.expires){if(!rb(n.expires)||!Number.isFinite(n.expires.valueOf()))throw new TypeError(`option expires is invalid: ${n.expires}`);s+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(s+="; HttpOnly"),n.secure&&(s+="; Secure"),n.partitioned&&(s+="; Partitioned"),n.priority)switch(typeof n.priority=="string"?n.priority.toLowerCase():void 0){case"low":s+="; Priority=Low";break;case"medium":s+="; Priority=Medium";break;case"high":s+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${n.priority}`)}if(n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:case"strict":s+="; SameSite=Strict";break;case"lax":s+="; SameSite=Lax";break;case"none":s+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${n.sameSite}`)}return s}function nb(t){if(t.indexOf("%")===-1)return t;try{return decodeURIComponent(t)}catch{return t}}function rb(t){return JP.call(t)==="[object Date]"}var M0="popstate";function ib(t={}){function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return Wf("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:ba(i)}return ob(e,n,null,t)}function xe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function kn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function sb(){return Math.random().toString(36).substring(2,10)}function j0(t,e){return{usr:t.state,key:t.key,idx:e}}function Wf(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Ys(e):e,state:n,key:e&&e.key||r||sb()}}function ba({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Ys(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function ob(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a="POP",l=null,c=h();c==null&&(c=0,o.replaceState({...o.state,idx:c},""));function h(){return(o.state||{idx:null}).idx}function d(){a="POP";let R=h(),v=R==null?null:R-c;c=R,l&&l({action:a,location:I.location,delta:v})}function m(R,v){a="PUSH";let _=Wf(I.location,R,v);c=h()+1;let x=j0(_,c),N=I.createHref(_);try{o.pushState(x,"",N)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;i.location.assign(N)}s&&l&&l({action:a,location:I.location,delta:1})}function y(R,v){a="REPLACE";let _=Wf(I.location,R,v);c=h();let x=j0(_,c),N=I.createHref(_);o.replaceState(x,"",N),s&&l&&l({action:a,location:I.location,delta:0})}function E(R){return ab(R)}let I={get action(){return a},get location(){return t(i,o)},listen(R){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(M0,d),l=R,()=>{i.removeEventListener(M0,d),l=null}},createHref(R){return e(i,R)},createURL:E,encodeLocation(R){let v=E(R);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:m,replace:y,go(R){return o.go(R)}};return I}function ab(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),xe(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:ba(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function Yx(t,e,n="/"){return lb(t,e,n,!1)}function lb(t,e,n,r){let i=typeof e=="string"?Ys(e):e,s=Zn(i.pathname||"/",n);if(s==null)return null;let o=Xx(t);ub(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=wb(s);a=vb(o[l],c,r)}return a}function Xx(t,e=[],n=[],r=""){let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(xe(l.relativePath.startsWith(r),`Absolute route path "${l.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(r.length));let c=qn([r,l.relativePath]),h=n.concat(l);s.children&&s.children.length>0&&(xe(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${c}".`),Xx(s.children,e,h,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:gb(c,s.index),routesMeta:h})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of Jx(s.path))i(s,o,l)}),e}function Jx(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=Jx(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function ub(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:yb(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var cb=/^:[\w-]+$/,hb=3,db=2,fb=1,pb=10,mb=-2,F0=t=>t==="*";function gb(t,e){let n=t.split("/"),r=n.length;return n.some(F0)&&(r+=mb),e&&(r+=db),n.filter(i=>!F0(i)).reduce((i,s)=>i+(cb.test(s)?hb:s===""?fb:pb),r)}function yb(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function vb(t,e,n=!1){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,h=s==="/"?e:e.slice(s.length)||"/",d=mc({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},h),m=l.route;if(!d&&c&&n&&!r[r.length-1].route.index&&(d=mc({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},h)),!d)return null;Object.assign(i,d.params),o.push({params:i,pathname:qn([s,d.pathname]),pathnameBase:Sb(qn([s,d.pathnameBase])),route:m}),d.pathnameBase!=="/"&&(s=qn([s,d.pathnameBase]))}return o}function mc(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=_b(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,{paramName:h,isOptional:d},m)=>{if(h==="*"){let E=a[m]||"";o=s.slice(0,s.length-E.length).replace(/(.)\/+$/,"$1")}const y=a[m];return d&&!y?c[h]=void 0:c[h]=(y||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function _b(t,e=!1,n=!0){kn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function wb(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return kn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Zn(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Eb(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Ys(t):t;return{pathname:n?n.startsWith("/")?n:Tb(n,e):e,search:Ib(r),hash:Ab(i)}}function Tb(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Sd(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function xb(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Zx(t){let e=xb(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function eS(t,e,n,r=!1){let i;typeof t=="string"?i=Ys(t):(i={...t},xe(!i.pathname||!i.pathname.includes("?"),Sd("?","pathname","search",i)),xe(!i.pathname||!i.pathname.includes("#"),Sd("#","pathname","hash",i)),xe(!i.search||!i.search.includes("#"),Sd("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),d-=1;i.pathname=m.join("/")}a=d>=0?e[d]:"/"}let l=Eb(i,a),c=o&&o!=="/"&&o.endsWith("/"),h=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||h)&&(l.pathname+="/"),l}var qn=t=>t.join("/").replace(/\/\/+/g,"/"),Sb=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Ib=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Ab=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function kb(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var tS=["POST","PUT","PATCH","DELETE"];new Set(tS);var Cb=["GET",...tS];new Set(Cb);var Xs=C.createContext(null);Xs.displayName="DataRouter";var nh=C.createContext(null);nh.displayName="DataRouterState";var nS=C.createContext({isTransitioning:!1});nS.displayName="ViewTransition";var Rb=C.createContext(new Map);Rb.displayName="Fetchers";var Pb=C.createContext(null);Pb.displayName="Await";var Rn=C.createContext(null);Rn.displayName="Navigation";var el=C.createContext(null);el.displayName="Location";var Pn=C.createContext({outlet:null,matches:[],isDataRoute:!1});Pn.displayName="Route";var Om=C.createContext(null);Om.displayName="RouteError";function bb(t,{relative:e}={}){xe(tl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=C.useContext(Rn),{hash:i,pathname:s,search:o}=nl(t,{relative:e}),a=s;return n!=="/"&&(a=s==="/"?n:qn([n,s])),r.createHref({pathname:a,search:o,hash:i})}function tl(){return C.useContext(el)!=null}function ei(){return xe(tl(),"useLocation() may be used only in the context of a <Router> component."),C.useContext(el).location}var rS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function iS(t){C.useContext(Rn).static||C.useLayoutEffect(t)}function rh(){let{isDataRoute:t}=C.useContext(Pn);return t?Wb():Nb()}function Nb(){xe(tl(),"useNavigate() may be used only in the context of a <Router> component.");let t=C.useContext(Xs),{basename:e,navigator:n}=C.useContext(Rn),{matches:r}=C.useContext(Pn),{pathname:i}=ei(),s=JSON.stringify(Zx(r)),o=C.useRef(!1);return iS(()=>{o.current=!0}),C.useCallback((l,c={})=>{if(kn(o.current,rS),!o.current)return;if(typeof l=="number"){n.go(l);return}let h=eS(l,JSON.parse(s),i,c.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:qn([e,h.pathname])),(c.replace?n.replace:n.push)(h,c.state,c)},[e,n,s,i,t])}C.createContext(null);function Db(){let{matches:t}=C.useContext(Pn),e=t[t.length-1];return e?e.params:{}}function nl(t,{relative:e}={}){let{matches:n}=C.useContext(Pn),{pathname:r}=ei(),i=JSON.stringify(Zx(n));return C.useMemo(()=>eS(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function Vb(t,e){return sS(t,e)}function sS(t,e,n,r){var v;xe(tl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=C.useContext(Rn),{matches:s}=C.useContext(Pn),o=s[s.length-1],a=o?o.params:{},l=o?o.pathname:"/",c=o?o.pathnameBase:"/",h=o&&o.route;{let _=h&&h.path||"";oS(l,!h||_.endsWith("*")||_.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${l}" (under <Route path="${_}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${_}"> to <Route path="${_==="/"?"*":`${_}/*`}">.`)}let d=ei(),m;if(e){let _=typeof e=="string"?Ys(e):e;xe(c==="/"||((v=_.pathname)==null?void 0:v.startsWith(c)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${c}" but pathname "${_.pathname}" was given in the \`location\` prop.`),m=_}else m=d;let y=m.pathname||"/",E=y;if(c!=="/"){let _=c.replace(/^\//,"").split("/");E="/"+y.replace(/^\//,"").split("/").slice(_.length).join("/")}let I=Yx(t,{pathname:E});kn(h||I!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),kn(I==null||I[I.length-1].route.element!==void 0||I[I.length-1].route.Component!==void 0||I[I.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let R=Fb(I&&I.map(_=>Object.assign({},_,{params:Object.assign({},a,_.params),pathname:qn([c,i.encodeLocation?i.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?c:qn([c,i.encodeLocation?i.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),s,n,r);return e&&R?C.createElement(el.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},R):R}function Lb(){let t=Hb(),e=kb(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=C.createElement(C.Fragment,null,C.createElement("p",null," Hey developer "),C.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",C.createElement("code",{style:s},"ErrorBoundary")," or"," ",C.createElement("code",{style:s},"errorElement")," prop on your route.")),C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},e),n?C.createElement("pre",{style:i},n):null,o)}var Ob=C.createElement(Lb,null),Mb=class extends C.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?C.createElement(Pn.Provider,{value:this.props.routeContext},C.createElement(Om.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function jb({routeContext:t,match:e,children:n}){let r=C.useContext(Xs);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),C.createElement(Pn.Provider,{value:t},n)}function Fb(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,s=n==null?void 0:n.errors;if(s!=null){let l=i.findIndex(c=>c.route.id&&(s==null?void 0:s[c.route.id])!==void 0);xe(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,l+1))}let o=!1,a=-1;if(n)for(let l=0;l<i.length;l++){let c=i[l];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(a=l),c.route.id){let{loaderData:h,errors:d}=n,m=c.route.loader&&!h.hasOwnProperty(c.route.id)&&(!d||d[c.route.id]===void 0);if(c.route.lazy||m){o=!0,a>=0?i=i.slice(0,a+1):i=[i[0]];break}}}return i.reduceRight((l,c,h)=>{let d,m=!1,y=null,E=null;n&&(d=s&&c.route.id?s[c.route.id]:void 0,y=c.route.errorElement||Ob,o&&(a<0&&h===0?(oS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),m=!0,E=null):a===h&&(m=!0,E=c.route.hydrateFallbackElement||null)));let I=e.concat(i.slice(0,h+1)),R=()=>{let v;return d?v=y:m?v=E:c.route.Component?v=C.createElement(c.route.Component,null):c.route.element?v=c.route.element:v=l,C.createElement(jb,{match:c,routeContext:{outlet:l,matches:I,isDataRoute:n!=null},children:v})};return n&&(c.route.ErrorBoundary||c.route.errorElement||h===0)?C.createElement(Mb,{location:n.location,revalidation:n.revalidation,component:y,error:d,children:R(),routeContext:{outlet:null,matches:I,isDataRoute:!0}}):R()},null)}function Mm(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ub(t){let e=C.useContext(Xs);return xe(e,Mm(t)),e}function Bb(t){let e=C.useContext(nh);return xe(e,Mm(t)),e}function $b(t){let e=C.useContext(Pn);return xe(e,Mm(t)),e}function jm(t){let e=$b(t),n=e.matches[e.matches.length-1];return xe(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function zb(){return jm("useRouteId")}function Hb(){var r;let t=C.useContext(Om),e=Bb("useRouteError"),n=jm("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function Wb(){let{router:t}=Ub("useNavigate"),e=jm("useNavigate"),n=C.useRef(!1);return iS(()=>{n.current=!0}),C.useCallback(async(i,s={})=>{kn(n.current,rS),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var U0={};function oS(t,e,n){!e&&!U0[t]&&(U0[t]=!0,kn(!1,n))}C.memo(qb);function qb({routes:t,future:e,state:n}){return sS(t,void 0,n,e)}function Zt(t){xe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Kb({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){xe(!tl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),a=C.useMemo(()=>({basename:o,navigator:i,static:s,future:{}}),[o,i,s]);typeof n=="string"&&(n=Ys(n));let{pathname:l="/",search:c="",hash:h="",state:d=null,key:m="default"}=n,y=C.useMemo(()=>{let E=Zn(l,o);return E==null?null:{location:{pathname:E,search:c,hash:h,state:d,key:m},navigationType:r}},[o,l,c,h,d,m,r]);return kn(y!=null,`<Router basename="${o}"> is not able to match the URL "${l}${c}${h}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:C.createElement(Rn.Provider,{value:a},C.createElement(el.Provider,{children:e,value:y}))}function Gb({children:t,location:e}){return Vb(qf(t),e)}function qf(t,e=[]){let n=[];return C.Children.forEach(t,(r,i)=>{if(!C.isValidElement(r))return;let s=[...e,i];if(r.type===C.Fragment){n.push.apply(n,qf(r.props.children,s));return}xe(r.type===Zt,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),xe(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=qf(r.props.children,s)),n.push(o)}),n}var Ru="get",Pu="application/x-www-form-urlencoded";function ih(t){return t!=null&&typeof t.tagName=="string"}function Qb(t){return ih(t)&&t.tagName.toLowerCase()==="button"}function Yb(t){return ih(t)&&t.tagName.toLowerCase()==="form"}function Xb(t){return ih(t)&&t.tagName.toLowerCase()==="input"}function Jb(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Zb(t,e){return t.button===0&&(!e||e==="_self")&&!Jb(t)}var ru=null;function eN(){if(ru===null)try{new FormData(document.createElement("form"),0),ru=!1}catch{ru=!0}return ru}var tN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Id(t){return t!=null&&!tN.has(t)?(kn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Pu}"`),null):t}function nN(t,e){let n,r,i,s,o;if(Yb(t)){let a=t.getAttribute("action");r=a?Zn(a,e):null,n=t.getAttribute("method")||Ru,i=Id(t.getAttribute("enctype"))||Pu,s=new FormData(t)}else if(Qb(t)||Xb(t)&&(t.type==="submit"||t.type==="image")){let a=t.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||a.getAttribute("action");if(r=l?Zn(l,e):null,n=t.getAttribute("formmethod")||a.getAttribute("method")||Ru,i=Id(t.getAttribute("formenctype"))||Id(a.getAttribute("enctype"))||Pu,s=new FormData(a,t),!eN()){let{name:c,type:h,value:d}=t;if(h==="image"){let m=c?`${c}.`:"";s.append(`${m}x`,"0"),s.append(`${m}y`,"0")}else c&&s.append(c,d)}}else{if(ih(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Ru,r=null,i=Pu,o=t}return s&&i==="text/plain"&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:o}}function Fm(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function rN(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function iN(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function sN(t,e,n){let r=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let o=await rN(s,n);return o.links?o.links():[]}return[]}));return uN(r.flat(1).filter(iN).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function B0(t,e,n,r,i,s){let o=(l,c)=>n[c]?l.route.id!==n[c].route.id:!0,a=(l,c)=>{var h;return n[c].pathname!==l.pathname||((h=n[c].route.path)==null?void 0:h.endsWith("*"))&&n[c].params["*"]!==l.params["*"]};return s==="assets"?e.filter((l,c)=>o(l,c)||a(l,c)):s==="data"?e.filter((l,c)=>{var d;let h=r.routes[l.route.id];if(!h||!h.hasLoader)return!1;if(o(l,c)||a(l,c))return!0;if(l.route.shouldRevalidate){let m=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((d=n[0])==null?void 0:d.params)||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function oN(t,e,{includeHydrateFallback:n}={}){return aN(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function aN(t){return[...new Set(t)]}function lN(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function uN(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let s=JSON.stringify(lN(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var cN=new Set([100,101,204,205]);function hN(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&Zn(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function aS(){let t=C.useContext(Xs);return Fm(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function dN(){let t=C.useContext(nh);return Fm(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Um=C.createContext(void 0);Um.displayName="FrameworkContext";function lS(){let t=C.useContext(Um);return Fm(t,"You must render this element inside a <HydratedRouter> element"),t}function fN(t,e){let n=C.useContext(Um),[r,i]=C.useState(!1),[s,o]=C.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:c,onMouseLeave:h,onTouchStart:d}=e,m=C.useRef(null);C.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let I=v=>{v.forEach(_=>{o(_.isIntersecting)})},R=new IntersectionObserver(I,{threshold:.5});return m.current&&R.observe(m.current),()=>{R.disconnect()}}},[t]),C.useEffect(()=>{if(r){let I=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(I)}}},[r]);let y=()=>{i(!0)},E=()=>{i(!1),o(!1)};return n?t!=="intent"?[s,m,{}]:[s,m,{onFocus:Ro(a,y),onBlur:Ro(l,E),onMouseEnter:Ro(c,y),onMouseLeave:Ro(h,E),onTouchStart:Ro(d,y)}]:[!1,m,{}]}function Ro(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function pN({page:t,...e}){let{router:n}=aS(),r=C.useMemo(()=>Yx(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?C.createElement(gN,{page:t,matches:r,...e}):null}function mN(t){let{manifest:e,routeModules:n}=lS(),[r,i]=C.useState([]);return C.useEffect(()=>{let s=!1;return sN(t,e,n).then(o=>{s||i(o)}),()=>{s=!0}},[t,e,n]),r}function gN({page:t,matches:e,...n}){let r=ei(),{manifest:i,routeModules:s}=lS(),{basename:o}=aS(),{loaderData:a,matches:l}=dN(),c=C.useMemo(()=>B0(t,e,l,i,r,"data"),[t,e,l,i,r]),h=C.useMemo(()=>B0(t,e,l,i,r,"assets"),[t,e,l,i,r]),d=C.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let E=new Set,I=!1;if(e.forEach(v=>{var x;let _=i.routes[v.route.id];!_||!_.hasLoader||(!c.some(N=>N.route.id===v.route.id)&&v.route.id in a&&((x=s[v.route.id])!=null&&x.shouldRevalidate)||_.hasClientLoader?I=!0:E.add(v.route.id))}),E.size===0)return[];let R=hN(t,o);return I&&E.size>0&&R.searchParams.set("_routes",e.filter(v=>E.has(v.route.id)).map(v=>v.route.id).join(",")),[R.pathname+R.search]},[o,a,r,i,c,e,t,s]),m=C.useMemo(()=>oN(h,i),[h,i]),y=mN(h);return C.createElement(C.Fragment,null,d.map(E=>C.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...n})),m.map(E=>C.createElement("link",{key:E,rel:"modulepreload",href:E,...n})),y.map(({key:E,link:I})=>C.createElement("link",{key:E,...I})))}function yN(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var uS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{uS&&(window.__reactRouterVersion="7.6.2")}catch{}function vN({basename:t,children:e,window:n}){let r=C.useRef();r.current==null&&(r.current=ib({window:n,v5Compat:!0}));let i=r.current,[s,o]=C.useState({action:i.action,location:i.location}),a=C.useCallback(l=>{C.startTransition(()=>o(l))},[o]);return C.useLayoutEffect(()=>i.listen(a),[i,a]),C.createElement(Kb,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:i})}var cS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,rl=C.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:h,viewTransition:d,...m},y){let{basename:E}=C.useContext(Rn),I=typeof c=="string"&&cS.test(c),R,v=!1;if(typeof c=="string"&&I&&(R=c,uS))try{let A=new URL(window.location.href),k=c.startsWith("//")?new URL(A.protocol+c):new URL(c),b=Zn(k.pathname,E);k.origin===A.origin&&b!=null?c=b+k.search+k.hash:v=!0}catch{kn(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let _=bb(c,{relative:i}),[x,N,L]=fN(r,m),M=TN(c,{replace:o,state:a,target:l,preventScrollReset:h,relative:i,viewTransition:d});function S(A){e&&e(A),A.defaultPrevented||M(A)}let w=C.createElement("a",{...m,...L,href:R||_,onClick:v||s?e:S,ref:yN(y,N),target:l,"data-discover":!I&&n==="render"?"true":void 0});return x&&!I?C.createElement(C.Fragment,null,w,C.createElement(pN,{page:_})):w});rl.displayName="Link";var _N=C.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:o,viewTransition:a,children:l,...c},h){let d=nl(o,{relative:c.relative}),m=ei(),y=C.useContext(nh),{navigator:E,basename:I}=C.useContext(Rn),R=y!=null&&kN(d)&&a===!0,v=E.encodeLocation?E.encodeLocation(d).pathname:d.pathname,_=m.pathname,x=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;n||(_=_.toLowerCase(),x=x?x.toLowerCase():null,v=v.toLowerCase()),x&&I&&(x=Zn(x,I)||x);const N=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let L=_===v||!i&&_.startsWith(v)&&_.charAt(N)==="/",M=x!=null&&(x===v||!i&&x.startsWith(v)&&x.charAt(v.length)==="/"),S={isActive:L,isPending:M,isTransitioning:R},w=L?e:void 0,A;typeof r=="function"?A=r(S):A=[r,L?"active":null,M?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let k=typeof s=="function"?s(S):s;return C.createElement(rl,{...c,"aria-current":w,className:A,ref:h,style:k,to:o,viewTransition:a},typeof l=="function"?l(S):l)});_N.displayName="NavLink";var wN=C.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:s,method:o=Ru,action:a,onSubmit:l,relative:c,preventScrollReset:h,viewTransition:d,...m},y)=>{let E=IN(),I=AN(a,{relative:c}),R=o.toLowerCase()==="get"?"get":"post",v=typeof a=="string"&&cS.test(a),_=x=>{if(l&&l(x),x.defaultPrevented)return;x.preventDefault();let N=x.nativeEvent.submitter,L=(N==null?void 0:N.getAttribute("formmethod"))||o;E(N||x.currentTarget,{fetcherKey:e,method:L,navigate:n,replace:i,state:s,relative:c,preventScrollReset:h,viewTransition:d})};return C.createElement("form",{ref:y,method:R,action:I,onSubmit:r?l:_,...m,"data-discover":!v&&t==="render"?"true":void 0})});wN.displayName="Form";function EN(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function hS(t){let e=C.useContext(Xs);return xe(e,EN(t)),e}function TN(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:o}={}){let a=rh(),l=ei(),c=nl(t,{relative:s});return C.useCallback(h=>{if(Zb(h,e)){h.preventDefault();let d=n!==void 0?n:ba(l)===ba(c);a(t,{replace:d,state:r,preventScrollReset:i,relative:s,viewTransition:o})}},[l,a,c,n,r,e,t,i,s,o])}var xN=0,SN=()=>`__${String(++xN)}__`;function IN(){let{router:t}=hS("useSubmit"),{basename:e}=C.useContext(Rn),n=zb();return C.useCallback(async(r,i={})=>{let{action:s,method:o,encType:a,formData:l,body:c}=nN(r,e);if(i.navigate===!1){let h=i.fetcherKey||SN();await t.fetch(h,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||o,formEncType:i.encType||a,flushSync:i.flushSync})}else await t.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||o,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function AN(t,{relative:e}={}){let{basename:n}=C.useContext(Rn),r=C.useContext(Pn);xe(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...nl(t||".",{relative:e})},o=ei();if(t==null){s.search=o.search;let a=new URLSearchParams(s.search),l=a.getAll("index");if(l.some(h=>h==="")){a.delete("index"),l.filter(d=>d).forEach(d=>a.append("index",d));let h=a.toString();s.search=h?`?${h}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:qn([n,s.pathname])),ba(s)}function kN(t,e={}){let n=C.useContext(nS);xe(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=hS("useViewTransitionState"),i=nl(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=Zn(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Zn(n.nextLocation.pathname,r)||n.nextLocation.pathname;return mc(i.pathname,o)!=null||mc(i.pathname,s)!=null}[...cN];const CN=C.createContext(void 0),RN=({children:t})=>{const[e,n]=C.useState(()=>{const i=localStorage.getItem("theme");return i==="dark"||i==="light"?i:"light"});C.useEffect(()=>{document.documentElement.classList.toggle("dark",e==="dark"),localStorage.setItem("theme",e)},[e]);const r=()=>n(i=>i==="light"?"dark":"light");return p.jsx(CN.Provider,{value:{theme:e,toggleTheme:r},children:t})},Bm=C.createContext({});function $m(t){const e=C.useRef(null);return e.current===null&&(e.current=t()),e.current}const zm=typeof window<"u",dS=zm?C.useLayoutEffect:C.useEffect,sh=C.createContext(null);function Hm(t,e){t.indexOf(e)===-1&&t.push(e)}function Wm(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const er=(t,e,n)=>n>e?e:n<t?t:n;let qm=()=>{};const tr={},fS=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function pS(t){return typeof t=="object"&&t!==null}const mS=t=>/^0[^.\s]+$/u.test(t);function Km(t){let e;return()=>(e===void 0&&(e=t()),e)}const Kt=t=>t,PN=(t,e)=>n=>e(t(n)),il=(...t)=>t.reduce(PN),Na=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class Gm{constructor(){this.subscriptions=[]}add(e){return Hm(this.subscriptions,e),()=>Wm(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const _n=t=>t*1e3,wn=t=>t/1e3;function gS(t,e){return e?t*(1e3/e):0}const yS=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,bN=1e-7,NN=12;function DN(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=yS(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>bN&&++a<NN);return o}function sl(t,e,n,r){if(t===e&&n===r)return Kt;const i=s=>DN(s,0,1,t,n);return s=>s===0||s===1?s:yS(i(s),e,r)}const vS=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,_S=t=>e=>1-t(1-e),wS=sl(.33,1.53,.69,.99),Qm=_S(wS),ES=vS(Qm),TS=t=>(t*=2)<1?.5*Qm(t):.5*(2-Math.pow(2,-10*(t-1))),Ym=t=>1-Math.sin(Math.acos(t)),xS=_S(Ym),SS=vS(Ym),VN=sl(.42,0,1,1),LN=sl(0,0,.58,1),IS=sl(.42,0,.58,1),ON=t=>Array.isArray(t)&&typeof t[0]!="number",AS=t=>Array.isArray(t)&&typeof t[0]=="number",MN={linear:Kt,easeIn:VN,easeInOut:IS,easeOut:LN,circIn:Ym,circInOut:SS,circOut:xS,backIn:Qm,backInOut:ES,backOut:wS,anticipate:TS},jN=t=>typeof t=="string",$0=t=>{if(AS(t)){qm(t.length===4);const[e,n,r,i]=t;return sl(e,n,r,i)}else if(jN(t))return MN[t];return t},iu=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],z0={value:null};function FN(t,e){let n=new Set,r=new Set,i=!1,s=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1},l=0;function c(d){o.has(d)&&(h.schedule(d),t()),l++,d(a)}const h={schedule:(d,m=!1,y=!1)=>{const I=y&&i?n:r;return m&&o.add(d),I.has(d)||I.add(d),d},cancel:d=>{r.delete(d),o.delete(d)},process:d=>{if(a=d,i){s=!0;return}i=!0,[n,r]=[r,n],n.forEach(c),e&&z0.value&&z0.value.frameloop[e].push(l),l=0,n.clear(),i=!1,s&&(s=!1,h.process(d))}};return h}const UN=40;function kS(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=iu.reduce((x,N)=>(x[N]=FN(s,e?N:void 0),x),{}),{setup:a,read:l,resolveKeyframes:c,preUpdate:h,update:d,preRender:m,render:y,postRender:E}=o,I=()=>{const x=tr.useManualTiming?i.timestamp:performance.now();n=!1,tr.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(x-i.timestamp,UN),1)),i.timestamp=x,i.isProcessing=!0,a.process(i),l.process(i),c.process(i),h.process(i),d.process(i),m.process(i),y.process(i),E.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(I))},R=()=>{n=!0,r=!0,i.isProcessing||t(I)};return{schedule:iu.reduce((x,N)=>{const L=o[N];return x[N]=(M,S=!1,w=!1)=>(n||R(),L.schedule(M,S,w)),x},{}),cancel:x=>{for(let N=0;N<iu.length;N++)o[iu[N]].cancel(x)},state:i,steps:o}}const{schedule:Se,cancel:Br,state:Qe,steps:Ad}=kS(typeof requestAnimationFrame<"u"?requestAnimationFrame:Kt,!0);let bu;function BN(){bu=void 0}const kt={now:()=>(bu===void 0&&kt.set(Qe.isProcessing||tr.useManualTiming?Qe.timestamp:performance.now()),bu),set:t=>{bu=t,queueMicrotask(BN)}},CS=t=>e=>typeof e=="string"&&e.startsWith(t),Xm=CS("--"),$N=CS("var(--"),Jm=t=>$N(t)?zN.test(t.split("/*")[0].trim()):!1,zN=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Js={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Da={...Js,transform:t=>er(0,1,t)},su={...Js,default:1},na=t=>Math.round(t*1e5)/1e5,Zm=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function HN(t){return t==null}const WN=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,eg=(t,e)=>n=>!!(typeof n=="string"&&WN.test(n)&&n.startsWith(t)||e&&!HN(n)&&Object.prototype.hasOwnProperty.call(n,e)),RS=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,a]=r.match(Zm);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},qN=t=>er(0,255,t),kd={...Js,transform:t=>Math.round(qN(t))},vi={test:eg("rgb","red"),parse:RS("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+kd.transform(t)+", "+kd.transform(e)+", "+kd.transform(n)+", "+na(Da.transform(r))+")"};function KN(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Kf={test:eg("#"),parse:KN,transform:vi.transform},ol=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),mr=ol("deg"),En=ol("%"),Y=ol("px"),GN=ol("vh"),QN=ol("vw"),H0={...En,parse:t=>En.parse(t)/100,transform:t=>En.transform(t*100)},ms={test:eg("hsl","hue"),parse:RS("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+En.transform(na(e))+", "+En.transform(na(n))+", "+na(Da.transform(r))+")"},Me={test:t=>vi.test(t)||Kf.test(t)||ms.test(t),parse:t=>vi.test(t)?vi.parse(t):ms.test(t)?ms.parse(t):Kf.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?vi.transform(t):ms.transform(t),getAnimatableNone:t=>{const e=Me.parse(t);return e.alpha=0,Me.transform(e)}},YN=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function XN(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Zm))==null?void 0:e.length)||0)+(((n=t.match(YN))==null?void 0:n.length)||0)>0}const PS="number",bS="color",JN="var",ZN="var(",W0="${}",e2=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Va(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=e.replace(e2,l=>(Me.test(l)?(r.color.push(s),i.push(bS),n.push(Me.parse(l))):l.startsWith(ZN)?(r.var.push(s),i.push(JN),n.push(l)):(r.number.push(s),i.push(PS),n.push(parseFloat(l))),++s,W0)).split(W0);return{values:n,split:a,indexes:r,types:i}}function NS(t){return Va(t).values}function DS(t){const{split:e,types:n}=Va(t),r=e.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=e[o],i[o]!==void 0){const a=n[o];a===PS?s+=na(i[o]):a===bS?s+=Me.transform(i[o]):s+=i[o]}return s}}const t2=t=>typeof t=="number"?0:Me.test(t)?Me.getAnimatableNone(t):t;function n2(t){const e=NS(t);return DS(t)(e.map(t2))}const $r={test:XN,parse:NS,createTransformer:DS,getAnimatableNone:n2};function Cd(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function r2({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=Cd(l,a,t+1/3),s=Cd(l,a,t),o=Cd(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function gc(t,e){return n=>n>0?e:t}const Ee=(t,e,n)=>t+(e-t)*n,Rd=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},i2=[Kf,vi,ms],s2=t=>i2.find(e=>e.test(t));function q0(t){const e=s2(t);if(!e)return!1;let n=e.parse(t);return e===ms&&(n=r2(n)),n}const K0=(t,e)=>{const n=q0(t),r=q0(e);if(!n||!r)return gc(t,e);const i={...n};return s=>(i.red=Rd(n.red,r.red,s),i.green=Rd(n.green,r.green,s),i.blue=Rd(n.blue,r.blue,s),i.alpha=Ee(n.alpha,r.alpha,s),vi.transform(i))},Gf=new Set(["none","hidden"]);function o2(t,e){return Gf.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function a2(t,e){return n=>Ee(t,e,n)}function tg(t){return typeof t=="number"?a2:typeof t=="string"?Jm(t)?gc:Me.test(t)?K0:c2:Array.isArray(t)?VS:typeof t=="object"?Me.test(t)?K0:l2:gc}function VS(t,e){const n=[...t],r=n.length,i=t.map((s,o)=>tg(s)(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function l2(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=tg(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function u2(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const s=e.types[i],o=t.indexes[s][r[s]],a=t.values[o]??0;n[i]=a,r[s]++}return n}const c2=(t,e)=>{const n=$r.createTransformer(e),r=Va(t),i=Va(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Gf.has(t)&&!i.values.length||Gf.has(e)&&!r.values.length?o2(t,e):il(VS(u2(r,i),i.values),n):gc(t,e)};function LS(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Ee(t,e,n):tg(t)(t,e)}const h2=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Se.update(e,n),stop:()=>Br(e),now:()=>Qe.isProcessing?Qe.timestamp:kt.now()}},OS=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let s=0;s<i;s++)r+=Math.round(t(s/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},yc=2e4;function ng(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<yc;)e+=n,r=t.next(e);return e>=yc?1/0:e}function d2(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(ng(r),yc);return{type:"keyframes",ease:s=>r.next(i*s).value/e,duration:wn(i)}}const f2=5;function MS(t,e,n){const r=Math.max(e-f2,0);return gS(n-t(r),e-r)}const Ce={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Pd=.001;function p2({duration:t=Ce.duration,bounce:e=Ce.bounce,velocity:n=Ce.velocity,mass:r=Ce.mass}){let i,s,o=1-e;o=er(Ce.minDamping,Ce.maxDamping,o),t=er(Ce.minDuration,Ce.maxDuration,wn(t)),o<1?(i=c=>{const h=c*o,d=h*t,m=h-n,y=Qf(c,o),E=Math.exp(-d);return Pd-m/y*E},s=c=>{const d=c*o*t,m=d*n+n,y=Math.pow(o,2)*Math.pow(c,2)*t,E=Math.exp(-d),I=Qf(Math.pow(c,2),o);return(-i(c)+Pd>0?-1:1)*((m-y)*E)/I}):(i=c=>{const h=Math.exp(-c*t),d=(c-n)*t+1;return-Pd+h*d},s=c=>{const h=Math.exp(-c*t),d=(n-c)*(t*t);return h*d});const a=5/t,l=g2(i,s,a);if(t=_n(t),isNaN(l))return{stiffness:Ce.stiffness,damping:Ce.damping,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const m2=12;function g2(t,e,n){let r=n;for(let i=1;i<m2;i++)r=r-t(r)/e(r);return r}function Qf(t,e){return t*Math.sqrt(1-e*e)}const y2=["duration","bounce"],v2=["stiffness","damping","mass"];function G0(t,e){return e.some(n=>t[n]!==void 0)}function _2(t){let e={velocity:Ce.velocity,stiffness:Ce.stiffness,damping:Ce.damping,mass:Ce.mass,isResolvedFromDuration:!1,...t};if(!G0(t,v2)&&G0(t,y2))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*er(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:Ce.mass,stiffness:i,damping:s}}else{const n=p2(t);e={...e,...n,mass:Ce.mass},e.isResolvedFromDuration=!0}return e}function vc(t=Ce.visualDuration,e=Ce.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:c,mass:h,duration:d,velocity:m,isResolvedFromDuration:y}=_2({...n,velocity:-wn(n.velocity||0)}),E=m||0,I=c/(2*Math.sqrt(l*h)),R=o-s,v=wn(Math.sqrt(l/h)),_=Math.abs(R)<5;r||(r=_?Ce.restSpeed.granular:Ce.restSpeed.default),i||(i=_?Ce.restDelta.granular:Ce.restDelta.default);let x;if(I<1){const L=Qf(v,I);x=M=>{const S=Math.exp(-I*v*M);return o-S*((E+I*v*R)/L*Math.sin(L*M)+R*Math.cos(L*M))}}else if(I===1)x=L=>o-Math.exp(-v*L)*(R+(E+v*R)*L);else{const L=v*Math.sqrt(I*I-1);x=M=>{const S=Math.exp(-I*v*M),w=Math.min(L*M,300);return o-S*((E+I*v*R)*Math.sinh(w)+L*R*Math.cosh(w))/L}}const N={calculatedDuration:y&&d||null,next:L=>{const M=x(L);if(y)a.done=L>=d;else{let S=L===0?E:0;I<1&&(S=L===0?_n(E):MS(x,L,M));const w=Math.abs(S)<=r,A=Math.abs(o-M)<=i;a.done=w&&A}return a.value=a.done?o:M,a},toString:()=>{const L=Math.min(ng(N),yc),M=OS(S=>N.next(L*S).value,L,30);return L+"ms "+M},toTransition:()=>{}};return N}vc.applyToOptions=t=>{const e=d2(t,100,vc);return t.ease=e.ease,t.duration=_n(e.duration),t.type="keyframes",t};function Yf({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:h}){const d=t[0],m={done:!1,value:d},y=w=>a!==void 0&&w<a||l!==void 0&&w>l,E=w=>a===void 0?l:l===void 0||Math.abs(a-w)<Math.abs(l-w)?a:l;let I=n*e;const R=d+I,v=o===void 0?R:o(R);v!==R&&(I=v-d);const _=w=>-I*Math.exp(-w/r),x=w=>v+_(w),N=w=>{const A=_(w),k=x(w);m.done=Math.abs(A)<=c,m.value=m.done?v:k};let L,M;const S=w=>{y(m.value)&&(L=w,M=vc({keyframes:[m.value,E(m.value)],velocity:MS(x,w,m.value),damping:i,stiffness:s,restDelta:c,restSpeed:h}))};return S(0),{calculatedDuration:null,next:w=>{let A=!1;return!M&&L===void 0&&(A=!0,N(w),S(w)),L!==void 0&&w>=L?M.next(w-L):(!A&&N(w),m)}}}function w2(t,e,n){const r=[],i=n||tr.mix||LS,s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||Kt:e;a=il(l,a)}r.push(a)}return r}function E2(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(qm(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=w2(e,r,i),l=a.length,c=h=>{if(o&&h<t[0])return e[0];let d=0;if(l>1)for(;d<t.length-2&&!(h<t[d+1]);d++);const m=Na(t[d],t[d+1],h);return a[d](m)};return n?h=>c(er(t[0],t[s-1],h)):c}function T2(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Na(0,e,r);t.push(Ee(n,1,i))}}function x2(t){const e=[0];return T2(e,t.length-1),e}function S2(t,e){return t.map(n=>n*e)}function I2(t,e){return t.map(()=>e||IS).splice(0,t.length-1)}function ra({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=ON(r)?r.map($0):$0(r),s={done:!1,value:e[0]},o=S2(n&&n.length===e.length?n:x2(e),t),a=E2(o,e,{ease:Array.isArray(i)?i:I2(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}const A2=t=>t!==null;function rg(t,{repeat:e,repeatType:n="loop"},r,i=1){const s=t.filter(A2),a=i<0||e&&n!=="loop"&&e%2===1?0:s.length-1;return!a||r===void 0?s[a]:r}const k2={decay:Yf,inertia:Yf,tween:ra,keyframes:ra,spring:vc};function jS(t){typeof t.type=="string"&&(t.type=k2[t.type])}class ig{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const C2=t=>t/100;class sg extends ig{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,i;const{motionValue:n}=this.options;n&&n.updatedAt!==kt.now()&&this.tick(kt.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;jS(e);const{type:n=ra,repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=e;let{keyframes:a}=e;const l=n||ra;l!==ra&&typeof a[0]!="number"&&(this.mixKeyframes=il(C2,LS(a[0],a[1])),a=[0,100]);const c=l({...e,keyframes:a});s==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...a].reverse(),velocity:-o})),c.calculatedDuration===null&&(c.calculatedDuration=ng(c));const{calculatedDuration:h}=c;this.calculatedDuration=h,this.resolvedDuration=h+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=c}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:s,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:c=0,keyframes:h,repeat:d,repeatType:m,repeatDelay:y,type:E,onUpdate:I,finalKeyframe:R}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const v=this.currentTime-c*(this.playbackSpeed>=0?1:-1),_=this.playbackSpeed>=0?v<0:v>i;this.currentTime=Math.max(v,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let x=this.currentTime,N=r;if(d){const w=Math.min(this.currentTime,i)/a;let A=Math.floor(w),k=w%1;!k&&w>=1&&(k=1),k===1&&A--,A=Math.min(A,d+1),!!(A%2)&&(m==="reverse"?(k=1-k,y&&(k-=y/a)):m==="mirror"&&(N=o)),x=er(0,1,k)*a}const L=_?{done:!1,value:h[0]}:N.next(x);s&&(L.value=s(L.value));let{done:M}=L;!_&&l!==null&&(M=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const S=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&M);return S&&E!==Yf&&(L.value=rg(h,this.options,R,this.speed)),I&&I(L.value),S&&this.finish(),L}then(e,n){return this.finished.then(e,n)}get duration(){return wn(this.calculatedDuration)}get time(){return wn(this.currentTime)}set time(e){var n;e=_n(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(kt.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=wn(this.currentTime))}play(){var i,s;if(this.isStopped)return;const{driver:e=h2,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(s=(i=this.options).onPlay)==null||s.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(kt.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function R2(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const _i=t=>t*180/Math.PI,Xf=t=>{const e=_i(Math.atan2(t[1],t[0]));return Jf(e)},P2={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Xf,rotateZ:Xf,skewX:t=>_i(Math.atan(t[1])),skewY:t=>_i(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Jf=t=>(t=t%360,t<0&&(t+=360),t),Q0=Xf,Y0=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),X0=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),b2={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Y0,scaleY:X0,scale:t=>(Y0(t)+X0(t))/2,rotateX:t=>Jf(_i(Math.atan2(t[6],t[5]))),rotateY:t=>Jf(_i(Math.atan2(-t[2],t[0]))),rotateZ:Q0,rotate:Q0,skewX:t=>_i(Math.atan(t[4])),skewY:t=>_i(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Zf(t){return t.includes("scale")?1:0}function ep(t,e){if(!t||t==="none")return Zf(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=b2,i=n;else{const a=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=P2,i=a}if(!i)return Zf(e);const s=r[e],o=i[1].split(",").map(D2);return typeof s=="function"?s(o):o[s]}const N2=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return ep(n,e)};function D2(t){return parseFloat(t.trim())}const Zs=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],eo=new Set(Zs),J0=t=>t===Js||t===Y,V2=new Set(["x","y","z"]),L2=Zs.filter(t=>!V2.has(t));function O2(t){const e=[];return L2.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Si={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>ep(e,"x"),y:(t,{transform:e})=>ep(e,"y")};Si.translateX=Si.x;Si.translateY=Si.y;const Ii=new Set;let tp=!1,np=!1,rp=!1;function FS(){if(np){const t=Array.from(Ii).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=O2(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))==null||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}np=!1,tp=!1,Ii.forEach(t=>t.complete(rp)),Ii.clear()}function US(){Ii.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(np=!0)})}function M2(){rp=!0,US(),FS(),rp=!1}class og{constructor(e,n,r,i,s,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Ii.add(this),tp||(tp=!0,Se.read(US),Se.resolveKeyframes(FS))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const s=i==null?void 0:i.get(),o=e[e.length-1];if(s!==void 0)e[0]=s;else if(r&&n){const a=r.readValue(n,o);a!=null&&(e[0]=a)}e[0]===void 0&&(e[0]=o),i&&s===void 0&&i.set(e[0])}R2(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Ii.delete(this)}cancel(){this.state==="scheduled"&&(Ii.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const j2=t=>t.startsWith("--");function F2(t,e,n){j2(e)?t.style.setProperty(e,n):t.style[e]=n}const U2=Km(()=>window.ScrollTimeline!==void 0),B2={};function $2(t,e){const n=Km(t);return()=>B2[e]??n()}const BS=$2(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Uo=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,Z0={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Uo([0,.65,.55,1]),circOut:Uo([.55,0,1,.45]),backIn:Uo([.31,.01,.66,-.59]),backOut:Uo([.33,1.53,.69,.99])};function $S(t,e){if(t)return typeof t=="function"?BS()?OS(t,e):"ease-out":AS(t)?Uo(t):Array.isArray(t)?t.map(n=>$S(n,e)||Z0.easeOut):Z0[t]}function z2(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeOut",times:l}={},c=void 0){const h={[e]:n};l&&(h.offset=l);const d=$S(a,i);Array.isArray(d)&&(h.easing=d);const m={delay:r,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"};return c&&(m.pseudoElement=c),t.animate(h,m)}function zS(t){return typeof t=="function"&&"applyToOptions"in t}function H2({type:t,...e}){return zS(t)&&BS()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class W2 extends ig{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:s,allowFlatten:o=!1,finalKeyframe:a,onComplete:l}=e;this.isPseudoElement=!!s,this.allowFlatten=o,this.options=e,qm(typeof e.type!="string");const c=H2(e);this.animation=z2(n,r,i,c,s),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const h=rg(i,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(h):F2(n,r,h),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return wn(Number(e))}get time(){return wn(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=_n(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&U2()?(this.animation.timeline=e,Kt):n(this)}}const HS={anticipate:TS,backInOut:ES,circInOut:SS};function q2(t){return t in HS}function K2(t){typeof t.ease=="string"&&q2(t.ease)&&(t.ease=HS[t.ease])}const e_=10;class G2 extends W2{constructor(e){K2(e),jS(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:i,element:s,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const a=new sg({...o,autoplay:!1}),l=_n(this.finishedTime??this.time);n.setWithVelocity(a.sample(l-e_).value,a.sample(l).value,e_),a.stop()}}const t_=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&($r.test(t)||t==="0")&&!t.startsWith("url("));function Q2(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function Y2(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=t_(i,e),a=t_(s,e);return!o||!a?!1:Q2(t)||(n==="spring"||zS(n))&&r}function ag(t){return pS(t)&&"offsetHeight"in t}const X2=new Set(["opacity","clipPath","filter","transform"]),J2=Km(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Z2(t){var c;const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:s,type:o}=t;if(!ag((c=e==null?void 0:e.owner)==null?void 0:c.current))return!1;const{onUpdate:a,transformTemplate:l}=e.owner.getProps();return J2()&&n&&X2.has(n)&&(n!=="transform"||!l)&&!a&&!r&&i!=="mirror"&&s!==0&&o!=="inertia"}const eD=40;class tD extends ig{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",keyframes:a,name:l,motionValue:c,element:h,...d}){var E;super(),this.stop=()=>{var I,R;this._animation&&(this._animation.stop(),(I=this.stopTimeline)==null||I.call(this)),(R=this.keyframeResolver)==null||R.cancel()},this.createdAt=kt.now();const m={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,name:l,motionValue:c,element:h,...d},y=(h==null?void 0:h.KeyframeResolver)||og;this.keyframeResolver=new y(a,(I,R,v)=>this.onKeyframesResolved(I,R,m,!v),l,c,h),(E=this.keyframeResolver)==null||E.scheduleResolve()}onKeyframesResolved(e,n,r,i){this.keyframeResolver=void 0;const{name:s,type:o,velocity:a,delay:l,isHandoff:c,onUpdate:h}=r;this.resolvedAt=kt.now(),Y2(e,s,o,a)||((tr.instantAnimations||!l)&&(h==null||h(rg(e,r,n))),e[0]=e[e.length-1],r.duration=0,r.repeat=0);const m={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>eD?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},y=!c&&Z2(m)?new G2({...m,element:m.motionValue.owner.current}):new sg(m);y.finished.then(()=>this.notifyFinished()).catch(Kt),this.pendingTimeline&&(this.stopTimeline=y.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=y}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),M2()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const nD=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function rD(t){const e=nD.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function WS(t,e,n=1){const[r,i]=rD(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return fS(o)?parseFloat(o):o}return Jm(i)?WS(i,e,n+1):i}function lg(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const qS=new Set(["width","height","top","left","right","bottom",...Zs]),iD={test:t=>t==="auto",parse:t=>t},KS=t=>e=>e.test(t),GS=[Js,Y,En,mr,QN,GN,iD],n_=t=>GS.find(KS(t));function sD(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||mS(t):!0}const oD=new Set(["brightness","contrast","saturate","opacity"]);function aD(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Zm)||[];if(!r)return t;const i=n.replace(r,"");let s=oD.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const lD=/\b([a-z-]*)\(.*?\)/gu,ip={...$r,getAnimatableNone:t=>{const e=t.match(lD);return e?e.map(aD).join(" "):t}},r_={...Js,transform:Math.round},uD={rotate:mr,rotateX:mr,rotateY:mr,rotateZ:mr,scale:su,scaleX:su,scaleY:su,scaleZ:su,skew:mr,skewX:mr,skewY:mr,distance:Y,translateX:Y,translateY:Y,translateZ:Y,x:Y,y:Y,z:Y,perspective:Y,transformPerspective:Y,opacity:Da,originX:H0,originY:H0,originZ:Y},ug={borderWidth:Y,borderTopWidth:Y,borderRightWidth:Y,borderBottomWidth:Y,borderLeftWidth:Y,borderRadius:Y,radius:Y,borderTopLeftRadius:Y,borderTopRightRadius:Y,borderBottomRightRadius:Y,borderBottomLeftRadius:Y,width:Y,maxWidth:Y,height:Y,maxHeight:Y,top:Y,right:Y,bottom:Y,left:Y,padding:Y,paddingTop:Y,paddingRight:Y,paddingBottom:Y,paddingLeft:Y,margin:Y,marginTop:Y,marginRight:Y,marginBottom:Y,marginLeft:Y,backgroundPositionX:Y,backgroundPositionY:Y,...uD,zIndex:r_,fillOpacity:Da,strokeOpacity:Da,numOctaves:r_},cD={...ug,color:Me,backgroundColor:Me,outlineColor:Me,fill:Me,stroke:Me,borderColor:Me,borderTopColor:Me,borderRightColor:Me,borderBottomColor:Me,borderLeftColor:Me,filter:ip,WebkitFilter:ip},QS=t=>cD[t];function YS(t,e){let n=QS(t);return n!==ip&&(n=$r),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const hD=new Set(["auto","none","0"]);function dD(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!hD.has(s)&&Va(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=YS(n,i)}class fD extends og{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),Jm(c))){const h=WS(c,n.current);h!==void 0&&(e[l]=h),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!qS.has(r)||e.length!==2)return;const[i,s]=e,o=n_(i),a=n_(s);if(o!==a)if(J0(o)&&J0(a))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else Si[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||sD(e[i]))&&r.push(i);r.length&&dD(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Si[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var a;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,o=r[s];r[s]=Si[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([l,c])=>{e.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function pD(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const i=(n==null?void 0:n[t])??r.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const XS=(t,e)=>e&&typeof t=="number"?e.transform(t):t,i_=30,mD=t=>!isNaN(parseFloat(t));class gD{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{var o,a;const s=kt.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty();i&&((a=this.events.renderRequest)==null||a.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=kt.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=mD(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Gm);const r=this.events[e].add(n);return e==="change"?()=>{r(),Se.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=kt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>i_)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,i_);return gS(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function js(t,e){return new gD(t,e)}const{schedule:cg}=kS(queueMicrotask,!1),en={x:!1,y:!1};function JS(){return en.x||en.y}function yD(t){return t==="x"||t==="y"?en[t]?null:(en[t]=!0,()=>{en[t]=!1}):en.x||en.y?null:(en.x=en.y=!0,()=>{en.x=en.y=!1})}function ZS(t,e){const n=pD(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function s_(t){return!(t.pointerType==="touch"||JS())}function vD(t,e,n={}){const[r,i,s]=ZS(t,n),o=a=>{if(!s_(a))return;const{target:l}=a,c=e(l,a);if(typeof c!="function"||!l)return;const h=d=>{s_(d)&&(c(d),l.removeEventListener("pointerleave",h))};l.addEventListener("pointerleave",h,i)};return r.forEach(a=>{a.addEventListener("pointerenter",o,i)}),s}const eI=(t,e)=>e?t===e?!0:eI(t,e.parentElement):!1,hg=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,_D=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function wD(t){return _D.has(t.tagName)||t.tabIndex!==-1}const Nu=new WeakSet;function o_(t){return e=>{e.key==="Enter"&&t(e)}}function bd(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const ED=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=o_(()=>{if(Nu.has(n))return;bd(n,"down");const i=o_(()=>{bd(n,"up")}),s=()=>bd(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function a_(t){return hg(t)&&!JS()}function TD(t,e,n={}){const[r,i,s]=ZS(t,n),o=a=>{const l=a.currentTarget;if(!a_(a))return;Nu.add(l);const c=e(l,a),h=(y,E)=>{window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",m),Nu.has(l)&&Nu.delete(l),a_(y)&&typeof c=="function"&&c(y,{success:E})},d=y=>{h(y,l===window||l===document||n.useGlobalTarget||eI(l,y.target))},m=y=>{h(y,!1)};window.addEventListener("pointerup",d,i),window.addEventListener("pointercancel",m,i)};return r.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,i),ag(a)&&(a.addEventListener("focus",c=>ED(c,i)),!wD(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),s}function tI(t){return pS(t)&&"ownerSVGElement"in t}function xD(t){return tI(t)&&t.tagName==="svg"}const ct=t=>!!(t&&t.getVelocity),SD=[...GS,Me,$r],ID=t=>SD.find(KS(t)),dg=C.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class AD extends C.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=ag(r)&&r.offsetWidth||0,s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft,s.right=i-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function kD({children:t,isPresent:e,anchorX:n}){const r=C.useId(),i=C.useRef(null),s=C.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=C.useContext(dg);return C.useInsertionEffect(()=>{const{width:a,height:l,top:c,left:h,right:d}=s.current;if(e||!i.current||!a||!l)return;const m=n==="left"?`left: ${h}`:`right: ${d}`;i.current.dataset.motionPopId=r;const y=document.createElement("style");return o&&(y.nonce=o),document.head.appendChild(y),y.sheet&&y.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${l}px !important;
            ${m}px !important;
            top: ${c}px !important;
          }
        `),()=>{document.head.contains(y)&&document.head.removeChild(y)}},[e]),p.jsx(AD,{isPresent:e,childRef:i,sizeRef:s,children:C.cloneElement(t,{ref:i})})}const CD=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o,anchorX:a})=>{const l=$m(RD),c=C.useId();let h=!0,d=C.useMemo(()=>(h=!1,{id:c,initial:e,isPresent:n,custom:i,onExitComplete:m=>{l.set(m,!0);for(const y of l.values())if(!y)return;r&&r()},register:m=>(l.set(m,!1),()=>l.delete(m))}),[n,l,r]);return s&&h&&(d={...d}),C.useMemo(()=>{l.forEach((m,y)=>l.set(y,!1))},[n]),C.useEffect(()=>{!n&&!l.size&&r&&r()},[n]),o==="popLayout"&&(t=p.jsx(kD,{isPresent:n,anchorX:a,children:t})),p.jsx(sh.Provider,{value:d,children:t})};function RD(){return new Map}function nI(t=!0){const e=C.useContext(sh);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,s=C.useId();C.useEffect(()=>{if(t)return i(s)},[t]);const o=C.useCallback(()=>t&&r&&r(s),[s,r,t]);return!n&&r?[!1,o]:[!0]}const ou=t=>t.key||"";function l_(t){const e=[];return C.Children.forEach(t,n=>{C.isValidElement(n)&&e.push(n)}),e}const PD=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:o=!1,anchorX:a="left"})=>{const[l,c]=nI(o),h=C.useMemo(()=>l_(t),[t]),d=o&&!l?[]:h.map(ou),m=C.useRef(!0),y=C.useRef(h),E=$m(()=>new Map),[I,R]=C.useState(h),[v,_]=C.useState(h);dS(()=>{m.current=!1,y.current=h;for(let L=0;L<v.length;L++){const M=ou(v[L]);d.includes(M)?E.delete(M):E.get(M)!==!0&&E.set(M,!1)}},[v,d.length,d.join("-")]);const x=[];if(h!==I){let L=[...h];for(let M=0;M<v.length;M++){const S=v[M],w=ou(S);d.includes(w)||(L.splice(M,0,S),x.push(S))}return s==="wait"&&x.length&&(L=x),_(l_(L)),R(h),null}const{forceRender:N}=C.useContext(Bm);return p.jsx(p.Fragment,{children:v.map(L=>{const M=ou(L),S=o&&!l?!1:h===v||d.includes(M),w=()=>{if(E.has(M))E.set(M,!0);else return;let A=!0;E.forEach(k=>{k||(A=!1)}),A&&(N==null||N(),_(y.current),o&&(c==null||c()),r&&r())};return p.jsx(CD,{isPresent:S,initial:!m.current||n?void 0:!1,custom:e,presenceAffectsLayout:i,mode:s,onExitComplete:S?void 0:w,anchorX:a,children:L},M)})})},rI=C.createContext({strict:!1}),u_={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Fs={};for(const t in u_)Fs[t]={isEnabled:e=>u_[t].some(n=>!!e[n])};function bD(t){for(const e in t)Fs[e]={...Fs[e],...t[e]}}const ND=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function _c(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||ND.has(t)}let iI=t=>!_c(t);function DD(t){typeof t=="function"&&(iI=e=>e.startsWith("on")?!_c(e):t(e))}try{DD(require("@emotion/is-prop-valid").default)}catch{}function VD(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(iI(i)||n===!0&&_c(i)||!e&&!_c(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function LD(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const oh=C.createContext({});function ah(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function La(t){return typeof t=="string"||Array.isArray(t)}const fg=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],pg=["initial",...fg];function lh(t){return ah(t.animate)||pg.some(e=>La(t[e]))}function sI(t){return!!(lh(t)||t.variants)}function OD(t,e){if(lh(t)){const{initial:n,animate:r}=t;return{initial:n===!1||La(n)?n:void 0,animate:La(r)?r:void 0}}return t.inherit!==!1?e:{}}function MD(t){const{initial:e,animate:n}=OD(t,C.useContext(oh));return C.useMemo(()=>({initial:e,animate:n}),[c_(e),c_(n)])}function c_(t){return Array.isArray(t)?t.join(" "):t}const jD=Symbol.for("motionComponentSymbol");function gs(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function FD(t,e,n){return C.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):gs(n)&&(n.current=r))},[e])}const mg=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),UD="framerAppearId",oI="data-"+mg(UD),aI=C.createContext({});function BD(t,e,n,r,i){var I,R;const{visualElement:s}=C.useContext(oh),o=C.useContext(rI),a=C.useContext(sh),l=C.useContext(dg).reducedMotion,c=C.useRef(null);r=r||o.renderer,!c.current&&r&&(c.current=r(t,{visualState:e,parent:s,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const h=c.current,d=C.useContext(aI);h&&!h.projection&&i&&(h.type==="html"||h.type==="svg")&&$D(c.current,n,i,d);const m=C.useRef(!1);C.useInsertionEffect(()=>{h&&m.current&&h.update(n,a)});const y=n[oI],E=C.useRef(!!y&&!((I=window.MotionHandoffIsComplete)!=null&&I.call(window,y))&&((R=window.MotionHasOptimisedAnimation)==null?void 0:R.call(window,y)));return dS(()=>{h&&(m.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),cg.render(h.render),E.current&&h.animationState&&h.animationState.animateChanges())}),C.useEffect(()=>{h&&(!E.current&&h.animationState&&h.animationState.animateChanges(),E.current&&(queueMicrotask(()=>{var v;(v=window.MotionHandoffMarkAsComplete)==null||v.call(window,y)}),E.current=!1))}),h}function $D(t,e,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c,layoutCrossfade:h}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:lI(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&gs(a),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,crossfade:h,layoutScroll:l,layoutRoot:c})}function lI(t){if(t)return t.options.allowProjection!==!1?t.projection:lI(t.parent)}function zD({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&bD(t);function s(a,l){let c;const h={...C.useContext(dg),...a,layoutId:HD(a)},{isStatic:d}=h,m=MD(a),y=r(a,d);if(!d&&zm){WD();const E=qD(h);c=E.MeasureLayout,m.visualElement=BD(i,y,h,e,E.ProjectionNode)}return p.jsxs(oh.Provider,{value:m,children:[c&&m.visualElement?p.jsx(c,{visualElement:m.visualElement,...h}):null,n(i,a,FD(y,m.visualElement,l),y,d,m.visualElement)]})}s.displayName=`motion.${typeof i=="string"?i:`create(${i.displayName??i.name??""})`}`;const o=C.forwardRef(s);return o[jD]=i,o}function HD({layoutId:t}){const e=C.useContext(Bm).id;return e&&t!==void 0?e+"-"+t:t}function WD(t,e){C.useContext(rI).strict}function qD(t){const{drag:e,layout:n}=Fs;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const Oa={};function KD(t){for(const e in t)Oa[e]=t[e],Xm(e)&&(Oa[e].isCSSVariable=!0)}function uI(t,{layout:e,layoutId:n}){return eo.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Oa[t]||t==="opacity")}const GD={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},QD=Zs.length;function YD(t,e,n){let r="",i=!0;for(let s=0;s<QD;s++){const o=Zs[s],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=XS(a,ug[o]);if(!l){i=!1;const h=GD[o]||o;r+=`${h}(${c}) `}n&&(e[o]=c)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function gg(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let o=!1,a=!1;for(const l in e){const c=e[l];if(eo.has(l)){o=!0;continue}else if(Xm(l)){i[l]=c;continue}else{const h=XS(c,ug[l]);l.startsWith("origin")?(a=!0,s[l]=h):r[l]=h}}if(e.transform||(o||n?r.transform=YD(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:h=0}=s;r.transformOrigin=`${l} ${c} ${h}`}}const yg=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function cI(t,e,n){for(const r in e)!ct(e[r])&&!uI(r,n)&&(t[r]=e[r])}function XD({transformTemplate:t},e){return C.useMemo(()=>{const n=yg();return gg(n,e,t),Object.assign({},n.vars,n.style)},[e])}function JD(t,e){const n=t.style||{},r={};return cI(r,n,t),Object.assign(r,XD(t,e)),r}function ZD(t,e){const n={},r=JD(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const eV={offset:"stroke-dashoffset",array:"stroke-dasharray"},tV={offset:"strokeDashoffset",array:"strokeDasharray"};function nV(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?eV:tV;t[s.offset]=Y.transform(-r);const o=Y.transform(e),a=Y.transform(n);t[s.array]=`${o} ${a}`}function hI(t,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:s=1,pathOffset:o=0,...a},l,c,h){if(gg(t,a,c),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:d,style:m}=t;d.transform&&(m.transform=d.transform,delete d.transform),(m.transform||d.transformOrigin)&&(m.transformOrigin=d.transformOrigin??"50% 50%",delete d.transformOrigin),m.transform&&(m.transformBox=(h==null?void 0:h.transformBox)??"fill-box",delete d.transformBox),e!==void 0&&(d.x=e),n!==void 0&&(d.y=n),r!==void 0&&(d.scale=r),i!==void 0&&nV(d,i,s,o,!1)}const dI=()=>({...yg(),attrs:{}}),fI=t=>typeof t=="string"&&t.toLowerCase()==="svg";function rV(t,e,n,r){const i=C.useMemo(()=>{const s=dI();return hI(s,e,fI(r),t.transformTemplate,t.style),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};cI(s,t.style,t),i.style={...s,...i.style}}return i}const iV=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function vg(t){return typeof t!="string"||t.includes("-")?!1:!!(iV.indexOf(t)>-1||/[A-Z]/u.test(t))}function sV(t=!1){return(n,r,i,{latestValues:s},o)=>{const l=(vg(n)?rV:ZD)(r,s,o,n),c=VD(r,typeof n=="string",t),h=n!==C.Fragment?{...c,...l,ref:i}:{},{children:d}=r,m=C.useMemo(()=>ct(d)?d.get():d,[d]);return C.createElement(n,{...h,children:m})}}function h_(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function _g(t,e,n,r){if(typeof e=="function"){const[i,s]=h_(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=h_(r);e=e(n!==void 0?n:t.custom,i,s)}return e}function Du(t){return ct(t)?t.get():t}function oV({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:aV(n,r,i,t),renderState:e()}}const pI=t=>(e,n)=>{const r=C.useContext(oh),i=C.useContext(sh),s=()=>oV(t,e,r,i);return n?s():$m(s)};function aV(t,e,n,r){const i={},s=r(t,{});for(const m in s)i[m]=Du(s[m]);let{initial:o,animate:a}=t;const l=lh(t),c=sI(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let h=n?n.initial===!1:!1;h=h||o===!1;const d=h?a:o;if(d&&typeof d!="boolean"&&!ah(d)){const m=Array.isArray(d)?d:[d];for(let y=0;y<m.length;y++){const E=_g(t,m[y]);if(E){const{transitionEnd:I,transition:R,...v}=E;for(const _ in v){let x=v[_];if(Array.isArray(x)){const N=h?x.length-1:0;x=x[N]}x!==null&&(i[_]=x)}for(const _ in I)i[_]=I[_]}}}return i}function wg(t,e,n){var s;const{style:r}=t,i={};for(const o in r)(ct(r[o])||e.style&&ct(e.style[o])||uI(o,t)||((s=n==null?void 0:n.getValue(o))==null?void 0:s.liveStyle)!==void 0)&&(i[o]=r[o]);return i}const lV={useVisualState:pI({scrapeMotionValuesFromProps:wg,createRenderState:yg})};function mI(t,e,n){const r=wg(t,e,n);for(const i in t)if(ct(t[i])||ct(e[i])){const s=Zs.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}const uV={useVisualState:pI({scrapeMotionValuesFromProps:mI,createRenderState:dI})};function cV(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...vg(r)?uV:lV,preloadedFeatures:t,useRender:sV(i),createVisualElement:e,Component:r};return zD(o)}}function Ma(t,e,n){const r=t.getProps();return _g(r,e,n!==void 0?n:r.custom,t)}const sp=t=>Array.isArray(t);function hV(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,js(n))}function dV(t){return sp(t)?t[t.length-1]||0:t}function fV(t,e){const n=Ma(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=dV(s[o]);hV(t,o,a)}}function pV(t){return!!(ct(t)&&t.add)}function op(t,e){const n=t.getValue("willChange");if(pV(n))return n.add(e);if(!n&&tr.WillChange){const r=new tr.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function gI(t){return t.props[oI]}const mV=t=>t!==null;function gV(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(mV),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return i[s]}const yV={type:"spring",stiffness:500,damping:25,restSpeed:10},vV=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),_V={type:"keyframes",duration:.8},wV={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},EV=(t,{keyframes:e})=>e.length>2?_V:eo.has(t)?t.startsWith("scale")?vV(e[1]):yV:wV;function TV({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...h}){return!!Object.keys(h).length}const Eg=(t,e,n,r={},i,s)=>o=>{const a=lg(r,t)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-_n(l);const h={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:m=>{e.set(m),a.onUpdate&&a.onUpdate(m)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:s?void 0:i};TV(a)||Object.assign(h,EV(t,h)),h.duration&&(h.duration=_n(h.duration)),h.repeatDelay&&(h.repeatDelay=_n(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let d=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(h.duration=0,h.delay===0&&(d=!0)),(tr.instantAnimations||tr.skipAnimations)&&(d=!0,h.duration=0,h.delay=0),h.allowFlatten=!a.type&&!a.ease,d&&!s&&e.get()!==void 0){const m=gV(h.keyframes,a);if(m!==void 0){Se.update(()=>{h.onUpdate(m),h.onComplete()});return}}return a.isSync?new sg(h):new tD(h)};function xV({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function yI(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:o,...a}=e;r&&(s=r);const l=[],c=i&&t.animationState&&t.animationState.getState()[i];for(const h in a){const d=t.getValue(h,t.latestValues[h]??null),m=a[h];if(m===void 0||c&&xV(c,h))continue;const y={delay:n,...lg(s||{},h)},E=d.get();if(E!==void 0&&!d.isAnimating&&!Array.isArray(m)&&m===E&&!y.velocity)continue;let I=!1;if(window.MotionHandoffAnimation){const v=gI(t);if(v){const _=window.MotionHandoffAnimation(v,h,Se);_!==null&&(y.startTime=_,I=!0)}}op(t,h),d.start(Eg(h,d,m,t.shouldReduceMotion&&qS.has(h)?{type:!1}:y,t,I));const R=d.animation;R&&l.push(R)}return o&&Promise.all(l).then(()=>{Se.update(()=>{o&&fV(t,o)})}),l}function ap(t,e,n={}){var l;const r=Ma(t,e,n.type==="exit"?(l=t.presenceContext)==null?void 0:l.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(yI(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:h=0,staggerChildren:d,staggerDirection:m}=i;return SV(t,e,h+c,d,m,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[c,h]=a==="beforeChildren"?[s,o]:[o,s];return c().then(()=>h())}else return Promise.all([s(),o(n.delay)])}function SV(t,e,n=0,r=0,i=1,s){const o=[],a=(t.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(IV).forEach((c,h)=>{c.notify("AnimationStart",e),o.push(ap(c,e,{...s,delay:n+l(h)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function IV(t,e){return t.sortNodePosition(e)}function AV(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>ap(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=ap(t,e,n);else{const i=typeof e=="function"?Ma(t,e,n.custom):e;r=Promise.all(yI(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function vI(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const kV=pg.length;function _I(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?_I(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<kV;n++){const r=pg[n],i=t.props[r];(La(i)||i===!1)&&(e[r]=i)}return e}const CV=[...fg].reverse(),RV=fg.length;function PV(t){return e=>Promise.all(e.map(({animation:n,options:r})=>AV(t,n,r)))}function bV(t){let e=PV(t),n=d_(),r=!0;const i=l=>(c,h)=>{var m;const d=Ma(t,h,l==="exit"?(m=t.presenceContext)==null?void 0:m.custom:void 0);if(d){const{transition:y,transitionEnd:E,...I}=d;c={...c,...I,...E}}return c};function s(l){e=l(t)}function o(l){const{props:c}=t,h=_I(t.parent)||{},d=[],m=new Set;let y={},E=1/0;for(let R=0;R<RV;R++){const v=CV[R],_=n[v],x=c[v]!==void 0?c[v]:h[v],N=La(x),L=v===l?_.isActive:null;L===!1&&(E=R);let M=x===h[v]&&x!==c[v]&&N;if(M&&r&&t.manuallyAnimateOnMount&&(M=!1),_.protectedKeys={...y},!_.isActive&&L===null||!x&&!_.prevProp||ah(x)||typeof x=="boolean")continue;const S=NV(_.prevProp,x);let w=S||v===l&&_.isActive&&!M&&N||R>E&&N,A=!1;const k=Array.isArray(x)?x:[x];let b=k.reduce(i(v),{});L===!1&&(b={});const{prevResolvedValues:D={}}=_,P={...D,...b},ft=de=>{w=!0,m.has(de)&&(A=!0,m.delete(de)),_.needsAnimating[de]=!0;const $=t.getValue(de);$&&($.liveStyle=!1)};for(const de in P){const $=b[de],K=D[de];if(y.hasOwnProperty(de))continue;let X=!1;sp($)&&sp(K)?X=!vI($,K):X=$!==K,X?$!=null?ft(de):m.add(de):$!==void 0&&m.has(de)?ft(de):_.protectedKeys[de]=!0}_.prevProp=x,_.prevResolvedValues=b,_.isActive&&(y={...y,...b}),r&&t.blockInitialAnimation&&(w=!1),w&&(!(M&&S)||A)&&d.push(...k.map(de=>({animation:de,options:{type:v}})))}if(m.size){const R={};if(typeof c.initial!="boolean"){const v=Ma(t,Array.isArray(c.initial)?c.initial[0]:c.initial);v&&v.transition&&(R.transition=v.transition)}m.forEach(v=>{const _=t.getBaseTarget(v),x=t.getValue(v);x&&(x.liveStyle=!0),R[v]=_??null}),d.push({animation:R})}let I=!!d.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(I=!1),r=!1,I?e(d):Promise.resolve()}function a(l,c){var d;if(n[l].isActive===c)return Promise.resolve();(d=t.variantChildren)==null||d.forEach(m=>{var y;return(y=m.animationState)==null?void 0:y.setActive(l,c)}),n[l].isActive=c;const h=o(l);for(const m in n)n[m].protectedKeys={};return h}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=d_(),r=!0}}}function NV(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!vI(e,t):!1}function ci(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function d_(){return{animate:ci(!0),whileInView:ci(),whileHover:ci(),whileTap:ci(),whileDrag:ci(),whileFocus:ci(),exit:ci()}}class ti{constructor(e){this.isMounted=!1,this.node=e}update(){}}class DV extends ti{constructor(e){super(e),e.animationState||(e.animationState=bV(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();ah(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let VV=0;class LV extends ti{constructor(){super(...arguments),this.id=VV++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const OV={animation:{Feature:DV},exit:{Feature:LV}};function ja(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function al(t){return{point:{x:t.pageX,y:t.pageY}}}const MV=t=>e=>hg(e)&&t(e,al(e));function ia(t,e,n,r){return ja(t,e,MV(n),r)}function wI({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function jV({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function FV(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const EI=1e-4,UV=1-EI,BV=1+EI,TI=.01,$V=0-TI,zV=0+TI;function vt(t){return t.max-t.min}function HV(t,e,n){return Math.abs(t-e)<=n}function f_(t,e,n,r=.5){t.origin=r,t.originPoint=Ee(e.min,e.max,t.origin),t.scale=vt(n)/vt(e),t.translate=Ee(n.min,n.max,t.origin)-t.originPoint,(t.scale>=UV&&t.scale<=BV||isNaN(t.scale))&&(t.scale=1),(t.translate>=$V&&t.translate<=zV||isNaN(t.translate))&&(t.translate=0)}function sa(t,e,n,r){f_(t.x,e.x,n.x,r?r.originX:void 0),f_(t.y,e.y,n.y,r?r.originY:void 0)}function p_(t,e,n){t.min=n.min+e.min,t.max=t.min+vt(e)}function WV(t,e,n){p_(t.x,e.x,n.x),p_(t.y,e.y,n.y)}function m_(t,e,n){t.min=e.min-n.min,t.max=t.min+vt(e)}function oa(t,e,n){m_(t.x,e.x,n.x),m_(t.y,e.y,n.y)}const g_=()=>({translate:0,scale:1,origin:0,originPoint:0}),ys=()=>({x:g_(),y:g_()}),y_=()=>({min:0,max:0}),De=()=>({x:y_(),y:y_()});function Bt(t){return[t("x"),t("y")]}function Nd(t){return t===void 0||t===1}function lp({scale:t,scaleX:e,scaleY:n}){return!Nd(t)||!Nd(e)||!Nd(n)}function fi(t){return lp(t)||xI(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function xI(t){return v_(t.x)||v_(t.y)}function v_(t){return t&&t!=="0%"}function wc(t,e,n){const r=t-n,i=e*r;return n+i}function __(t,e,n,r,i){return i!==void 0&&(t=wc(t,i,r)),wc(t,n,r)+e}function up(t,e=0,n=1,r,i){t.min=__(t.min,e,n,r,i),t.max=__(t.max,e,n,r,i)}function SI(t,{x:e,y:n}){up(t.x,e.translate,e.scale,e.originPoint),up(t.y,n.translate,n.scale,n.originPoint)}const w_=.999999999999,E_=1.0000000000001;function qV(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&_s(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,SI(t,o)),r&&fi(s.latestValues)&&_s(t,s.latestValues))}e.x<E_&&e.x>w_&&(e.x=1),e.y<E_&&e.y>w_&&(e.y=1)}function vs(t,e){t.min=t.min+e,t.max=t.max+e}function T_(t,e,n,r,i=.5){const s=Ee(t.min,t.max,i);up(t,e,n,s,r)}function _s(t,e){T_(t.x,e.x,e.scaleX,e.scale,e.originX),T_(t.y,e.y,e.scaleY,e.scale,e.originY)}function II(t,e){return wI(FV(t.getBoundingClientRect(),e))}function KV(t,e,n){const r=II(t,n),{scroll:i}=e;return i&&(vs(r.x,i.offset.x),vs(r.y,i.offset.y)),r}const AI=({current:t})=>t?t.ownerDocument.defaultView:null,x_=(t,e)=>Math.abs(t-e);function GV(t,e){const n=x_(t.x,e.x),r=x_(t.y,e.y);return Math.sqrt(n**2+r**2)}class kI{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=Vd(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,y=GV(d.offset,{x:0,y:0})>=3;if(!m&&!y)return;const{point:E}=d,{timestamp:I}=Qe;this.history.push({...E,timestamp:I});const{onStart:R,onMove:v}=this.handlers;m||(R&&R(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,d)},this.handlePointerMove=(d,m)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=Dd(m,this.transformPagePoint),Se.update(this.updatePoint,!0)},this.handlePointerUp=(d,m)=>{this.end();const{onEnd:y,onSessionEnd:E,resumeAnimation:I}=this.handlers;if(this.dragSnapToOrigin&&I&&I(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const R=Vd(d.type==="pointercancel"?this.lastMoveEventInfo:Dd(m,this.transformPagePoint),this.history);this.startEvent&&y&&y(d,R),E&&E(d,R)},!hg(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=al(e),a=Dd(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=Qe;this.history=[{...l,timestamp:c}];const{onSessionStart:h}=n;h&&h(e,Vd(a,this.history)),this.removeListeners=il(ia(this.contextWindow,"pointermove",this.handlePointerMove),ia(this.contextWindow,"pointerup",this.handlePointerUp),ia(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Br(this.updatePoint)}}function Dd(t,e){return e?{point:e(t.point)}:t}function S_(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Vd({point:t},e){return{point:t,delta:S_(t,CI(e)),offset:S_(t,QV(e)),velocity:YV(e,.1)}}function QV(t){return t[0]}function CI(t){return t[t.length-1]}function YV(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=CI(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>_n(e)));)n--;if(!r)return{x:0,y:0};const s=wn(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function XV(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Ee(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Ee(n,t,r.max):Math.min(t,n)),t}function I_(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function JV(t,{top:e,left:n,bottom:r,right:i}){return{x:I_(t.x,n,i),y:I_(t.y,e,r)}}function A_(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function ZV(t,e){return{x:A_(t.x,e.x),y:A_(t.y,e.y)}}function eL(t,e){let n=.5;const r=vt(t),i=vt(e);return i>r?n=Na(e.min,e.max-r,t.min):r>i&&(n=Na(t.min,t.max-i,e.min)),er(0,1,n)}function tL(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const cp=.35;function nL(t=cp){return t===!1?t=0:t===!0&&(t=cp),{x:k_(t,"left","right"),y:k_(t,"top","bottom")}}function k_(t,e,n){return{min:C_(t,e),max:C_(t,n)}}function C_(t,e){return typeof t=="number"?t:t[e]||0}const rL=new WeakMap;class iL{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=De(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=h=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(al(h).point)},s=(h,d)=>{const{drag:m,dragPropagation:y,onDragStart:E}=this.getProps();if(m&&!y&&(this.openDragLock&&this.openDragLock(),this.openDragLock=yD(m),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Bt(R=>{let v=this.getAxisMotionValue(R).get()||0;if(En.test(v)){const{projection:_}=this.visualElement;if(_&&_.layout){const x=_.layout.layoutBox[R];x&&(v=vt(x)*(parseFloat(v)/100))}}this.originPoint[R]=v}),E&&Se.postRender(()=>E(h,d)),op(this.visualElement,"transform");const{animationState:I}=this.visualElement;I&&I.setActive("whileDrag",!0)},o=(h,d)=>{const{dragPropagation:m,dragDirectionLock:y,onDirectionLock:E,onDrag:I}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:R}=d;if(y&&this.currentDirection===null){this.currentDirection=sL(R),this.currentDirection!==null&&E&&E(this.currentDirection);return}this.updateAxis("x",d.point,R),this.updateAxis("y",d.point,R),this.visualElement.render(),I&&I(h,d)},a=(h,d)=>this.stop(h,d),l=()=>Bt(h=>{var d;return this.getAnimationState(h)==="paused"&&((d=this.getAxisMotionValue(h).animation)==null?void 0:d.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new kI(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:AI(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&Se.postRender(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!au(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=XV(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var s;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,i=this.constraints;e&&gs(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=JV(r.layoutBox,e):this.constraints=!1,this.elastic=nL(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Bt(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=tL(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!gs(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=KV(r,i.root,this.visualElement.getTransformPagePoint());let o=ZV(i.layout.layoutBox,s);if(n){const a=n(jV(o));this.hasMutatedConstraints=!!a,a&&(o=wI(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=Bt(h=>{if(!au(h,n,this.currentDirection))return;let d=l&&l[h]||{};o&&(d={min:0,max:0});const m=i?200:1e6,y=i?40:1e7,E={type:"inertia",velocity:r?e[h]:0,bounceStiffness:m,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...s,...d};return this.startAxisValueAnimation(h,E)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return op(this.visualElement,e),r.start(Eg(e,r,0,n,this.visualElement,!1))}stopAnimation(){Bt(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Bt(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Bt(n=>{const{drag:r}=this.getProps();if(!au(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-Ee(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!gs(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Bt(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=eL({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Bt(o=>{if(!au(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(Ee(l,c,i[o]))})}addListeners(){if(!this.visualElement.current)return;rL.set(this.visualElement,this);const e=this.visualElement.current,n=ia(e,"pointerdown",l=>{const{drag:c,dragListener:h=!0}=this.getProps();c&&h&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();gs(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Se.read(r);const o=ja(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Bt(h=>{const d=this.getAxisMotionValue(h);d&&(this.originPoint[h]+=l[h].translate,d.set(d.get()+l[h].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=cp,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function au(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function sL(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class oL extends ti{constructor(e){super(e),this.removeGroupControls=Kt,this.removeListeners=Kt,this.controls=new iL(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Kt}unmount(){this.removeGroupControls(),this.removeListeners()}}const R_=t=>(e,n)=>{t&&Se.postRender(()=>t(e,n))};class aL extends ti{constructor(){super(...arguments),this.removePointerDownListener=Kt}onPointerDown(e){this.session=new kI(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:AI(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:R_(e),onStart:R_(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&Se.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=ia(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Vu={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function P_(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Po={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Y.test(t))t=parseFloat(t);else return t;const n=P_(t,e.target.x),r=P_(t,e.target.y);return`${n}% ${r}%`}},lL={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=$r.parse(t);if(i.length>5)return r;const s=$r.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const c=Ee(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=c),typeof i[3+o]=="number"&&(i[3+o]/=c),s(i)}};class uL extends C.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;KD(cL),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Vu.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,{projection:o}=r;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0||e.isPresent!==s?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||Se.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),cg.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function RI(t){const[e,n]=nI(),r=C.useContext(Bm);return p.jsx(uL,{...t,layoutGroup:r,switchLayoutGroup:C.useContext(aI),isPresent:e,safeToRemove:n})}const cL={borderRadius:{...Po,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Po,borderTopRightRadius:Po,borderBottomLeftRadius:Po,borderBottomRightRadius:Po,boxShadow:lL};function hL(t,e,n){const r=ct(t)?t:js(t);return r.start(Eg("",r,e,n)),r.animation}const dL=(t,e)=>t.depth-e.depth;class fL{constructor(){this.children=[],this.isDirty=!1}add(e){Hm(this.children,e),this.isDirty=!0}remove(e){Wm(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(dL),this.isDirty=!1,this.children.forEach(e)}}function pL(t,e){const n=kt.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(Br(r),t(s-e))};return Se.setup(r,!0),()=>Br(r)}const PI=["TopLeft","TopRight","BottomLeft","BottomRight"],mL=PI.length,b_=t=>typeof t=="string"?parseFloat(t):t,N_=t=>typeof t=="number"||Y.test(t);function gL(t,e,n,r,i,s){i?(t.opacity=Ee(0,n.opacity??1,yL(r)),t.opacityExit=Ee(e.opacity??1,0,vL(r))):s&&(t.opacity=Ee(e.opacity??1,n.opacity??1,r));for(let o=0;o<mL;o++){const a=`border${PI[o]}Radius`;let l=D_(e,a),c=D_(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||N_(l)===N_(c)?(t[a]=Math.max(Ee(b_(l),b_(c),r),0),(En.test(c)||En.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=Ee(e.rotate||0,n.rotate||0,r))}function D_(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const yL=bI(0,.5,xS),vL=bI(.5,.95,Kt);function bI(t,e,n){return r=>r<t?0:r>e?1:n(Na(t,e,r))}function V_(t,e){t.min=e.min,t.max=e.max}function Ut(t,e){V_(t.x,e.x),V_(t.y,e.y)}function L_(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function O_(t,e,n,r,i){return t-=e,t=wc(t,1/n,r),i!==void 0&&(t=wc(t,1/i,r)),t}function _L(t,e=0,n=1,r=.5,i,s=t,o=t){if(En.test(e)&&(e=parseFloat(e),e=Ee(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Ee(s.min,s.max,r);t===s&&(a-=e),t.min=O_(t.min,e,n,a,i),t.max=O_(t.max,e,n,a,i)}function M_(t,e,[n,r,i],s,o){_L(t,e[n],e[r],e[i],e.scale,s,o)}const wL=["x","scaleX","originX"],EL=["y","scaleY","originY"];function j_(t,e,n,r){M_(t.x,e,wL,n?n.x:void 0,r?r.x:void 0),M_(t.y,e,EL,n?n.y:void 0,r?r.y:void 0)}function F_(t){return t.translate===0&&t.scale===1}function NI(t){return F_(t.x)&&F_(t.y)}function U_(t,e){return t.min===e.min&&t.max===e.max}function TL(t,e){return U_(t.x,e.x)&&U_(t.y,e.y)}function B_(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function DI(t,e){return B_(t.x,e.x)&&B_(t.y,e.y)}function $_(t){return vt(t.x)/vt(t.y)}function z_(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class xL{constructor(){this.members=[]}add(e){Hm(this.members,e),e.scheduleRender()}remove(e){if(Wm(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function SL(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:h,rotateX:d,rotateY:m,skewX:y,skewY:E}=n;c&&(r=`perspective(${c}px) ${r}`),h&&(r+=`rotate(${h}deg) `),d&&(r+=`rotateX(${d}deg) `),m&&(r+=`rotateY(${m}deg) `),y&&(r+=`skewX(${y}deg) `),E&&(r+=`skewY(${E}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const Ld=["","X","Y","Z"],IL={visibility:"hidden"},AL=1e3;let kL=0;function Od(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function VI(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=gI(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Se,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&VI(r)}function LI({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=kL++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(PL),this.nodes.forEach(LL),this.nodes.forEach(OL),this.nodes.forEach(bL)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new fL)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Gm),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=tI(o)&&!xD(o),this.instance=o;const{layoutId:a,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),t){let h;const d=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=pL(d,250),Vu.hasAnimatedSinceResize&&(Vu.hasAnimatedSinceResize=!1,this.nodes.forEach(W_))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&c&&(a||l)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:d,hasRelativeLayoutChanged:m,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const E=this.options.transition||c.getDefaultTransition()||BL,{onLayoutAnimationStart:I,onLayoutAnimationComplete:R}=c.getProps(),v=!this.targetLayout||!DI(this.targetLayout,y),_=!d&&m;if(this.options.layoutRoot||this.resumeFrom||_||d&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const x={...lg(E,"layout"),onPlay:I,onComplete:R};(c.shouldReduceMotion||this.options.layoutRoot)&&(x.delay=0,x.type=!1),this.startAnimation(x),this.setAnimationOrigin(h,_)}else d||W_(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Br(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(ML),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&VI(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const d=this.path[h];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(H_);return}this.isUpdating||this.nodes.forEach(DL),this.isUpdating=!1,this.nodes.forEach(VL),this.nodes.forEach(CL),this.nodes.forEach(RL),this.clearAllSnapshots();const a=kt.now();Qe.delta=er(0,1e3/60,a-Qe.timestamp),Qe.timestamp=a,Qe.isProcessing=!0,Ad.update.process(Qe),Ad.preRender.process(Qe),Ad.render.process(Qe),Qe.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,cg.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(NL),this.sharedNodes.forEach(jL)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Se.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Se.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!vt(this.snapshot.measuredBox.x)&&!vt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=De(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!NI(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,h=c!==this.prevTransformTemplateValue;o&&this.instance&&(a||fi(this.latestValues)||h)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),$L(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:o}=this.options;if(!o)return De();const a=o.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(zL))){const{scroll:h}=this.root;h&&(vs(a.x,h.offset.x),vs(a.y,h.offset.y))}return a}removeElementScroll(o){var l;const a=De();if(Ut(a,o),(l=this.scroll)!=null&&l.wasRoot)return a;for(let c=0;c<this.path.length;c++){const h=this.path[c],{scroll:d,options:m}=h;h!==this.root&&d&&m.layoutScroll&&(d.wasRoot&&Ut(a,o),vs(a.x,d.offset.x),vs(a.y,d.offset.y))}return a}applyTransform(o,a=!1){const l=De();Ut(l,o);for(let c=0;c<this.path.length;c++){const h=this.path[c];!a&&h.options.layoutScroll&&h.scroll&&h!==h.root&&_s(l,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),fi(h.latestValues)&&_s(l,h.latestValues)}return fi(this.latestValues)&&_s(l,this.latestValues),l}removeTransform(o){const a=De();Ut(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!fi(c.latestValues))continue;lp(c.latestValues)&&c.updateSnapshot();const h=De(),d=c.measurePageBox();Ut(h,d),j_(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,h)}return fi(this.latestValues)&&j_(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Qe.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var m;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(m=this.parent)!=null&&m.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:d}=this.options;if(!(!this.layout||!(h||d))){if(this.resolvedRelativeTargetAt=Qe.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=De(),this.relativeTargetOrigin=De(),oa(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),Ut(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=De(),this.targetWithTransforms=De()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),WV(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ut(this.target,this.layout.layoutBox),SI(this.target,this.targetDelta)):Ut(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=De(),this.relativeTargetOrigin=De(),oa(this.relativeTargetOrigin,this.target,y.target),Ut(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||lp(this.parent.latestValues)||xI(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var E;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||(E=this.parent)!=null&&E.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===Qe.timestamp&&(l=!1),l)return;const{layout:c,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||h))return;Ut(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,m=this.treeScale.y;qV(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=De());const{target:y}=o;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(L_(this.prevProjectionDelta.x,this.projectionDelta.x),L_(this.prevProjectionDelta.y,this.projectionDelta.y)),sa(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==d||this.treeScale.y!==m||!z_(this.projectionDelta.x,this.prevProjectionDelta.x)||!z_(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ys(),this.projectionDelta=ys(),this.projectionDeltaWithTransform=ys()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},h={...this.latestValues},d=ys();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const m=De(),y=l?l.source:void 0,E=this.layout?this.layout.source:void 0,I=y!==E,R=this.getStack(),v=!R||R.members.length<=1,_=!!(I&&!v&&this.options.crossfade===!0&&!this.path.some(UL));this.animationProgress=0;let x;this.mixTargetDelta=N=>{const L=N/1e3;q_(d.x,o.x,L),q_(d.y,o.y,L),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(oa(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),FL(this.relativeTarget,this.relativeTargetOrigin,m,L),x&&TL(this.relativeTarget,x)&&(this.isProjectionDirty=!1),x||(x=De()),Ut(x,this.relativeTarget)),I&&(this.animationValues=h,gL(h,c,this.latestValues,L,_,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=L},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,l,c;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(c=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||c.stop(),this.pendingAnimation&&(Br(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Se.update(()=>{Vu.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=js(0)),this.currentAnimation=hL(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),o.onUpdate&&o.onUpdate(h)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(AL),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:h}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&OI(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||De();const d=vt(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+d;const m=vt(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+m}Ut(a,l),_s(a,h),sa(this.projectionDeltaWithTransform,this.layoutCorrected,a,h)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new xL),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&Od("z",o,c,this.animationValues);for(let h=0;h<Ld.length;h++)Od(`rotate${Ld[h]}`,o,c,this.animationValues),Od(`skew${Ld[h]}`,o,c,this.animationValues);o.render();for(const h in c)o.setStaticValue(h,c[h]),this.animationValues&&(this.animationValues[h]=c[h]);o.scheduleRender()}getProjectionStyles(o){if(!this.instance||this.isSVG)return;if(!this.isVisible)return IL;const a={visibility:""},l=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,a.opacity="",a.pointerEvents=Du(o==null?void 0:o.pointerEvents)||"",a.transform=l?l(this.latestValues,""):"none",a;const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){const y={};return this.options.layoutId&&(y.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,y.pointerEvents=Du(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!fi(this.latestValues)&&(y.transform=l?l({},""):"none",this.hasProjected=!1),y}const h=c.animationValues||c.latestValues;this.applyTransformsToTarget(),a.transform=SL(this.projectionDeltaWithTransform,this.treeScale,h),l&&(a.transform=l(h,a.transform));const{x:d,y:m}=this.projectionDelta;a.transformOrigin=`${d.origin*100}% ${m.origin*100}% 0`,c.animationValues?a.opacity=c===this?h.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:a.opacity=c===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const y in Oa){if(h[y]===void 0)continue;const{correct:E,applyTo:I,isCSSVariable:R}=Oa[y],v=a.transform==="none"?h[y]:E(h[y],c);if(I){const _=I.length;for(let x=0;x<_;x++)a[I[x]]=v}else R?this.options.visualElement.renderState.vars[y]=v:a[y]=v}return this.options.layoutId&&(a.pointerEvents=c===this?Du(o==null?void 0:o.pointerEvents)||"":"none"),a}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(H_),this.root.sharedNodes.clear()}}}function CL(t){t.updateLayout()}function RL(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=e.source!==t.layout.source;s==="size"?Bt(d=>{const m=o?e.measuredBox[d]:e.layoutBox[d],y=vt(m);m.min=r[d].min,m.max=m.min+y}):OI(s,e.layoutBox,r)&&Bt(d=>{const m=o?e.measuredBox[d]:e.layoutBox[d],y=vt(r[d]);m.max=m.min+y,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+y)});const a=ys();sa(a,r,e.layoutBox);const l=ys();o?sa(l,t.applyTransform(i,!0),e.measuredBox):sa(l,r,e.layoutBox);const c=!NI(a);let h=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:m,layout:y}=d;if(m&&y){const E=De();oa(E,e.layoutBox,m.layoutBox);const I=De();oa(I,r,y.layoutBox),DI(E,I)||(h=!0),d.options.layoutRoot&&(t.relativeTarget=I,t.relativeTargetOrigin=E,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeLayoutChanged:h})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function PL(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function bL(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function NL(t){t.clearSnapshot()}function H_(t){t.clearMeasurements()}function DL(t){t.isLayoutDirty=!1}function VL(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function W_(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function LL(t){t.resolveTargetDelta()}function OL(t){t.calcProjection()}function ML(t){t.resetSkewAndRotation()}function jL(t){t.removeLeadSnapshot()}function q_(t,e,n){t.translate=Ee(e.translate,0,n),t.scale=Ee(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function K_(t,e,n,r){t.min=Ee(e.min,n.min,r),t.max=Ee(e.max,n.max,r)}function FL(t,e,n,r){K_(t.x,e.x,n.x,r),K_(t.y,e.y,n.y,r)}function UL(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const BL={duration:.45,ease:[.4,0,.1,1]},G_=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Q_=G_("applewebkit/")&&!G_("chrome/")?Math.round:Kt;function Y_(t){t.min=Q_(t.min),t.max=Q_(t.max)}function $L(t){Y_(t.x),Y_(t.y)}function OI(t,e,n){return t==="position"||t==="preserve-aspect"&&!HV($_(e),$_(n),.2)}function zL(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const HL=LI({attachResizeListener:(t,e)=>ja(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Md={current:void 0},MI=LI({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Md.current){const t=new HL({});t.mount(window),t.setOptions({layoutScroll:!0}),Md.current=t}return Md.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),WL={pan:{Feature:aL},drag:{Feature:oL,ProjectionNode:MI,MeasureLayout:RI}};function X_(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&Se.postRender(()=>s(e,al(e)))}class qL extends ti{mount(){const{current:e}=this.node;e&&(this.unmount=vD(e,(n,r)=>(X_(this.node,r,"Start"),i=>X_(this.node,i,"End"))))}unmount(){}}class KL extends ti{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=il(ja(this.node.current,"focus",()=>this.onFocus()),ja(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function J_(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&Se.postRender(()=>s(e,al(e)))}class GL extends ti{mount(){const{current:e}=this.node;e&&(this.unmount=TD(e,(n,r)=>(J_(this.node,r,"Start"),(i,{success:s})=>J_(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const hp=new WeakMap,jd=new WeakMap,QL=t=>{const e=hp.get(t.target);e&&e(t)},YL=t=>{t.forEach(QL)};function XL({root:t,...e}){const n=t||document;jd.has(n)||jd.set(n,{});const r=jd.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(YL,{root:t,...e})),r[i]}function JL(t,e,n){const r=XL(e);return hp.set(t,n),r.observe(t),()=>{hp.delete(t),r.unobserve(t)}}const ZL={some:0,all:1};class eO extends ti{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:ZL[i]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:h,onViewportLeave:d}=this.node.getProps(),m=c?h:d;m&&m(l)};return JL(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(tO(e,n))&&this.startObserver()}unmount(){}}function tO({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const nO={inView:{Feature:eO},tap:{Feature:GL},focus:{Feature:KL},hover:{Feature:qL}},rO={layout:{ProjectionNode:MI,MeasureLayout:RI}},dp={current:null},jI={current:!1};function iO(){if(jI.current=!0,!!zm)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>dp.current=t.matches;t.addListener(e),e()}else dp.current=!1}const sO=new WeakMap;function oO(t,e,n){for(const r in e){const i=e[r],s=n[r];if(ct(i))t.addValue(r,i);else if(ct(s))t.addValue(r,js(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,js(o!==void 0?o:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const Z_=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class aO{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=og,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=kt.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,Se.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=lh(n),this.isVariantNode=sI(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...d}=this.scrapeMotionValuesFromProps(n,{},this);for(const m in d){const y=d[m];l[m]!==void 0&&ct(y)&&y.set(l[m],!1)}}mount(e){this.current=e,sO.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),jI.current||iO(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:dp.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Br(this.notifyUpdate),Br(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=eo.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&Se.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Fs){const n=Fs[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):De()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Z_.length;r++){const i=Z_[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=oO(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=js(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(fS(r)||mS(r))?r=parseFloat(r):!ID(r)&&$r.test(n)&&(r=YS(e,n)),this.setBaseTarget(e,ct(r)?r.get():r)),ct(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var s;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=_g(this.props,n,(s=this.presenceContext)==null?void 0:s.custom);o&&(r=o[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!ct(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Gm),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class FI extends aO{constructor(){super(...arguments),this.KeyframeResolver=fD}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;ct(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function UI(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}function lO(t){return window.getComputedStyle(t)}class uO extends FI{constructor(){super(...arguments),this.type="html",this.renderInstance=UI}readValueFromInstance(e,n){var r;if(eo.has(n))return(r=this.projection)!=null&&r.isProjecting?Zf(n):N2(e,n);{const i=lO(e),s=(Xm(n)?i.getPropertyValue(n):i[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return II(e,n)}build(e,n,r){gg(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return wg(e,n,r)}}const BI=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function cO(t,e,n,r){UI(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(BI.has(i)?i:mg(i),e.attrs[i])}class hO extends FI{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=De}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(eo.has(n)){const r=QS(n);return r&&r.default||0}return n=BI.has(n)?n:mg(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return mI(e,n,r)}build(e,n,r){hI(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,i){cO(e,n,r,i)}mount(e){this.isSVGTag=fI(e.tagName),super.mount(e)}}const dO=(t,e)=>vg(t)?new hO(e):new uO(e,{allowProjection:t!==C.Fragment}),fO=cV({...OV,...nO,...WL,...rO},dO),pO=LD(fO);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mO=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),$I=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var gO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yO=C.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},l)=>C.createElement("svg",{ref:l,...gO,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:$I("lucide",i),...a},[...o.map(([c,h])=>C.createElement(c,h)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lr=(t,e)=>{const n=C.forwardRef(({className:r,...i},s)=>C.createElement(yO,{ref:s,iconNode:e,className:$I(`lucide-${mO(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vO=lr("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ew=lr("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _O=lr("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wO=lr("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EO=lr("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tw=lr("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TO=lr("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xO=lr("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SO=lr("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]),IO=()=>{const[t,e]=C.useState(!1),n=rh();return p.jsxs("header",{className:"sticky top-0 bg-white shadow-md z-50",children:[p.jsx("div",{className:"container mx-auto px-4 lg:px-6",children:p.jsxs("div",{className:"flex justify-between items-center h-16",children:[p.jsx("div",{className:"flex items-center",children:p.jsx("a",{href:"/",className:"flex items-center",children:p.jsx("span",{className:"text-2xl font-extrabold bg-clip-text text-transparent bg-gradient-to-r from-green-600 via-yellow-500 to-black",children:"Stadium876"})})}),p.jsxs("nav",{className:"hidden md:flex space-x-8",children:[p.jsx(bo,{href:"/football",children:"Football"}),p.jsx(bo,{href:"/netball",children:"Netball"}),p.jsx(bo,{href:"/basketball",children:"Basketball"}),p.jsx(bo,{href:"/track-field",children:"Track & Field"}),p.jsx(bo,{href:"/gaming",children:"Gaming"})]}),p.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[p.jsx("button",{className:"p-1 hover:bg-gray-100 rounded-full",children:p.jsx(tw,{className:"h-5 w-5 text-gray-600"})}),p.jsx("button",{className:"bg-red-600 hover:bg-red-700 px-4 py-1 text-sm font-medium rounded",onClick:()=>n("/subscribe"),children:"Subscribe"}),p.jsx("a",{href:"/login",className:"text-sm font-medium text-gray-300 hover:text-gray-700 transition-colors",children:"Log In"}),p.jsx("button",{className:"p-1 hover:bg-gray-100 rounded-full",children:p.jsx(ew,{className:"h-5 w-5 text-gray-600"})})]}),p.jsx("div",{className:"md:hidden flex items-center",children:p.jsx("button",{onClick:()=>e(!t),className:"p-2 rounded-md text-gray-500",children:t?p.jsx(xO,{className:"h-6 w-6"}):p.jsx(EO,{className:"h-6 w-6"})})})]})}),t&&p.jsx("div",{className:"md:hidden bg-white border-t border-gray-200",children:p.jsxs("div",{className:"container mx-auto px-4 py-3 space-y-3",children:[p.jsx("a",{href:"/football",className:"block py-2 text-base font-medium text-gray-900 hover:text-green-600",children:"Football"}),p.jsx("a",{href:"/netball",className:"block py-2 text-base font-medium text-gray-900 hover:text-green-600",children:"Netball"}),p.jsx("a",{href:"/basketball",className:"block py-2 text-base font-medium text-gray-900 hover:text-green-600",children:"Basketball"}),p.jsx("a",{href:"/track-field",className:"block py-2 text-base font-medium text-gray-900 hover:text-green-600",children:"Track & Field"}),p.jsx("a",{href:"/gaming",className:"block py-2 text-base font-medium text-gray-900 hover:text-green-600",children:"Gaming"}),p.jsxs("div",{className:"flex space-x-4 py-3 border-t border-gray-200",children:[p.jsx("button",{className:"p-1 hover:bg-gray-100 rounded-full",children:p.jsx(tw,{className:"h-5 w-5 text-gray-600"})}),p.jsx("button",{className:"bg-red-600 hover:bg-red-700 px-4 py-1 text-sm font-medium rounded",onClick:()=>n("/subscribe"),children:"Subscribe"}),p.jsx("a",{href:"/login",className:"text-sm font-medium text-black-300",children:"Log In"}),p.jsx("button",{className:"p-1 hover:bg-gray-100 rounded-full",children:p.jsx(ew,{className:"h-5 w-5 text-gray-600"})})]})]})})]})},bo=({href:t,children:e})=>p.jsxs("a",{href:t,className:"text-base font-medium text-gray-800 hover:text-green-600 relative group",children:[e,p.jsx("span",{className:"absolute -bottom-1 left-0 w-0 h-0.5 bg-yellow-500 group-hover:w-full transition-all duration-300"})]}),AO=()=>p.jsx("section",{className:"relative w-full bg-white"});function kO(t,e){t&&fetch(`/api/track-engagement?articleId=${t}&ms=${e}`,{method:"POST"})}const No=({title:t,excerpt:e,category:n,imageUrl:r,author:i,authorImageUrl:s,date:o,readTime:a,featured:l=!1,id:c})=>{const h=()=>{c&&fetch(`/api/track-click?articleId=${c}`,{method:"POST"})};return C.useEffect(()=>{if(!c)return;const d=Date.now();return()=>{const m=Date.now()-d;m>2e3&&kO(c,m)}},[c]),p.jsx("a",{href:c?`/article/${c}`:void 0,onClick:h,className:"block focus:outline-none focus:ring-2 focus:ring-yellow-400 rounded-lg",children:p.jsxs("article",{className:`bg-white rounded-lg overflow-hidden shadow-sm hover:shadow-lg transition-shadow relative group ${l?"border-l-4 border-yellow-500":""}`,children:[p.jsxs("div",{className:"relative",children:[p.jsx("img",{src:r,alt:t,className:"w-full h-48 object-cover"}),p.jsx("span",{className:"absolute top-3 left-3 px-2 py-1 bg-green-600 text-white text-xs font-medium rounded",children:n})]}),p.jsxs("div",{className:"p-4",children:[p.jsx("h3",{className:"text-xl font-bold mb-2 line-clamp-2",children:t}),p.jsx("p",{className:"text-gray-600 mb-4 line-clamp-2",children:e}),p.jsxs("div",{className:"flex items-center",children:[s?p.jsx("img",{src:s,alt:i,className:"h-8 w-8 rounded-full mr-2"}):p.jsx("span",{className:"h-8 w-8 flex items-center justify-center rounded-full bg-gray-200 mr-2",children:p.jsx(vO,{className:"w-5 h-5 text-gray-400"})}),p.jsxs("div",{className:"text-sm",children:[p.jsx("p",{className:"text-gray-900 font-medium",children:i}),p.jsxs("p",{className:"text-gray-500",children:[o,"  ",a," read"]})]})]})]}),p.jsxs("div",{className:"absolute inset-0 bg-white/90 text-black opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex flex-col justify-center items-center p-6 z-10",children:[p.jsx("h3",{className:"text-lg font-bold mb-2 text-center",children:t}),p.jsx("p",{className:"text-sm mb-2 text-center",children:e}),p.jsxs("div",{className:"text-xs text-gray-700 mb-1",children:["By ",i||"Unknown","  ",o]})]})]})})},CO=()=>{};var nw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zI=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},RO=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},HI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,h=s>>2,d=(s&3)<<4|a>>4;let m=(a&15)<<2|c>>6,y=c&63;l||(y=64,o||(m=64)),r.push(n[h],n[d],n[m],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(zI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):RO(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||d==null)throw new PO;const m=s<<2|a>>4;if(r.push(m),c!==64){const y=a<<4&240|c>>2;if(r.push(y),d!==64){const E=c<<6&192|d;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class PO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const bO=function(t){const e=zI(t);return HI.encodeByteArray(e,!0)},Ec=function(t){return bO(t).replace(/\./g,"")},WI=function(t){try{return HI.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DO=()=>NO().__FIREBASE_DEFAULTS__,VO=()=>{if(typeof process>"u"||typeof nw>"u")return;const t=nw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},LO=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&WI(t[1]);return e&&JSON.parse(e)},uh=()=>{try{return CO()||DO()||VO()||LO()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},qI=t=>{var e,n;return(n=(e=uh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},KI=t=>{const e=qI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},GI=()=>{var t;return(t=uh())===null||t===void 0?void 0:t.config},QI=t=>{var e;return(e=uh())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ni(t){return t.endsWith(".cloudworkstations.dev")}async function Tg(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YI(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ec(JSON.stringify(n)),Ec(JSON.stringify(o)),""].join(".")}const aa={};function MO(){const t={prod:[],emulator:[]};for(const e of Object.keys(aa))aa[e]?t.emulator.push(e):t.prod.push(e);return t}function jO(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let rw=!1;function xg(t,e){if(typeof window>"u"||typeof document>"u"||!ni(window.location.host)||aa[t]===e||aa[t]||rw)return;aa[t]=e;function n(m){return`__firebase__banner__${m}`}const r="__firebase__banner",s=MO().prod.length>0;function o(){const m=document.getElementById(r);m&&m.remove()}function a(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function l(m,y){m.setAttribute("width","24"),m.setAttribute("id",y),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function c(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{rw=!0,o()},m}function h(m,y){m.setAttribute("id",y),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function d(){const m=jO(r),y=n("text"),E=document.getElementById(y)||document.createElement("span"),I=n("learnmore"),R=document.getElementById(I)||document.createElement("a"),v=n("preprendIcon"),_=document.getElementById(v)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const x=m.element;a(x),h(R,I);const N=c();l(_,v),x.append(_,E,R,N),document.body.appendChild(x)}s?(E.innerText="Preview backend disconnected.",_.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(_.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,E.innerText="Preview backend running in this workspace."),E.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function FO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dt())}function UO(){var t;const e=(t=uh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function BO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function $O(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function zO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function HO(){const t=dt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function WO(){return!UO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function qO(){try{return typeof indexedDB=="object"}catch{return!1}}function KO(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GO="FirebaseError";class bn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=GO,Object.setPrototypeOf(this,bn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ll.prototype.create)}}class ll{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?QO(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new bn(i,a,r)}}function QO(t,e){return t.replace(YO,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const YO=/\{\$([^}]+)}/g;function XO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ni(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(iw(s)&&iw(o)){if(!Ni(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function iw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ul(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Bo(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function $o(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function JO(t,e){const n=new ZO(t,e);return n.subscribe.bind(n)}class ZO{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");eM(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Fd),i.error===void 0&&(i.error=Fd),i.complete===void 0&&(i.complete=Fd);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function eM(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Fd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ze(t){return t&&t._delegate?t._delegate:t}class zr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tM{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new OO;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(rM(e))try{this.getOrInitializeService({instanceIdentifier:pi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=pi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=pi){return this.instances.has(e)}getOptions(e=pi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:nM(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=pi){return this.component?this.component.multipleInstances?e:pi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function nM(t){return t===pi?void 0:t}function rM(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iM{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new tM(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ne;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ne||(ne={}));const sM={debug:ne.DEBUG,verbose:ne.VERBOSE,info:ne.INFO,warn:ne.WARN,error:ne.ERROR,silent:ne.SILENT},oM=ne.INFO,aM={[ne.DEBUG]:"log",[ne.VERBOSE]:"log",[ne.INFO]:"info",[ne.WARN]:"warn",[ne.ERROR]:"error"},lM=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=aM[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Sg{constructor(e){this.name=e,this._logLevel=oM,this._logHandler=lM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?sM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ne.DEBUG,...e),this._logHandler(this,ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ne.VERBOSE,...e),this._logHandler(this,ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ne.INFO,...e),this._logHandler(this,ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ne.WARN,...e),this._logHandler(this,ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ne.ERROR,...e),this._logHandler(this,ne.ERROR,...e)}}const uM=(t,e)=>e.some(n=>t instanceof n);let sw,ow;function cM(){return sw||(sw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function hM(){return ow||(ow=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const XI=new WeakMap,fp=new WeakMap,JI=new WeakMap,Ud=new WeakMap,Ig=new WeakMap;function dM(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Lr(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&XI.set(n,t)}).catch(()=>{}),Ig.set(e,t),e}function fM(t){if(fp.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});fp.set(t,e)}let pp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return fp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||JI.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Lr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function pM(t){pp=t(pp)}function mM(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Bd(this),e,...n);return JI.set(r,e.sort?e.sort():[e]),Lr(r)}:hM().includes(t)?function(...e){return t.apply(Bd(this),e),Lr(XI.get(this))}:function(...e){return Lr(t.apply(Bd(this),e))}}function gM(t){return typeof t=="function"?mM(t):(t instanceof IDBTransaction&&fM(t),uM(t,cM())?new Proxy(t,pp):t)}function Lr(t){if(t instanceof IDBRequest)return dM(t);if(Ud.has(t))return Ud.get(t);const e=gM(t);return e!==t&&(Ud.set(t,e),Ig.set(e,t)),e}const Bd=t=>Ig.get(t);function yM(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Lr(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Lr(o.result),l.oldVersion,l.newVersion,Lr(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const vM=["get","getKey","getAll","getAllKeys","count"],_M=["put","add","delete","clear"],$d=new Map;function aw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if($d.get(e))return $d.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=_M.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||vM.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return $d.set(e,s),s}pM(t=>({...t,get:(e,n,r)=>aw(e,n)||t.get(e,n,r),has:(e,n)=>!!aw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wM{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(EM(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function EM(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const mp="@firebase/app",lw="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nr=new Sg("@firebase/app"),TM="@firebase/app-compat",xM="@firebase/analytics-compat",SM="@firebase/analytics",IM="@firebase/app-check-compat",AM="@firebase/app-check",kM="@firebase/auth",CM="@firebase/auth-compat",RM="@firebase/database",PM="@firebase/data-connect",bM="@firebase/database-compat",NM="@firebase/functions",DM="@firebase/functions-compat",VM="@firebase/installations",LM="@firebase/installations-compat",OM="@firebase/messaging",MM="@firebase/messaging-compat",jM="@firebase/performance",FM="@firebase/performance-compat",UM="@firebase/remote-config",BM="@firebase/remote-config-compat",$M="@firebase/storage",zM="@firebase/storage-compat",HM="@firebase/firestore",WM="@firebase/ai",qM="@firebase/firestore-compat",KM="firebase",GM="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gp="[DEFAULT]",QM={[mp]:"fire-core",[TM]:"fire-core-compat",[SM]:"fire-analytics",[xM]:"fire-analytics-compat",[AM]:"fire-app-check",[IM]:"fire-app-check-compat",[kM]:"fire-auth",[CM]:"fire-auth-compat",[RM]:"fire-rtdb",[PM]:"fire-data-connect",[bM]:"fire-rtdb-compat",[NM]:"fire-fn",[DM]:"fire-fn-compat",[VM]:"fire-iid",[LM]:"fire-iid-compat",[OM]:"fire-fcm",[MM]:"fire-fcm-compat",[jM]:"fire-perf",[FM]:"fire-perf-compat",[UM]:"fire-rc",[BM]:"fire-rc-compat",[$M]:"fire-gcs",[zM]:"fire-gcs-compat",[HM]:"fire-fst",[qM]:"fire-fst-compat",[WM]:"fire-vertex","fire-js":"fire-js",[KM]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tc=new Map,YM=new Map,yp=new Map;function uw(t,e){try{t.container.addComponent(e)}catch(n){nr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Di(t){const e=t.name;if(yp.has(e))return nr.debug(`There were multiple attempts to register component ${e}.`),!1;yp.set(e,t);for(const n of Tc.values())uw(n,t);for(const n of YM.values())uw(n,t);return!0}function ch(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function It(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Or=new ll("app","Firebase",XM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JM{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new zr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Or.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bi=GM;function ZI(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:gp,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Or.create("bad-app-name",{appName:String(i)});if(n||(n=GI()),!n)throw Or.create("no-options");const s=Tc.get(i);if(s){if(Ni(n,s.options)&&Ni(r,s.config))return s;throw Or.create("duplicate-app",{appName:i})}const o=new iM(i);for(const l of yp.values())o.addComponent(l);const a=new JM(n,r,o);return Tc.set(i,a),a}function Ag(t=gp){const e=Tc.get(t);if(!e&&t===gp&&GI())return ZI();if(!e)throw Or.create("no-app",{appName:t});return e}function Tn(t,e,n){var r;let i=(r=QM[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),nr.warn(a.join(" "));return}Di(new zr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZM="firebase-heartbeat-database",ej=1,Fa="firebase-heartbeat-store";let zd=null;function e1(){return zd||(zd=yM(ZM,ej,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Fa)}catch(n){console.warn(n)}}}}).catch(t=>{throw Or.create("idb-open",{originalErrorMessage:t.message})})),zd}async function tj(t){try{const n=(await e1()).transaction(Fa),r=await n.objectStore(Fa).get(t1(t));return await n.done,r}catch(e){if(e instanceof bn)nr.warn(e.message);else{const n=Or.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});nr.warn(n.message)}}}async function cw(t,e){try{const r=(await e1()).transaction(Fa,"readwrite");await r.objectStore(Fa).put(e,t1(t)),await r.done}catch(n){if(n instanceof bn)nr.warn(n.message);else{const r=Or.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});nr.warn(r.message)}}}function t1(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nj=1024,rj=30;class ij{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new oj(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=hw();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>rj){const o=aj(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){nr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=hw(),{heartbeatsToSend:r,unsentEntries:i}=sj(this._heartbeatsCache.heartbeats),s=Ec(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return nr.warn(n),""}}}function hw(){return new Date().toISOString().substring(0,10)}function sj(t,e=nj){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),dw(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),dw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class oj{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return qO()?KO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await tj(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return cw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return cw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function dw(t){return Ec(JSON.stringify({version:2,heartbeats:t})).length}function aj(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lj(t){Di(new zr("platform-logger",e=>new wM(e),"PRIVATE")),Di(new zr("heartbeat",e=>new ij(e),"PRIVATE")),Tn(mp,lw,t),Tn(mp,lw,"esm2017"),Tn("fire-js","")}lj("");var uj="firebase",cj="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Tn(uj,cj,"app");var fw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Mr,n1;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,w){function A(){}A.prototype=w.prototype,S.D=w.prototype,S.prototype=new A,S.prototype.constructor=S,S.C=function(k,b,D){for(var P=Array(arguments.length-2),ft=2;ft<arguments.length;ft++)P[ft-2]=arguments[ft];return w.prototype[b].apply(k,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,w,A){A||(A=0);var k=Array(16);if(typeof w=="string")for(var b=0;16>b;++b)k[b]=w.charCodeAt(A++)|w.charCodeAt(A++)<<8|w.charCodeAt(A++)<<16|w.charCodeAt(A++)<<24;else for(b=0;16>b;++b)k[b]=w[A++]|w[A++]<<8|w[A++]<<16|w[A++]<<24;w=S.g[0],A=S.g[1],b=S.g[2];var D=S.g[3],P=w+(D^A&(b^D))+k[0]+3614090360&4294967295;w=A+(P<<7&4294967295|P>>>25),P=D+(b^w&(A^b))+k[1]+3905402710&4294967295,D=w+(P<<12&4294967295|P>>>20),P=b+(A^D&(w^A))+k[2]+606105819&4294967295,b=D+(P<<17&4294967295|P>>>15),P=A+(w^b&(D^w))+k[3]+3250441966&4294967295,A=b+(P<<22&4294967295|P>>>10),P=w+(D^A&(b^D))+k[4]+4118548399&4294967295,w=A+(P<<7&4294967295|P>>>25),P=D+(b^w&(A^b))+k[5]+1200080426&4294967295,D=w+(P<<12&4294967295|P>>>20),P=b+(A^D&(w^A))+k[6]+2821735955&4294967295,b=D+(P<<17&4294967295|P>>>15),P=A+(w^b&(D^w))+k[7]+4249261313&4294967295,A=b+(P<<22&4294967295|P>>>10),P=w+(D^A&(b^D))+k[8]+1770035416&4294967295,w=A+(P<<7&4294967295|P>>>25),P=D+(b^w&(A^b))+k[9]+2336552879&4294967295,D=w+(P<<12&4294967295|P>>>20),P=b+(A^D&(w^A))+k[10]+4294925233&4294967295,b=D+(P<<17&4294967295|P>>>15),P=A+(w^b&(D^w))+k[11]+2304563134&4294967295,A=b+(P<<22&4294967295|P>>>10),P=w+(D^A&(b^D))+k[12]+1804603682&4294967295,w=A+(P<<7&4294967295|P>>>25),P=D+(b^w&(A^b))+k[13]+4254626195&4294967295,D=w+(P<<12&4294967295|P>>>20),P=b+(A^D&(w^A))+k[14]+2792965006&4294967295,b=D+(P<<17&4294967295|P>>>15),P=A+(w^b&(D^w))+k[15]+1236535329&4294967295,A=b+(P<<22&4294967295|P>>>10),P=w+(b^D&(A^b))+k[1]+4129170786&4294967295,w=A+(P<<5&4294967295|P>>>27),P=D+(A^b&(w^A))+k[6]+3225465664&4294967295,D=w+(P<<9&4294967295|P>>>23),P=b+(w^A&(D^w))+k[11]+643717713&4294967295,b=D+(P<<14&4294967295|P>>>18),P=A+(D^w&(b^D))+k[0]+3921069994&4294967295,A=b+(P<<20&4294967295|P>>>12),P=w+(b^D&(A^b))+k[5]+3593408605&4294967295,w=A+(P<<5&4294967295|P>>>27),P=D+(A^b&(w^A))+k[10]+38016083&4294967295,D=w+(P<<9&4294967295|P>>>23),P=b+(w^A&(D^w))+k[15]+3634488961&4294967295,b=D+(P<<14&4294967295|P>>>18),P=A+(D^w&(b^D))+k[4]+3889429448&4294967295,A=b+(P<<20&4294967295|P>>>12),P=w+(b^D&(A^b))+k[9]+568446438&4294967295,w=A+(P<<5&4294967295|P>>>27),P=D+(A^b&(w^A))+k[14]+3275163606&4294967295,D=w+(P<<9&4294967295|P>>>23),P=b+(w^A&(D^w))+k[3]+4107603335&4294967295,b=D+(P<<14&4294967295|P>>>18),P=A+(D^w&(b^D))+k[8]+1163531501&4294967295,A=b+(P<<20&4294967295|P>>>12),P=w+(b^D&(A^b))+k[13]+2850285829&4294967295,w=A+(P<<5&4294967295|P>>>27),P=D+(A^b&(w^A))+k[2]+4243563512&4294967295,D=w+(P<<9&4294967295|P>>>23),P=b+(w^A&(D^w))+k[7]+1735328473&4294967295,b=D+(P<<14&4294967295|P>>>18),P=A+(D^w&(b^D))+k[12]+2368359562&4294967295,A=b+(P<<20&4294967295|P>>>12),P=w+(A^b^D)+k[5]+4294588738&4294967295,w=A+(P<<4&4294967295|P>>>28),P=D+(w^A^b)+k[8]+2272392833&4294967295,D=w+(P<<11&4294967295|P>>>21),P=b+(D^w^A)+k[11]+1839030562&4294967295,b=D+(P<<16&4294967295|P>>>16),P=A+(b^D^w)+k[14]+4259657740&4294967295,A=b+(P<<23&4294967295|P>>>9),P=w+(A^b^D)+k[1]+2763975236&4294967295,w=A+(P<<4&4294967295|P>>>28),P=D+(w^A^b)+k[4]+1272893353&4294967295,D=w+(P<<11&4294967295|P>>>21),P=b+(D^w^A)+k[7]+4139469664&4294967295,b=D+(P<<16&4294967295|P>>>16),P=A+(b^D^w)+k[10]+3200236656&4294967295,A=b+(P<<23&4294967295|P>>>9),P=w+(A^b^D)+k[13]+681279174&4294967295,w=A+(P<<4&4294967295|P>>>28),P=D+(w^A^b)+k[0]+3936430074&4294967295,D=w+(P<<11&4294967295|P>>>21),P=b+(D^w^A)+k[3]+3572445317&4294967295,b=D+(P<<16&4294967295|P>>>16),P=A+(b^D^w)+k[6]+76029189&4294967295,A=b+(P<<23&4294967295|P>>>9),P=w+(A^b^D)+k[9]+3654602809&4294967295,w=A+(P<<4&4294967295|P>>>28),P=D+(w^A^b)+k[12]+3873151461&4294967295,D=w+(P<<11&4294967295|P>>>21),P=b+(D^w^A)+k[15]+530742520&4294967295,b=D+(P<<16&4294967295|P>>>16),P=A+(b^D^w)+k[2]+3299628645&4294967295,A=b+(P<<23&4294967295|P>>>9),P=w+(b^(A|~D))+k[0]+4096336452&4294967295,w=A+(P<<6&4294967295|P>>>26),P=D+(A^(w|~b))+k[7]+1126891415&4294967295,D=w+(P<<10&4294967295|P>>>22),P=b+(w^(D|~A))+k[14]+2878612391&4294967295,b=D+(P<<15&4294967295|P>>>17),P=A+(D^(b|~w))+k[5]+4237533241&4294967295,A=b+(P<<21&4294967295|P>>>11),P=w+(b^(A|~D))+k[12]+1700485571&4294967295,w=A+(P<<6&4294967295|P>>>26),P=D+(A^(w|~b))+k[3]+2399980690&4294967295,D=w+(P<<10&4294967295|P>>>22),P=b+(w^(D|~A))+k[10]+4293915773&4294967295,b=D+(P<<15&4294967295|P>>>17),P=A+(D^(b|~w))+k[1]+2240044497&4294967295,A=b+(P<<21&4294967295|P>>>11),P=w+(b^(A|~D))+k[8]+1873313359&4294967295,w=A+(P<<6&4294967295|P>>>26),P=D+(A^(w|~b))+k[15]+4264355552&4294967295,D=w+(P<<10&4294967295|P>>>22),P=b+(w^(D|~A))+k[6]+2734768916&4294967295,b=D+(P<<15&4294967295|P>>>17),P=A+(D^(b|~w))+k[13]+1309151649&4294967295,A=b+(P<<21&4294967295|P>>>11),P=w+(b^(A|~D))+k[4]+4149444226&4294967295,w=A+(P<<6&4294967295|P>>>26),P=D+(A^(w|~b))+k[11]+3174756917&4294967295,D=w+(P<<10&4294967295|P>>>22),P=b+(w^(D|~A))+k[2]+718787259&4294967295,b=D+(P<<15&4294967295|P>>>17),P=A+(D^(b|~w))+k[9]+3951481745&4294967295,S.g[0]=S.g[0]+w&4294967295,S.g[1]=S.g[1]+(b+(P<<21&4294967295|P>>>11))&4294967295,S.g[2]=S.g[2]+b&4294967295,S.g[3]=S.g[3]+D&4294967295}r.prototype.u=function(S,w){w===void 0&&(w=S.length);for(var A=w-this.blockSize,k=this.B,b=this.h,D=0;D<w;){if(b==0)for(;D<=A;)i(this,S,D),D+=this.blockSize;if(typeof S=="string"){for(;D<w;)if(k[b++]=S.charCodeAt(D++),b==this.blockSize){i(this,k),b=0;break}}else for(;D<w;)if(k[b++]=S[D++],b==this.blockSize){i(this,k),b=0;break}}this.h=b,this.o+=w},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var w=1;w<S.length-8;++w)S[w]=0;var A=8*this.o;for(w=S.length-8;w<S.length;++w)S[w]=A&255,A/=256;for(this.u(S),S=Array(16),w=A=0;4>w;++w)for(var k=0;32>k;k+=8)S[A++]=this.g[w]>>>k&255;return S};function s(S,w){var A=a;return Object.prototype.hasOwnProperty.call(A,S)?A[S]:A[S]=w(S)}function o(S,w){this.h=w;for(var A=[],k=!0,b=S.length-1;0<=b;b--){var D=S[b]|0;k&&D==w||(A[b]=D,k=!1)}this.g=A}var a={};function l(S){return-128<=S&&128>S?s(S,function(w){return new o([w|0],0>w?-1:0)}):new o([S|0],0>S?-1:0)}function c(S){if(isNaN(S)||!isFinite(S))return d;if(0>S)return R(c(-S));for(var w=[],A=1,k=0;S>=A;k++)w[k]=S/A|0,A*=4294967296;return new o(w,0)}function h(S,w){if(S.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(S.charAt(0)=="-")return R(h(S.substring(1),w));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=c(Math.pow(w,8)),k=d,b=0;b<S.length;b+=8){var D=Math.min(8,S.length-b),P=parseInt(S.substring(b,b+D),w);8>D?(D=c(Math.pow(w,D)),k=k.j(D).add(c(P))):(k=k.j(A),k=k.add(c(P)))}return k}var d=l(0),m=l(1),y=l(16777216);t=o.prototype,t.m=function(){if(I(this))return-R(this).m();for(var S=0,w=1,A=0;A<this.g.length;A++){var k=this.i(A);S+=(0<=k?k:4294967296+k)*w,w*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(E(this))return"0";if(I(this))return"-"+R(this).toString(S);for(var w=c(Math.pow(S,6)),A=this,k="";;){var b=N(A,w).g;A=v(A,b.j(w));var D=((0<A.g.length?A.g[0]:A.h)>>>0).toString(S);if(A=b,E(A))return D+k;for(;6>D.length;)D="0"+D;k=D+k}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function E(S){if(S.h!=0)return!1;for(var w=0;w<S.g.length;w++)if(S.g[w]!=0)return!1;return!0}function I(S){return S.h==-1}t.l=function(S){return S=v(this,S),I(S)?-1:E(S)?0:1};function R(S){for(var w=S.g.length,A=[],k=0;k<w;k++)A[k]=~S.g[k];return new o(A,~S.h).add(m)}t.abs=function(){return I(this)?R(this):this},t.add=function(S){for(var w=Math.max(this.g.length,S.g.length),A=[],k=0,b=0;b<=w;b++){var D=k+(this.i(b)&65535)+(S.i(b)&65535),P=(D>>>16)+(this.i(b)>>>16)+(S.i(b)>>>16);k=P>>>16,D&=65535,P&=65535,A[b]=P<<16|D}return new o(A,A[A.length-1]&-2147483648?-1:0)};function v(S,w){return S.add(R(w))}t.j=function(S){if(E(this)||E(S))return d;if(I(this))return I(S)?R(this).j(R(S)):R(R(this).j(S));if(I(S))return R(this.j(R(S)));if(0>this.l(y)&&0>S.l(y))return c(this.m()*S.m());for(var w=this.g.length+S.g.length,A=[],k=0;k<2*w;k++)A[k]=0;for(k=0;k<this.g.length;k++)for(var b=0;b<S.g.length;b++){var D=this.i(k)>>>16,P=this.i(k)&65535,ft=S.i(b)>>>16,ur=S.i(b)&65535;A[2*k+2*b]+=P*ur,_(A,2*k+2*b),A[2*k+2*b+1]+=D*ur,_(A,2*k+2*b+1),A[2*k+2*b+1]+=P*ft,_(A,2*k+2*b+1),A[2*k+2*b+2]+=D*ft,_(A,2*k+2*b+2)}for(k=0;k<w;k++)A[k]=A[2*k+1]<<16|A[2*k];for(k=w;k<2*w;k++)A[k]=0;return new o(A,0)};function _(S,w){for(;(S[w]&65535)!=S[w];)S[w+1]+=S[w]>>>16,S[w]&=65535,w++}function x(S,w){this.g=S,this.h=w}function N(S,w){if(E(w))throw Error("division by zero");if(E(S))return new x(d,d);if(I(S))return w=N(R(S),w),new x(R(w.g),R(w.h));if(I(w))return w=N(S,R(w)),new x(R(w.g),w.h);if(30<S.g.length){if(I(S)||I(w))throw Error("slowDivide_ only works with positive integers.");for(var A=m,k=w;0>=k.l(S);)A=L(A),k=L(k);var b=M(A,1),D=M(k,1);for(k=M(k,2),A=M(A,2);!E(k);){var P=D.add(k);0>=P.l(S)&&(b=b.add(A),D=P),k=M(k,1),A=M(A,1)}return w=v(S,b.j(w)),new x(b,w)}for(b=d;0<=S.l(w);){for(A=Math.max(1,Math.floor(S.m()/w.m())),k=Math.ceil(Math.log(A)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),D=c(A),P=D.j(w);I(P)||0<P.l(S);)A-=k,D=c(A),P=D.j(w);E(D)&&(D=m),b=b.add(D),S=v(S,P)}return new x(b,S)}t.A=function(S){return N(this,S).h},t.and=function(S){for(var w=Math.max(this.g.length,S.g.length),A=[],k=0;k<w;k++)A[k]=this.i(k)&S.i(k);return new o(A,this.h&S.h)},t.or=function(S){for(var w=Math.max(this.g.length,S.g.length),A=[],k=0;k<w;k++)A[k]=this.i(k)|S.i(k);return new o(A,this.h|S.h)},t.xor=function(S){for(var w=Math.max(this.g.length,S.g.length),A=[],k=0;k<w;k++)A[k]=this.i(k)^S.i(k);return new o(A,this.h^S.h)};function L(S){for(var w=S.g.length+1,A=[],k=0;k<w;k++)A[k]=S.i(k)<<1|S.i(k-1)>>>31;return new o(A,S.h)}function M(S,w){var A=w>>5;w%=32;for(var k=S.g.length-A,b=[],D=0;D<k;D++)b[D]=0<w?S.i(D+A)>>>w|S.i(D+A+1)<<32-w:S.i(D+A);return new o(b,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,n1=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=h,Mr=o}).apply(typeof fw<"u"?fw:typeof self<"u"?self:typeof window<"u"?window:{});var lu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var r1,zo,i1,Lu,vp,s1,o1,a1;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,f,g){return u==Array.prototype||u==Object.prototype||(u[f]=g.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof lu=="object"&&lu];for(var f=0;f<u.length;++f){var g=u[f];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=n(this);function i(u,f){if(f)e:{var g=r;u=u.split(".");for(var T=0;T<u.length-1;T++){var V=u[T];if(!(V in g))break e;g=g[V]}u=u[u.length-1],T=g[u],f=f(T),f!=T&&f!=null&&e(g,u,{configurable:!0,writable:!0,value:f})}}function s(u,f){u instanceof String&&(u+="");var g=0,T=!1,V={next:function(){if(!T&&g<u.length){var O=g++;return{value:f(O,u[O]),done:!1}}return T=!0,{done:!0,value:void 0}}};return V[Symbol.iterator]=function(){return V},V}i("Array.prototype.values",function(u){return u||function(){return s(this,function(f,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(u){var f=typeof u;return f=f!="object"?f:u?Array.isArray(u)?"array":f:"null",f=="array"||f=="object"&&typeof u.length=="number"}function c(u){var f=typeof u;return f=="object"&&u!=null||f=="function"}function h(u,f,g){return u.call.apply(u.bind,arguments)}function d(u,f,g){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var V=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(V,T),u.apply(f,V)}}return function(){return u.apply(f,arguments)}}function m(u,f,g){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:d,m.apply(null,arguments)}function y(u,f){var g=Array.prototype.slice.call(arguments,1);return function(){var T=g.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function E(u,f){function g(){}g.prototype=f.prototype,u.aa=f.prototype,u.prototype=new g,u.prototype.constructor=u,u.Qb=function(T,V,O){for(var B=Array(arguments.length-2),ce=2;ce<arguments.length;ce++)B[ce-2]=arguments[ce];return f.prototype[V].apply(T,B)}}function I(u){const f=u.length;if(0<f){const g=Array(f);for(let T=0;T<f;T++)g[T]=u[T];return g}return[]}function R(u,f){for(let g=1;g<arguments.length;g++){const T=arguments[g];if(l(T)){const V=u.length||0,O=T.length||0;u.length=V+O;for(let B=0;B<O;B++)u[V+B]=T[B]}else u.push(T)}}class v{constructor(f,g){this.i=f,this.j=g,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function _(u){return/^[\s\xa0]*$/.test(u)}function x(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function N(u){return N[" "](u),u}N[" "]=function(){};var L=x().indexOf("Gecko")!=-1&&!(x().toLowerCase().indexOf("webkit")!=-1&&x().indexOf("Edge")==-1)&&!(x().indexOf("Trident")!=-1||x().indexOf("MSIE")!=-1)&&x().indexOf("Edge")==-1;function M(u,f,g){for(const T in u)f.call(g,u[T],T,u)}function S(u,f){for(const g in u)f.call(void 0,u[g],g,u)}function w(u){const f={};for(const g in u)f[g]=u[g];return f}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(u,f){let g,T;for(let V=1;V<arguments.length;V++){T=arguments[V];for(g in T)u[g]=T[g];for(let O=0;O<A.length;O++)g=A[O],Object.prototype.hasOwnProperty.call(T,g)&&(u[g]=T[g])}}function b(u){var f=1;u=u.split(":");const g=[];for(;0<f&&u.length;)g.push(u.shift()),f--;return u.length&&g.push(u.join(":")),g}function D(u){a.setTimeout(()=>{throw u},0)}function P(){var u=K;let f=null;return u.g&&(f=u.g,u.g=u.g.next,u.g||(u.h=null),f.next=null),f}class ft{constructor(){this.h=this.g=null}add(f,g){const T=ur.get();T.set(f,g),this.h?this.h.next=T:this.g=T,this.h=T}}var ur=new v(()=>new Ki,u=>u.reset());class Ki{constructor(){this.next=this.g=this.h=null}set(f,g){this.h=f,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let de,$=!1,K=new ft,X=()=>{const u=a.Promise.resolve(void 0);de=()=>{u.then(_e)}};var _e=()=>{for(var u;u=P();){try{u.h.call(u.g)}catch(g){D(g)}var f=ur;f.j(u),100>f.h&&(f.h++,u.next=f.g,f.g=u)}$=!1};function ue(){this.s=this.s,this.C=this.C}ue.prototype.s=!1,ue.prototype.ma=function(){this.s||(this.s=!0,this.N())},ue.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ne(u,f){this.type=u,this.g=this.target=f,this.defaultPrevented=!1}Ne.prototype.h=function(){this.defaultPrevented=!0};var Nn=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,f=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const g=()=>{};a.addEventListener("test",g,f),a.removeEventListener("test",g,f)}catch{}return u}();function Dn(u,f){if(Ne.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var g=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=f,f=u.relatedTarget){if(L){e:{try{N(f.nodeName);var V=!0;break e}catch{}V=!1}V||(f=null)}}else g=="mouseover"?f=u.fromElement:g=="mouseout"&&(f=u.toElement);this.relatedTarget=f,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Vn[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Dn.aa.h.call(this)}}E(Dn,Ne);var Vn={2:"touch",3:"pen",4:"mouse"};Dn.prototype.h=function(){Dn.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ln="closure_listenable_"+(1e6*Math.random()|0),Wk=0;function qk(u,f,g,T,V){this.listener=u,this.proxy=null,this.src=f,this.type=g,this.capture=!!T,this.ha=V,this.key=++Wk,this.da=this.fa=!1}function Tl(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function xl(u){this.src=u,this.g={},this.h=0}xl.prototype.add=function(u,f,g,T,V){var O=u.toString();u=this.g[O],u||(u=this.g[O]=[],this.h++);var B=Ph(u,f,T,V);return-1<B?(f=u[B],g||(f.fa=!1)):(f=new qk(f,this.src,O,!!T,V),f.fa=g,u.push(f)),f};function Rh(u,f){var g=f.type;if(g in u.g){var T=u.g[g],V=Array.prototype.indexOf.call(T,f,void 0),O;(O=0<=V)&&Array.prototype.splice.call(T,V,1),O&&(Tl(f),u.g[g].length==0&&(delete u.g[g],u.h--))}}function Ph(u,f,g,T){for(var V=0;V<u.length;++V){var O=u[V];if(!O.da&&O.listener==f&&O.capture==!!g&&O.ha==T)return V}return-1}var bh="closure_lm_"+(1e6*Math.random()|0),Nh={};function Cy(u,f,g,T,V){if(Array.isArray(f)){for(var O=0;O<f.length;O++)Cy(u,f[O],g,T,V);return null}return g=by(g),u&&u[Ln]?u.K(f,g,c(T)?!!T.capture:!1,V):Kk(u,f,g,!1,T,V)}function Kk(u,f,g,T,V,O){if(!f)throw Error("Invalid event type");var B=c(V)?!!V.capture:!!V,ce=Vh(u);if(ce||(u[bh]=ce=new xl(u)),g=ce.add(f,g,T,B,O),g.proxy)return g;if(T=Gk(),g.proxy=T,T.src=u,T.listener=g,u.addEventListener)Nn||(V=B),V===void 0&&(V=!1),u.addEventListener(f.toString(),T,V);else if(u.attachEvent)u.attachEvent(Py(f.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return g}function Gk(){function u(g){return f.call(u.src,u.listener,g)}const f=Qk;return u}function Ry(u,f,g,T,V){if(Array.isArray(f))for(var O=0;O<f.length;O++)Ry(u,f[O],g,T,V);else T=c(T)?!!T.capture:!!T,g=by(g),u&&u[Ln]?(u=u.i,f=String(f).toString(),f in u.g&&(O=u.g[f],g=Ph(O,g,T,V),-1<g&&(Tl(O[g]),Array.prototype.splice.call(O,g,1),O.length==0&&(delete u.g[f],u.h--)))):u&&(u=Vh(u))&&(f=u.g[f.toString()],u=-1,f&&(u=Ph(f,g,T,V)),(g=-1<u?f[u]:null)&&Dh(g))}function Dh(u){if(typeof u!="number"&&u&&!u.da){var f=u.src;if(f&&f[Ln])Rh(f.i,u);else{var g=u.type,T=u.proxy;f.removeEventListener?f.removeEventListener(g,T,u.capture):f.detachEvent?f.detachEvent(Py(g),T):f.addListener&&f.removeListener&&f.removeListener(T),(g=Vh(f))?(Rh(g,u),g.h==0&&(g.src=null,f[bh]=null)):Tl(u)}}}function Py(u){return u in Nh?Nh[u]:Nh[u]="on"+u}function Qk(u,f){if(u.da)u=!0;else{f=new Dn(f,this);var g=u.listener,T=u.ha||u.src;u.fa&&Dh(u),u=g.call(T,f)}return u}function Vh(u){return u=u[bh],u instanceof xl?u:null}var Lh="__closure_events_fn_"+(1e9*Math.random()>>>0);function by(u){return typeof u=="function"?u:(u[Lh]||(u[Lh]=function(f){return u.handleEvent(f)}),u[Lh])}function tt(){ue.call(this),this.i=new xl(this),this.M=this,this.F=null}E(tt,ue),tt.prototype[Ln]=!0,tt.prototype.removeEventListener=function(u,f,g,T){Ry(this,u,f,g,T)};function pt(u,f){var g,T=u.F;if(T)for(g=[];T;T=T.F)g.push(T);if(u=u.M,T=f.type||f,typeof f=="string")f=new Ne(f,u);else if(f instanceof Ne)f.target=f.target||u;else{var V=f;f=new Ne(T,u),k(f,V)}if(V=!0,g)for(var O=g.length-1;0<=O;O--){var B=f.g=g[O];V=Sl(B,T,!0,f)&&V}if(B=f.g=u,V=Sl(B,T,!0,f)&&V,V=Sl(B,T,!1,f)&&V,g)for(O=0;O<g.length;O++)B=f.g=g[O],V=Sl(B,T,!1,f)&&V}tt.prototype.N=function(){if(tt.aa.N.call(this),this.i){var u=this.i,f;for(f in u.g){for(var g=u.g[f],T=0;T<g.length;T++)Tl(g[T]);delete u.g[f],u.h--}}this.F=null},tt.prototype.K=function(u,f,g,T){return this.i.add(String(u),f,!1,g,T)},tt.prototype.L=function(u,f,g,T){return this.i.add(String(u),f,!0,g,T)};function Sl(u,f,g,T){if(f=u.i.g[String(f)],!f)return!0;f=f.concat();for(var V=!0,O=0;O<f.length;++O){var B=f[O];if(B&&!B.da&&B.capture==g){var ce=B.listener,Ke=B.ha||B.src;B.fa&&Rh(u.i,B),V=ce.call(Ke,T)!==!1&&V}}return V&&!T.defaultPrevented}function Ny(u,f,g){if(typeof u=="function")g&&(u=m(u,g));else if(u&&typeof u.handleEvent=="function")u=m(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:a.setTimeout(u,f||0)}function Dy(u){u.g=Ny(()=>{u.g=null,u.i&&(u.i=!1,Dy(u))},u.l);const f=u.h;u.h=null,u.m.apply(null,f)}class Yk extends ue{constructor(f,g){super(),this.m=f,this.l=g,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:Dy(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ao(u){ue.call(this),this.h=u,this.g={}}E(ao,ue);var Vy=[];function Ly(u){M(u.g,function(f,g){this.g.hasOwnProperty(g)&&Dh(f)},u),u.g={}}ao.prototype.N=function(){ao.aa.N.call(this),Ly(this)},ao.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Oh=a.JSON.stringify,Xk=a.JSON.parse,Jk=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function Mh(){}Mh.prototype.h=null;function Oy(u){return u.h||(u.h=u.i())}function My(){}var lo={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function jh(){Ne.call(this,"d")}E(jh,Ne);function Fh(){Ne.call(this,"c")}E(Fh,Ne);var oi={},jy=null;function Il(){return jy=jy||new tt}oi.La="serverreachability";function Fy(u){Ne.call(this,oi.La,u)}E(Fy,Ne);function uo(u){const f=Il();pt(f,new Fy(f))}oi.STAT_EVENT="statevent";function Uy(u,f){Ne.call(this,oi.STAT_EVENT,u),this.stat=f}E(Uy,Ne);function mt(u){const f=Il();pt(f,new Uy(f,u))}oi.Ma="timingevent";function By(u,f){Ne.call(this,oi.Ma,u),this.size=f}E(By,Ne);function co(u,f){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},f)}function ho(){this.g=!0}ho.prototype.xa=function(){this.g=!1};function Zk(u,f,g,T,V,O){u.info(function(){if(u.g)if(O)for(var B="",ce=O.split("&"),Ke=0;Ke<ce.length;Ke++){var oe=ce[Ke].split("=");if(1<oe.length){var nt=oe[0];oe=oe[1];var rt=nt.split("_");B=2<=rt.length&&rt[1]=="type"?B+(nt+"="+oe+"&"):B+(nt+"=redacted&")}}else B=null;else B=O;return"XMLHTTP REQ ("+T+") [attempt "+V+"]: "+f+`
`+g+`
`+B})}function eC(u,f,g,T,V,O,B){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+V+"]: "+f+`
`+g+`
`+O+" "+B})}function Gi(u,f,g,T){u.info(function(){return"XMLHTTP TEXT ("+f+"): "+nC(u,g)+(T?" "+T:"")})}function tC(u,f){u.info(function(){return"TIMEOUT: "+f})}ho.prototype.info=function(){};function nC(u,f){if(!u.g)return f;if(!f)return null;try{var g=JSON.parse(f);if(g){for(u=0;u<g.length;u++)if(Array.isArray(g[u])){var T=g[u];if(!(2>T.length)){var V=T[1];if(Array.isArray(V)&&!(1>V.length)){var O=V[0];if(O!="noop"&&O!="stop"&&O!="close")for(var B=1;B<V.length;B++)V[B]=""}}}}return Oh(g)}catch{return f}}var Al={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},$y={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Uh;function kl(){}E(kl,Mh),kl.prototype.g=function(){return new XMLHttpRequest},kl.prototype.i=function(){return{}},Uh=new kl;function cr(u,f,g,T){this.j=u,this.i=f,this.l=g,this.R=T||1,this.U=new ao(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new zy}function zy(){this.i=null,this.g="",this.h=!1}var Hy={},Bh={};function $h(u,f,g){u.L=1,u.v=bl(On(f)),u.m=g,u.P=!0,Wy(u,null)}function Wy(u,f){u.F=Date.now(),Cl(u),u.A=On(u.v);var g=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),sv(g.i,"t",T),u.C=0,g=u.j.J,u.h=new zy,u.g=xv(u.j,g?f:null,!u.m),0<u.O&&(u.M=new Yk(m(u.Y,u,u.g),u.O)),f=u.U,g=u.g,T=u.ca;var V="readystatechange";Array.isArray(V)||(V&&(Vy[0]=V.toString()),V=Vy);for(var O=0;O<V.length;O++){var B=Cy(g,V[O],T||f.handleEvent,!1,f.h||f);if(!B)break;f.g[B.key]=B}f=u.H?w(u.H):{},u.m?(u.u||(u.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,f)):(u.u="GET",u.g.ea(u.A,u.u,null,f)),uo(),Zk(u.i,u.u,u.A,u.l,u.R,u.m)}cr.prototype.ca=function(u){u=u.target;const f=this.M;f&&Mn(u)==3?f.j():this.Y(u)},cr.prototype.Y=function(u){try{if(u==this.g)e:{const rt=Mn(this.g);var f=this.g.Ba();const Xi=this.g.Z();if(!(3>rt)&&(rt!=3||this.g&&(this.h.h||this.g.oa()||dv(this.g)))){this.J||rt!=4||f==7||(f==8||0>=Xi?uo(3):uo(2)),zh(this);var g=this.g.Z();this.X=g;t:if(qy(this)){var T=dv(this.g);u="";var V=T.length,O=Mn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ai(this),fo(this);var B="";break t}this.h.i=new a.TextDecoder}for(f=0;f<V;f++)this.h.h=!0,u+=this.h.i.decode(T[f],{stream:!(O&&f==V-1)});T.length=0,this.h.g+=u,this.C=0,B=this.h.g}else B=this.g.oa();if(this.o=g==200,eC(this.i,this.u,this.A,this.l,this.R,rt,g),this.o){if(this.T&&!this.K){t:{if(this.g){var ce,Ke=this.g;if((ce=Ke.g?Ke.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(ce)){var oe=ce;break t}}oe=null}if(g=oe)Gi(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Hh(this,g);else{this.o=!1,this.s=3,mt(12),ai(this),fo(this);break e}}if(this.P){g=!0;let Xt;for(;!this.J&&this.C<B.length;)if(Xt=rC(this,B),Xt==Bh){rt==4&&(this.s=4,mt(14),g=!1),Gi(this.i,this.l,null,"[Incomplete Response]");break}else if(Xt==Hy){this.s=4,mt(15),Gi(this.i,this.l,B,"[Invalid Chunk]"),g=!1;break}else Gi(this.i,this.l,Xt,null),Hh(this,Xt);if(qy(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),rt!=4||B.length!=0||this.h.h||(this.s=1,mt(16),g=!1),this.o=this.o&&g,!g)Gi(this.i,this.l,B,"[Invalid Chunked Response]"),ai(this),fo(this);else if(0<B.length&&!this.W){this.W=!0;var nt=this.j;nt.g==this&&nt.ba&&!nt.M&&(nt.j.info("Great, no buffering proxy detected. Bytes received: "+B.length),Yh(nt),nt.M=!0,mt(11))}}else Gi(this.i,this.l,B,null),Hh(this,B);rt==4&&ai(this),this.o&&!this.J&&(rt==4?_v(this.j,this):(this.o=!1,Cl(this)))}else wC(this.g),g==400&&0<B.indexOf("Unknown SID")?(this.s=3,mt(12)):(this.s=0,mt(13)),ai(this),fo(this)}}}catch{}finally{}};function qy(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function rC(u,f){var g=u.C,T=f.indexOf(`
`,g);return T==-1?Bh:(g=Number(f.substring(g,T)),isNaN(g)?Hy:(T+=1,T+g>f.length?Bh:(f=f.slice(T,T+g),u.C=T+g,f)))}cr.prototype.cancel=function(){this.J=!0,ai(this)};function Cl(u){u.S=Date.now()+u.I,Ky(u,u.I)}function Ky(u,f){if(u.B!=null)throw Error("WatchDog timer not null");u.B=co(m(u.ba,u),f)}function zh(u){u.B&&(a.clearTimeout(u.B),u.B=null)}cr.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(tC(this.i,this.A),this.L!=2&&(uo(),mt(17)),ai(this),this.s=2,fo(this)):Ky(this,this.S-u)};function fo(u){u.j.G==0||u.J||_v(u.j,u)}function ai(u){zh(u);var f=u.M;f&&typeof f.ma=="function"&&f.ma(),u.M=null,Ly(u.U),u.g&&(f=u.g,u.g=null,f.abort(),f.ma())}function Hh(u,f){try{var g=u.j;if(g.G!=0&&(g.g==u||Wh(g.h,u))){if(!u.K&&Wh(g.h,u)&&g.G==3){try{var T=g.Da.g.parse(f)}catch{T=null}if(Array.isArray(T)&&T.length==3){var V=T;if(V[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<u.F)Ml(g),Ll(g);else break e;Qh(g),mt(18)}}else g.za=V[1],0<g.za-g.T&&37500>V[2]&&g.F&&g.v==0&&!g.C&&(g.C=co(m(g.Za,g),6e3));if(1>=Yy(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else ui(g,11)}else if((u.K||g.g==u)&&Ml(g),!_(f))for(V=g.Da.g.parse(f),f=0;f<V.length;f++){let oe=V[f];if(g.T=oe[0],oe=oe[1],g.G==2)if(oe[0]=="c"){g.K=oe[1],g.ia=oe[2];const nt=oe[3];nt!=null&&(g.la=nt,g.j.info("VER="+g.la));const rt=oe[4];rt!=null&&(g.Aa=rt,g.j.info("SVER="+g.Aa));const Xi=oe[5];Xi!=null&&typeof Xi=="number"&&0<Xi&&(T=1.5*Xi,g.L=T,g.j.info("backChannelRequestTimeoutMs_="+T)),T=g;const Xt=u.g;if(Xt){const Fl=Xt.g?Xt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Fl){var O=T.h;O.g||Fl.indexOf("spdy")==-1&&Fl.indexOf("quic")==-1&&Fl.indexOf("h2")==-1||(O.j=O.l,O.g=new Set,O.h&&(qh(O,O.h),O.h=null))}if(T.D){const Xh=Xt.g?Xt.g.getResponseHeader("X-HTTP-Session-Id"):null;Xh&&(T.ya=Xh,fe(T.I,T.D,Xh))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-u.F,g.j.info("Handshake RTT: "+g.R+"ms")),T=g;var B=u;if(T.qa=Tv(T,T.J?T.ia:null,T.W),B.K){Xy(T.h,B);var ce=B,Ke=T.L;Ke&&(ce.I=Ke),ce.B&&(zh(ce),Cl(ce)),T.g=B}else yv(T);0<g.i.length&&Ol(g)}else oe[0]!="stop"&&oe[0]!="close"||ui(g,7);else g.G==3&&(oe[0]=="stop"||oe[0]=="close"?oe[0]=="stop"?ui(g,7):Gh(g):oe[0]!="noop"&&g.l&&g.l.ta(oe),g.v=0)}}uo(4)}catch{}}var iC=class{constructor(u,f){this.g=u,this.map=f}};function Gy(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Qy(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Yy(u){return u.h?1:u.g?u.g.size:0}function Wh(u,f){return u.h?u.h==f:u.g?u.g.has(f):!1}function qh(u,f){u.g?u.g.add(f):u.h=f}function Xy(u,f){u.h&&u.h==f?u.h=null:u.g&&u.g.has(f)&&u.g.delete(f)}Gy.prototype.cancel=function(){if(this.i=Jy(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Jy(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let f=u.i;for(const g of u.g.values())f=f.concat(g.D);return f}return I(u.i)}function sC(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var f=[],g=u.length,T=0;T<g;T++)f.push(u[T]);return f}f=[],g=0;for(T in u)f[g++]=u[T];return f}function oC(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var f=[];u=u.length;for(var g=0;g<u;g++)f.push(g);return f}f=[],g=0;for(const T in u)f[g++]=T;return f}}}function Zy(u,f){if(u.forEach&&typeof u.forEach=="function")u.forEach(f,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,f,void 0);else for(var g=oC(u),T=sC(u),V=T.length,O=0;O<V;O++)f.call(void 0,T[O],g&&g[O],u)}var ev=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function aC(u,f){if(u){u=u.split("&");for(var g=0;g<u.length;g++){var T=u[g].indexOf("="),V=null;if(0<=T){var O=u[g].substring(0,T);V=u[g].substring(T+1)}else O=u[g];f(O,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function li(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof li){this.h=u.h,Rl(this,u.j),this.o=u.o,this.g=u.g,Pl(this,u.s),this.l=u.l;var f=u.i,g=new go;g.i=f.i,f.g&&(g.g=new Map(f.g),g.h=f.h),tv(this,g),this.m=u.m}else u&&(f=String(u).match(ev))?(this.h=!1,Rl(this,f[1]||"",!0),this.o=po(f[2]||""),this.g=po(f[3]||"",!0),Pl(this,f[4]),this.l=po(f[5]||"",!0),tv(this,f[6]||"",!0),this.m=po(f[7]||"")):(this.h=!1,this.i=new go(null,this.h))}li.prototype.toString=function(){var u=[],f=this.j;f&&u.push(mo(f,nv,!0),":");var g=this.g;return(g||f=="file")&&(u.push("//"),(f=this.o)&&u.push(mo(f,nv,!0),"@"),u.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&u.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&u.push("/"),u.push(mo(g,g.charAt(0)=="/"?cC:uC,!0))),(g=this.i.toString())&&u.push("?",g),(g=this.m)&&u.push("#",mo(g,dC)),u.join("")};function On(u){return new li(u)}function Rl(u,f,g){u.j=g?po(f,!0):f,u.j&&(u.j=u.j.replace(/:$/,""))}function Pl(u,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);u.s=f}else u.s=null}function tv(u,f,g){f instanceof go?(u.i=f,fC(u.i,u.h)):(g||(f=mo(f,hC)),u.i=new go(f,u.h))}function fe(u,f,g){u.i.set(f,g)}function bl(u){return fe(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function po(u,f){return u?f?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function mo(u,f,g){return typeof u=="string"?(u=encodeURI(u).replace(f,lC),g&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function lC(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var nv=/[#\/\?@]/g,uC=/[#\?:]/g,cC=/[#\?]/g,hC=/[#\?@]/g,dC=/#/g;function go(u,f){this.h=this.g=null,this.i=u||null,this.j=!!f}function hr(u){u.g||(u.g=new Map,u.h=0,u.i&&aC(u.i,function(f,g){u.add(decodeURIComponent(f.replace(/\+/g," ")),g)}))}t=go.prototype,t.add=function(u,f){hr(this),this.i=null,u=Qi(this,u);var g=this.g.get(u);return g||this.g.set(u,g=[]),g.push(f),this.h+=1,this};function rv(u,f){hr(u),f=Qi(u,f),u.g.has(f)&&(u.i=null,u.h-=u.g.get(f).length,u.g.delete(f))}function iv(u,f){return hr(u),f=Qi(u,f),u.g.has(f)}t.forEach=function(u,f){hr(this),this.g.forEach(function(g,T){g.forEach(function(V){u.call(f,V,T,this)},this)},this)},t.na=function(){hr(this);const u=Array.from(this.g.values()),f=Array.from(this.g.keys()),g=[];for(let T=0;T<f.length;T++){const V=u[T];for(let O=0;O<V.length;O++)g.push(f[T])}return g},t.V=function(u){hr(this);let f=[];if(typeof u=="string")iv(this,u)&&(f=f.concat(this.g.get(Qi(this,u))));else{u=Array.from(this.g.values());for(let g=0;g<u.length;g++)f=f.concat(u[g])}return f},t.set=function(u,f){return hr(this),this.i=null,u=Qi(this,u),iv(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[f]),this.h+=1,this},t.get=function(u,f){return u?(u=this.V(u),0<u.length?String(u[0]):f):f};function sv(u,f,g){rv(u,f),0<g.length&&(u.i=null,u.g.set(Qi(u,f),I(g)),u.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],f=Array.from(this.g.keys());for(var g=0;g<f.length;g++){var T=f[g];const O=encodeURIComponent(String(T)),B=this.V(T);for(T=0;T<B.length;T++){var V=O;B[T]!==""&&(V+="="+encodeURIComponent(String(B[T]))),u.push(V)}}return this.i=u.join("&")};function Qi(u,f){return f=String(f),u.j&&(f=f.toLowerCase()),f}function fC(u,f){f&&!u.j&&(hr(u),u.i=null,u.g.forEach(function(g,T){var V=T.toLowerCase();T!=V&&(rv(this,T),sv(this,V,g))},u)),u.j=f}function pC(u,f){const g=new ho;if(a.Image){const T=new Image;T.onload=y(dr,g,"TestLoadImage: loaded",!0,f,T),T.onerror=y(dr,g,"TestLoadImage: error",!1,f,T),T.onabort=y(dr,g,"TestLoadImage: abort",!1,f,T),T.ontimeout=y(dr,g,"TestLoadImage: timeout",!1,f,T),a.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else f(!1)}function mC(u,f){const g=new ho,T=new AbortController,V=setTimeout(()=>{T.abort(),dr(g,"TestPingServer: timeout",!1,f)},1e4);fetch(u,{signal:T.signal}).then(O=>{clearTimeout(V),O.ok?dr(g,"TestPingServer: ok",!0,f):dr(g,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(V),dr(g,"TestPingServer: error",!1,f)})}function dr(u,f,g,T,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),T(g)}catch{}}function gC(){this.g=new Jk}function yC(u,f,g){const T=g||"";try{Zy(u,function(V,O){let B=V;c(V)&&(B=Oh(V)),f.push(T+O+"="+encodeURIComponent(B))})}catch(V){throw f.push(T+"type="+encodeURIComponent("_badmap")),V}}function Nl(u){this.l=u.Ub||null,this.j=u.eb||!1}E(Nl,Mh),Nl.prototype.g=function(){return new Dl(this.l,this.j)},Nl.prototype.i=function(u){return function(){return u}}({});function Dl(u,f){tt.call(this),this.D=u,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(Dl,tt),t=Dl.prototype,t.open=function(u,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=f,this.readyState=1,vo(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(f.body=u),(this.D||a).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,yo(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,vo(this)),this.g&&(this.readyState=3,vo(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ov(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function ov(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var f=u.value?u.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!u.done}))&&(this.response=this.responseText+=f)}u.done?yo(this):vo(this),this.readyState==3&&ov(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,yo(this))},t.Qa=function(u){this.g&&(this.response=u,yo(this))},t.ga=function(){this.g&&yo(this)};function yo(u){u.readyState=4,u.l=null,u.j=null,u.v=null,vo(u)}t.setRequestHeader=function(u,f){this.u.append(u,f)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],f=this.h.entries();for(var g=f.next();!g.done;)g=g.value,u.push(g[0]+": "+g[1]),g=f.next();return u.join(`\r
`)};function vo(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Dl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function av(u){let f="";return M(u,function(g,T){f+=T,f+=":",f+=g,f+=`\r
`}),f}function Kh(u,f,g){e:{for(T in g){var T=!1;break e}T=!0}T||(g=av(g),typeof u=="string"?g!=null&&encodeURIComponent(String(g)):fe(u,f,g))}function ke(u){tt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(ke,tt);var vC=/^https?$/i,_C=["POST","PUT"];t=ke.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,f,g,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);f=f?f.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Uh.g(),this.v=this.o?Oy(this.o):Oy(Uh),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(f,String(u),!0),this.B=!1}catch(O){lv(this,O);return}if(u=g||"",g=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var V in T)g.set(V,T[V]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const O of T.keys())g.set(O,T.get(O));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(g.keys()).find(O=>O.toLowerCase()=="content-type"),V=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(_C,f,void 0))||T||V||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[O,B]of g)this.g.setRequestHeader(O,B);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{hv(this),this.u=!0,this.g.send(u),this.u=!1}catch(O){lv(this,O)}};function lv(u,f){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=f,u.m=5,uv(u),Vl(u)}function uv(u){u.A||(u.A=!0,pt(u,"complete"),pt(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,pt(this,"complete"),pt(this,"abort"),Vl(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Vl(this,!0)),ke.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?cv(this):this.bb())},t.bb=function(){cv(this)};function cv(u){if(u.h&&typeof o<"u"&&(!u.v[1]||Mn(u)!=4||u.Z()!=2)){if(u.u&&Mn(u)==4)Ny(u.Ea,0,u);else if(pt(u,"readystatechange"),Mn(u)==4){u.h=!1;try{const B=u.Z();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var g;if(!(g=f)){var T;if(T=B===0){var V=String(u.D).match(ev)[1]||null;!V&&a.self&&a.self.location&&(V=a.self.location.protocol.slice(0,-1)),T=!vC.test(V?V.toLowerCase():"")}g=T}if(g)pt(u,"complete"),pt(u,"success");else{u.m=6;try{var O=2<Mn(u)?u.g.statusText:""}catch{O=""}u.l=O+" ["+u.Z()+"]",uv(u)}}finally{Vl(u)}}}}function Vl(u,f){if(u.g){hv(u);const g=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,f||pt(u,"ready");try{g.onreadystatechange=T}catch{}}}function hv(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function Mn(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<Mn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var f=this.g.responseText;return u&&f.indexOf(u)==0&&(f=f.substring(u.length)),Xk(f)}};function dv(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function wC(u){const f={};u=(u.g&&2<=Mn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(_(u[T]))continue;var g=b(u[T]);const V=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const O=f[V]||[];f[V]=O,O.push(g)}S(f,function(T){return T.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function _o(u,f,g){return g&&g.internalChannelParams&&g.internalChannelParams[u]||f}function fv(u){this.Aa=0,this.i=[],this.j=new ho,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=_o("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=_o("baseRetryDelayMs",5e3,u),this.cb=_o("retryDelaySeedMs",1e4,u),this.Wa=_o("forwardChannelMaxRetries",2,u),this.wa=_o("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Gy(u&&u.concurrentRequestLimit),this.Da=new gC,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=fv.prototype,t.la=8,t.G=1,t.connect=function(u,f,g,T){mt(0),this.W=u,this.H=f||{},g&&T!==void 0&&(this.H.OSID=g,this.H.OAID=T),this.F=this.X,this.I=Tv(this,null,this.W),Ol(this)};function Gh(u){if(pv(u),u.G==3){var f=u.U++,g=On(u.I);if(fe(g,"SID",u.K),fe(g,"RID",f),fe(g,"TYPE","terminate"),wo(u,g),f=new cr(u,u.j,f),f.L=2,f.v=bl(On(g)),g=!1,a.navigator&&a.navigator.sendBeacon)try{g=a.navigator.sendBeacon(f.v.toString(),"")}catch{}!g&&a.Image&&(new Image().src=f.v,g=!0),g||(f.g=xv(f.j,null),f.g.ea(f.v)),f.F=Date.now(),Cl(f)}Ev(u)}function Ll(u){u.g&&(Yh(u),u.g.cancel(),u.g=null)}function pv(u){Ll(u),u.u&&(a.clearTimeout(u.u),u.u=null),Ml(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function Ol(u){if(!Qy(u.h)&&!u.s){u.s=!0;var f=u.Ga;de||X(),$||(de(),$=!0),K.add(f,u),u.B=0}}function EC(u,f){return Yy(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=f.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=co(m(u.Ga,u,f),wv(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const V=new cr(this,this.j,u);let O=this.o;if(this.S&&(O?(O=w(O),k(O,this.S)):O=this.S),this.m!==null||this.O||(V.H=O,O=null),this.P)e:{for(var f=0,g=0;g<this.i.length;g++){t:{var T=this.i[g];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(f+=T,4096<f){f=g;break e}if(f===4096||g===this.i.length-1){f=g+1;break e}}f=1e3}else f=1e3;f=gv(this,V,f),g=On(this.I),fe(g,"RID",u),fe(g,"CVER",22),this.D&&fe(g,"X-HTTP-Session-Id",this.D),wo(this,g),O&&(this.O?f="headers="+encodeURIComponent(String(av(O)))+"&"+f:this.m&&Kh(g,this.m,O)),qh(this.h,V),this.Ua&&fe(g,"TYPE","init"),this.P?(fe(g,"$req",f),fe(g,"SID","null"),V.T=!0,$h(V,g,null)):$h(V,g,f),this.G=2}}else this.G==3&&(u?mv(this,u):this.i.length==0||Qy(this.h)||mv(this))};function mv(u,f){var g;f?g=f.l:g=u.U++;const T=On(u.I);fe(T,"SID",u.K),fe(T,"RID",g),fe(T,"AID",u.T),wo(u,T),u.m&&u.o&&Kh(T,u.m,u.o),g=new cr(u,u.j,g,u.B+1),u.m===null&&(g.H=u.o),f&&(u.i=f.D.concat(u.i)),f=gv(u,g,1e3),g.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),qh(u.h,g),$h(g,T,f)}function wo(u,f){u.H&&M(u.H,function(g,T){fe(f,T,g)}),u.l&&Zy({},function(g,T){fe(f,T,g)})}function gv(u,f,g){g=Math.min(u.i.length,g);var T=u.l?m(u.l.Na,u.l,u):null;e:{var V=u.i;let O=-1;for(;;){const B=["count="+g];O==-1?0<g?(O=V[0].g,B.push("ofs="+O)):O=0:B.push("ofs="+O);let ce=!0;for(let Ke=0;Ke<g;Ke++){let oe=V[Ke].g;const nt=V[Ke].map;if(oe-=O,0>oe)O=Math.max(0,V[Ke].g-100),ce=!1;else try{yC(nt,B,"req"+oe+"_")}catch{T&&T(nt)}}if(ce){T=B.join("&");break e}}}return u=u.i.splice(0,g),f.D=u,T}function yv(u){if(!u.g&&!u.u){u.Y=1;var f=u.Fa;de||X(),$||(de(),$=!0),K.add(f,u),u.v=0}}function Qh(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=co(m(u.Fa,u),wv(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,vv(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=co(m(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,mt(10),Ll(this),vv(this))};function Yh(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function vv(u){u.g=new cr(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var f=On(u.qa);fe(f,"RID","rpc"),fe(f,"SID",u.K),fe(f,"AID",u.T),fe(f,"CI",u.F?"0":"1"),!u.F&&u.ja&&fe(f,"TO",u.ja),fe(f,"TYPE","xmlhttp"),wo(u,f),u.m&&u.o&&Kh(f,u.m,u.o),u.L&&(u.g.I=u.L);var g=u.g;u=u.ia,g.L=1,g.v=bl(On(f)),g.m=null,g.P=!0,Wy(g,u)}t.Za=function(){this.C!=null&&(this.C=null,Ll(this),Qh(this),mt(19))};function Ml(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function _v(u,f){var g=null;if(u.g==f){Ml(u),Yh(u),u.g=null;var T=2}else if(Wh(u.h,f))g=f.D,Xy(u.h,f),T=1;else return;if(u.G!=0){if(f.o)if(T==1){g=f.m?f.m.length:0,f=Date.now()-f.F;var V=u.B;T=Il(),pt(T,new By(T,g)),Ol(u)}else yv(u);else if(V=f.s,V==3||V==0&&0<f.X||!(T==1&&EC(u,f)||T==2&&Qh(u)))switch(g&&0<g.length&&(f=u.h,f.i=f.i.concat(g)),V){case 1:ui(u,5);break;case 4:ui(u,10);break;case 3:ui(u,6);break;default:ui(u,2)}}}function wv(u,f){let g=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(g*=2),g*f}function ui(u,f){if(u.j.info("Error code "+f),f==2){var g=m(u.fb,u),T=u.Xa;const V=!T;T=new li(T||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Rl(T,"https"),bl(T),V?pC(T.toString(),g):mC(T.toString(),g)}else mt(2);u.G=0,u.l&&u.l.sa(f),Ev(u),pv(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),mt(2)):(this.j.info("Failed to ping google.com"),mt(1))};function Ev(u){if(u.G=0,u.ka=[],u.l){const f=Jy(u.h);(f.length!=0||u.i.length!=0)&&(R(u.ka,f),R(u.ka,u.i),u.h.i.length=0,I(u.i),u.i.length=0),u.l.ra()}}function Tv(u,f,g){var T=g instanceof li?On(g):new li(g);if(T.g!="")f&&(T.g=f+"."+T.g),Pl(T,T.s);else{var V=a.location;T=V.protocol,f=f?f+"."+V.hostname:V.hostname,V=+V.port;var O=new li(null);T&&Rl(O,T),f&&(O.g=f),V&&Pl(O,V),g&&(O.l=g),T=O}return g=u.D,f=u.ya,g&&f&&fe(T,g,f),fe(T,"VER",u.la),wo(u,T),T}function xv(u,f,g){if(f&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=u.Ca&&!u.pa?new ke(new Nl({eb:g})):new ke(u.pa),f.Ha(u.J),f}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Sv(){}t=Sv.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function jl(){}jl.prototype.g=function(u,f){return new Nt(u,f)};function Nt(u,f){tt.call(this),this.g=new fv(f),this.l=u,this.h=f&&f.messageUrlParams||null,u=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(u?u["X-WebChannel-Content-Type"]=f.messageContentType:u={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(u?u["X-WebChannel-Client-Profile"]=f.va:u={"X-WebChannel-Client-Profile":f.va}),this.g.S=u,(u=f&&f.Sb)&&!_(u)&&(this.g.m=u),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!_(f)&&(this.g.D=f,u=this.h,u!==null&&f in u&&(u=this.h,f in u&&delete u[f])),this.j=new Yi(this)}E(Nt,tt),Nt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Nt.prototype.close=function(){Gh(this.g)},Nt.prototype.o=function(u){var f=this.g;if(typeof u=="string"){var g={};g.__data__=u,u=g}else this.u&&(g={},g.__data__=Oh(u),u=g);f.i.push(new iC(f.Ya++,u)),f.G==3&&Ol(f)},Nt.prototype.N=function(){this.g.l=null,delete this.j,Gh(this.g),delete this.g,Nt.aa.N.call(this)};function Iv(u){jh.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var f=u.__sm__;if(f){e:{for(const g in f){u=g;break e}u=void 0}(this.i=u)&&(u=this.i,f=f!==null&&u in f?f[u]:void 0),this.data=f}else this.data=u}E(Iv,jh);function Av(){Fh.call(this),this.status=1}E(Av,Fh);function Yi(u){this.g=u}E(Yi,Sv),Yi.prototype.ua=function(){pt(this.g,"a")},Yi.prototype.ta=function(u){pt(this.g,new Iv(u))},Yi.prototype.sa=function(u){pt(this.g,new Av)},Yi.prototype.ra=function(){pt(this.g,"b")},jl.prototype.createWebChannel=jl.prototype.g,Nt.prototype.send=Nt.prototype.o,Nt.prototype.open=Nt.prototype.m,Nt.prototype.close=Nt.prototype.close,a1=function(){return new jl},o1=function(){return Il()},s1=oi,vp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Al.NO_ERROR=0,Al.TIMEOUT=8,Al.HTTP_ERROR=6,Lu=Al,$y.COMPLETE="complete",i1=$y,My.EventType=lo,lo.OPEN="a",lo.CLOSE="b",lo.ERROR="c",lo.MESSAGE="d",tt.prototype.listen=tt.prototype.K,zo=My,ke.prototype.listenOnce=ke.prototype.L,ke.prototype.getLastError=ke.prototype.Ka,ke.prototype.getLastErrorCode=ke.prototype.Ba,ke.prototype.getStatus=ke.prototype.Z,ke.prototype.getResponseJson=ke.prototype.Oa,ke.prototype.getResponseText=ke.prototype.oa,ke.prototype.send=ke.prototype.ea,ke.prototype.setWithCredentials=ke.prototype.Ha,r1=ke}).apply(typeof lu<"u"?lu:typeof self<"u"?self:typeof window<"u"?window:{});const pw="@firebase/firestore",mw="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}at.UNAUTHENTICATED=new at(null),at.GOOGLE_CREDENTIALS=new at("google-credentials-uid"),at.FIRST_PARTY=new at("first-party-uid"),at.MOCK_USER=new at("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let to="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vi=new Sg("@firebase/firestore");function Zi(){return Vi.logLevel}function z(t,...e){if(Vi.logLevel<=ne.DEBUG){const n=e.map(kg);Vi.debug(`Firestore (${to}): ${t}`,...n)}}function rr(t,...e){if(Vi.logLevel<=ne.ERROR){const n=e.map(kg);Vi.error(`Firestore (${to}): ${t}`,...n)}}function Us(t,...e){if(Vi.logLevel<=ne.WARN){const n=e.map(kg);Vi.warn(`Firestore (${to}): ${t}`,...n)}}function kg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,l1(t,r,n)}function l1(t,e,n){let r=`FIRESTORE (${to}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw rr(r),new Error(r)}function ae(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||l1(e,i,r)}function Z(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class H extends bn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class hj{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(at.UNAUTHENTICATED))}shutdown(){}}class dj{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class fj{constructor(e){this.t=e,this.currentUser=at.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ae(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Kn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Kn,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{z("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(z("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Kn)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(z("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ae(typeof r.accessToken=="string",31837,{l:r}),new u1(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ae(e===null||typeof e=="string",2055,{h:e}),new at(e)}}class pj{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=at.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class mj{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new pj(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(at.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class gw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class gj{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,It(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ae(this.o===void 0,3512);const r=s=>{s.error!=null&&z("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,z("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{z("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):z("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new gw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ae(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new gw(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yj(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c1(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=yj(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function ee(t,e){return t<e?-1:t>e?1:0}function _p(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return ee(r,i);{const s=c1(),o=vj(s.encode(yw(t,n)),s.encode(yw(e,n)));return o!==0?o:ee(r,i)}}n+=r>65535?2:1}return ee(t.length,e.length)}function yw(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function vj(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return ee(t[n],e[n]);return ee(t.length,e.length)}function Bs(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vw=-62135596800,_w=1e6;class ye{static now(){return ye.fromMillis(Date.now())}static fromDate(e){return ye.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*_w);return new ye(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new H(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new H(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<vw)throw new H(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new H(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/_w}_compareTo(e){return this.seconds===e.seconds?ee(this.nanoseconds,e.nanoseconds):ee(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-vw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{static fromTimestamp(e){return new J(e)}static min(){return new J(new ye(0,0))}static max(){return new J(new ye(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ww="__name__";class pn{constructor(e,n,r){n===void 0?n=0:n>e.length&&Q(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Q(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return pn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof pn?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=pn.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return ee(e.length,n.length)}static compareSegments(e,n){const r=pn.isNumericId(e),i=pn.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?pn.extractNumericId(e).compare(pn.extractNumericId(n)):_p(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Mr.fromString(e.substring(4,e.length-2))}}class me extends pn{construct(e,n,r){return new me(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new H(j.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new me(n)}static emptyPath(){return new me([])}}const _j=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xe extends pn{construct(e,n,r){return new Xe(e,n,r)}static isValidIdentifier(e){return _j.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xe.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ww}static keyField(){return new Xe([ww])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new H(j.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new H(j.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new H(j.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new H(j.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xe(n)}static emptyPath(){return new Xe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q{constructor(e){this.path=e}static fromPath(e){return new q(me.fromString(e))}static fromName(e){return new q(me.fromString(e).popFirst(5))}static empty(){return new q(me.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&me.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return me.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new q(new me(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ua=-1;function wj(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=J.fromTimestamp(r===1e9?new ye(n+1,0):new ye(n,r));return new Hr(i,q.empty(),e)}function Ej(t){return new Hr(t.readTime,t.key,Ua)}class Hr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Hr(J.min(),q.empty(),Ua)}static max(){return new Hr(J.max(),q.empty(),Ua)}}function Tj(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=q.comparator(t.documentKey,e.documentKey),n!==0?n:ee(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Sj{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function no(t){if(t.code!==j.FAILED_PRECONDITION||t.message!==xj)throw t;z("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Q(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new F((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof F?n:F.resolve(n)}catch(n){return F.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):F.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):F.reject(n)}static resolve(e){return new F((n,r)=>{n(e)})}static reject(e){return new F((n,r)=>{r(e)})}static waitFor(e){return new F((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=F.resolve(!1);for(const r of e)n=n.next(i=>i?F.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new F((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(h=>{o[c]=h,++a,a===s&&r(o)},h=>i(h))}})}static doWhile(e,n){return new F((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function Ij(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ro(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}hh.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cg=-1;function dh(t){return t==null}function xc(t){return t===0&&1/t==-1/0}function Aj(t){return typeof t=="number"&&Number.isInteger(t)&&!xc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d1="";function kj(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Ew(e)),e=Cj(t.get(n),e);return Ew(e)}function Cj(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case d1:n+="";break;default:n+=s}}return n}function Ew(t){return t+d1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function $i(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function f1(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e,n){this.comparator=e,this.root=n||Ye.EMPTY}insert(e,n){return new Ae(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ye.BLACK,null,null))}remove(e){return new Ae(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ye.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new uu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new uu(this.root,e,this.comparator,!1)}getReverseIterator(){return new uu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new uu(this.root,e,this.comparator,!0)}}class uu{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ye{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Ye.RED,this.left=i??Ye.EMPTY,this.right=s??Ye.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Ye(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ye.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Ye.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ye.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ye.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Q(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Q(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Q(27949);return e+(this.isRed()?0:1)}}Ye.EMPTY=null,Ye.RED=!0,Ye.BLACK=!1;Ye.EMPTY=new class{constructor(){this.size=0}get key(){throw Q(57766)}get value(){throw Q(16141)}get color(){throw Q(16727)}get left(){throw Q(29726)}get right(){throw Q(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new Ye(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(e){this.comparator=e,this.data=new Ae(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new xw(this.data.getIterator())}getIteratorFrom(e){return new xw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof $e)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new $e(this.comparator);return n.data=e,n}}class xw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.fields=e,e.sort(Xe.comparator)}static empty(){return new sn([])}unionWith(e){let n=new $e(Xe.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new sn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Bs(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new p1("Invalid base64 string: "+s):s}}(e);return new et(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new et(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ee(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}et.EMPTY_BYTE_STRING=new et("");const Rj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wr(t){if(ae(!!t,39018),typeof t=="string"){let e=0;const n=Rj.exec(t);if(ae(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ve(t.seconds),nanos:Ve(t.nanos)}}function Ve(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function qr(t){return typeof t=="string"?et.fromBase64String(t):et.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m1="server_timestamp",g1="__type__",y1="__previous_value__",v1="__local_write_time__";function Rg(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[g1])===null||n===void 0?void 0:n.stringValue)===m1}function fh(t){const e=t.mapValue.fields[y1];return Rg(e)?fh(e):e}function Ba(t){const e=Wr(t.mapValue.fields[v1].timestampValue);return new ye(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pj{constructor(e,n,r,i,s,o,a,l,c,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=h}}const Sc="(default)";class $a{constructor(e,n){this.projectId=e,this.database=n||Sc}static empty(){return new $a("","")}get isDefaultDatabase(){return this.database===Sc}isEqual(e){return e instanceof $a&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _1="__type__",bj="__max__",cu={mapValue:{}},w1="__vector__",Ic="value";function Kr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Rg(t)?4:Dj(t)?9007199254740991:Nj(t)?10:11:Q(28295,{value:t})}function Cn(t,e){if(t===e)return!0;const n=Kr(t);if(n!==Kr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ba(t).isEqual(Ba(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Wr(i.timestampValue),a=Wr(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return qr(i.bytesValue).isEqual(qr(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Ve(i.geoPointValue.latitude)===Ve(s.geoPointValue.latitude)&&Ve(i.geoPointValue.longitude)===Ve(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Ve(i.integerValue)===Ve(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Ve(i.doubleValue),a=Ve(s.doubleValue);return o===a?xc(o)===xc(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Bs(t.arrayValue.values||[],e.arrayValue.values||[],Cn);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(Tw(o)!==Tw(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Cn(o[l],a[l])))return!1;return!0}(t,e);default:return Q(52216,{left:t})}}function za(t,e){return(t.values||[]).find(n=>Cn(n,e))!==void 0}function $s(t,e){if(t===e)return 0;const n=Kr(t),r=Kr(e);if(n!==r)return ee(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ee(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Ve(s.integerValue||s.doubleValue),l=Ve(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return Sw(t.timestampValue,e.timestampValue);case 4:return Sw(Ba(t),Ba(e));case 5:return _p(t.stringValue,e.stringValue);case 6:return function(s,o){const a=qr(s),l=qr(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const h=ee(a[c],l[c]);if(h!==0)return h}return ee(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=ee(Ve(s.latitude),Ve(o.latitude));return a!==0?a:ee(Ve(s.longitude),Ve(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Iw(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,c,h;const d=s.fields||{},m=o.fields||{},y=(a=d[Ic])===null||a===void 0?void 0:a.arrayValue,E=(l=m[Ic])===null||l===void 0?void 0:l.arrayValue,I=ee(((c=y==null?void 0:y.values)===null||c===void 0?void 0:c.length)||0,((h=E==null?void 0:E.values)===null||h===void 0?void 0:h.length)||0);return I!==0?I:Iw(y,E)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===cu.mapValue&&o===cu.mapValue)return 0;if(s===cu.mapValue)return 1;if(o===cu.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},h=Object.keys(c);l.sort(),h.sort();for(let d=0;d<l.length&&d<h.length;++d){const m=_p(l[d],h[d]);if(m!==0)return m;const y=$s(a[l[d]],c[h[d]]);if(y!==0)return y}return ee(l.length,h.length)}(t.mapValue,e.mapValue);default:throw Q(23264,{Pe:n})}}function Sw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ee(t,e);const n=Wr(t),r=Wr(e),i=ee(n.seconds,r.seconds);return i!==0?i:ee(n.nanos,r.nanos)}function Iw(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=$s(n[i],r[i]);if(s)return s}return ee(n.length,r.length)}function zs(t){return wp(t)}function wp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Wr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return qr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return q.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=wp(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${wp(n.fields[o])}`;return i+"}"}(t.mapValue):Q(61005,{value:t})}function Ou(t){switch(Kr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=fh(t);return e?16+Ou(e):16;case 5:return 2*t.stringValue.length;case 6:return qr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+Ou(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return $i(r.fields,(s,o)=>{i+=s.length+Ou(o)}),i}(t.mapValue);default:throw Q(13486,{value:t})}}function Aw(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Ep(t){return!!t&&"integerValue"in t}function Pg(t){return!!t&&"arrayValue"in t}function kw(t){return!!t&&"nullValue"in t}function Cw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Mu(t){return!!t&&"mapValue"in t}function Nj(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[_1])===null||n===void 0?void 0:n.stringValue)===w1}function la(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return $i(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=la(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=la(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Dj(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===bj}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.value=e}static empty(){return new Ht({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Mu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=la(n)}setAll(e){let n=Xe.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=la(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Mu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Cn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Mu(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){$i(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Ht(la(this.value))}}function E1(t){const e=[];return $i(t.fields,(n,r)=>{const i=new Xe([n]);if(Mu(r)){const s=E1(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new sn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new ut(e,0,J.min(),J.min(),J.min(),Ht.empty(),0)}static newFoundDocument(e,n,r,i){return new ut(e,1,n,J.min(),r,i,0)}static newNoDocument(e,n){return new ut(e,2,n,J.min(),J.min(),Ht.empty(),0)}static newUnknownDocument(e,n){return new ut(e,3,n,J.min(),J.min(),Ht.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(J.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ht.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ht.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=J.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ut&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ut(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(e,n){this.position=e,this.inclusive=n}}function Rw(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=q.comparator(q.fromName(o.referenceValue),n.key):r=$s(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Pw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Cn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(e,n="asc"){this.field=e,this.dir=n}}function Vj(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{}class Fe extends T1{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Oj(e,n,r):n==="array-contains"?new Fj(e,r):n==="in"?new Uj(e,r):n==="not-in"?new Bj(e,r):n==="array-contains-any"?new $j(e,r):new Fe(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Mj(e,r):new jj(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison($s(n,this.value)):n!==null&&Kr(this.value)===Kr(n)&&this.matchesComparison($s(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Q(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class hn extends T1{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new hn(e,n)}matches(e){return x1(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function x1(t){return t.op==="and"}function S1(t){return Lj(t)&&x1(t)}function Lj(t){for(const e of t.filters)if(e instanceof hn)return!1;return!0}function Tp(t){if(t instanceof Fe)return t.field.canonicalString()+t.op.toString()+zs(t.value);if(S1(t))return t.filters.map(e=>Tp(e)).join(",");{const e=t.filters.map(n=>Tp(n)).join(",");return`${t.op}(${e})`}}function I1(t,e){return t instanceof Fe?function(r,i){return i instanceof Fe&&r.op===i.op&&r.field.isEqual(i.field)&&Cn(r.value,i.value)}(t,e):t instanceof hn?function(r,i){return i instanceof hn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&I1(o,i.filters[a]),!0):!1}(t,e):void Q(19439)}function A1(t){return t instanceof Fe?function(n){return`${n.field.canonicalString()} ${n.op} ${zs(n.value)}`}(t):t instanceof hn?function(n){return n.op.toString()+" {"+n.getFilters().map(A1).join(" ,")+"}"}(t):"Filter"}class Oj extends Fe{constructor(e,n,r){super(e,n,r),this.key=q.fromName(r.referenceValue)}matches(e){const n=q.comparator(e.key,this.key);return this.matchesComparison(n)}}class Mj extends Fe{constructor(e,n){super(e,"in",n),this.keys=k1("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class jj extends Fe{constructor(e,n){super(e,"not-in",n),this.keys=k1("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function k1(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>q.fromName(r.referenceValue))}class Fj extends Fe{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Pg(n)&&za(n.arrayValue,this.value)}}class Uj extends Fe{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&za(this.value.arrayValue,n)}}class Bj extends Fe{constructor(e,n){super(e,"not-in",n)}matches(e){if(za(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!za(this.value.arrayValue,n)}}class $j extends Fe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Pg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>za(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zj{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.Ie=null}}function bw(t,e=null,n=[],r=[],i=null,s=null,o=null){return new zj(t,e,n,r,i,s,o)}function bg(t){const e=Z(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Tp(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),dh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>zs(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>zs(r)).join(",")),e.Ie=n}return e.Ie}function Ng(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Vj(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!I1(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Pw(t.startAt,e.startAt)&&Pw(t.endAt,e.endAt)}function xp(t){return q.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function Hj(t,e,n,r,i,s,o,a){return new io(t,e,n,r,i,s,o,a)}function Dg(t){return new io(t)}function Nw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function C1(t){return t.collectionGroup!==null}function ua(t){const e=Z(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ee.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new $e(Xe.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ee.push(new Ha(s,r))}),n.has(Xe.keyField().canonicalString())||e.Ee.push(new Ha(Xe.keyField(),r))}return e.Ee}function xn(t){const e=Z(t);return e.de||(e.de=Wj(e,ua(t))),e.de}function Wj(t,e){if(t.limitType==="F")return bw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Ha(i.field,s)});const n=t.endAt?new Ac(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ac(t.startAt.position,t.startAt.inclusive):null;return bw(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Sp(t,e){const n=t.filters.concat([e]);return new io(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Ip(t,e,n){return new io(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ph(t,e){return Ng(xn(t),xn(e))&&t.limitType===e.limitType}function R1(t){return`${bg(xn(t))}|lt:${t.limitType}`}function es(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>A1(i)).join(", ")}]`),dh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>zs(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>zs(i)).join(",")),`Target(${r})`}(xn(t))}; limitType=${t.limitType})`}function mh(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):q.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of ua(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const c=Rw(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,ua(r),i)||r.endAt&&!function(o,a,l){const c=Rw(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,ua(r),i))}(t,e)}function qj(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function P1(t){return(e,n)=>{let r=!1;for(const i of ua(t)){const s=Kj(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function Kj(t,e,n){const r=t.field.isKeyField()?q.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?$s(l,c):Q(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Q(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){$i(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return f1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gj=new Ae(q.comparator);function ir(){return Gj}const b1=new Ae(q.comparator);function Ho(...t){let e=b1;for(const n of t)e=e.insert(n.key,n);return e}function N1(t){let e=b1;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function wi(){return ca()}function D1(){return ca()}function ca(){return new zi(t=>t.toString(),(t,e)=>t.isEqual(e))}const Qj=new Ae(q.comparator),Yj=new $e(q.comparator);function re(...t){let e=Yj;for(const n of t)e=e.add(n);return e}const Xj=new $e(ee);function Jj(){return Xj}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xc(e)?"-0":e}}function V1(t){return{integerValue:""+t}}function Zj(t,e){return Aj(e)?V1(e):Vg(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(){this._=void 0}}function e4(t,e,n){return t instanceof kc?function(i,s){const o={fields:{[g1]:{stringValue:m1},[v1]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Rg(s)&&(s=fh(s)),s&&(o.fields[y1]=s),{mapValue:o}}(n,e):t instanceof Wa?O1(t,e):t instanceof qa?M1(t,e):function(i,s){const o=L1(i,s),a=Dw(o)+Dw(i.Re);return Ep(o)&&Ep(i.Re)?V1(a):Vg(i.serializer,a)}(t,e)}function t4(t,e,n){return t instanceof Wa?O1(t,e):t instanceof qa?M1(t,e):n}function L1(t,e){return t instanceof Cc?function(r){return Ep(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class kc extends gh{}class Wa extends gh{constructor(e){super(),this.elements=e}}function O1(t,e){const n=j1(e);for(const r of t.elements)n.some(i=>Cn(i,r))||n.push(r);return{arrayValue:{values:n}}}class qa extends gh{constructor(e){super(),this.elements=e}}function M1(t,e){let n=j1(e);for(const r of t.elements)n=n.filter(i=>!Cn(i,r));return{arrayValue:{values:n}}}class Cc extends gh{constructor(e,n){super(),this.serializer=e,this.Re=n}}function Dw(t){return Ve(t.integerValue||t.doubleValue)}function j1(t){return Pg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function n4(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Wa&&i instanceof Wa||r instanceof qa&&i instanceof qa?Bs(r.elements,i.elements,Cn):r instanceof Cc&&i instanceof Cc?Cn(r.Re,i.Re):r instanceof kc&&i instanceof kc}(t.transform,e.transform)}class r4{constructor(e,n){this.version=e,this.transformResults=n}}class Sn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Sn}static exists(e){return new Sn(void 0,e)}static updateTime(e){return new Sn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ju(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class yh{}function F1(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new B1(t.key,Sn.none()):new cl(t.key,t.data,Sn.none());{const n=t.data,r=Ht.empty();let i=new $e(Xe.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Hi(t.key,r,new sn(i.toArray()),Sn.none())}}function i4(t,e,n){t instanceof cl?function(i,s,o){const a=i.value.clone(),l=Lw(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Hi?function(i,s,o){if(!ju(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=Lw(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(U1(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function ha(t,e,n,r){return t instanceof cl?function(s,o,a,l){if(!ju(s.precondition,o))return a;const c=s.value.clone(),h=Ow(s.fieldTransforms,l,o);return c.setAll(h),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Hi?function(s,o,a,l){if(!ju(s.precondition,o))return a;const c=Ow(s.fieldTransforms,l,o),h=o.data;return h.setAll(U1(s)),h.setAll(c),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,a){return ju(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function s4(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=L1(r.transform,i||null);s!=null&&(n===null&&(n=Ht.empty()),n.set(r.field,s))}return n||null}function Vw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Bs(r,i,(s,o)=>n4(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class cl extends yh{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Hi extends yh{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function U1(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Lw(t,e,n){const r=new Map;ae(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,t4(o,a,n[i]))}return r}function Ow(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,e4(s,o,e))}return r}class B1 extends yh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class o4 extends yh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a4{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&i4(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ha(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ha(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=D1();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=F1(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(J.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),re())}isEqual(e){return this.batchId===e.batchId&&Bs(this.mutations,e.mutations,(n,r)=>Vw(n,r))&&Bs(this.baseMutations,e.baseMutations,(n,r)=>Vw(n,r))}}class Lg{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ae(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return Qj}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Lg(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l4{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u4{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oe,ie;function c4(t){switch(t){case j.OK:return Q(64938);case j.CANCELLED:case j.UNKNOWN:case j.DEADLINE_EXCEEDED:case j.RESOURCE_EXHAUSTED:case j.INTERNAL:case j.UNAVAILABLE:case j.UNAUTHENTICATED:return!1;case j.INVALID_ARGUMENT:case j.NOT_FOUND:case j.ALREADY_EXISTS:case j.PERMISSION_DENIED:case j.FAILED_PRECONDITION:case j.ABORTED:case j.OUT_OF_RANGE:case j.UNIMPLEMENTED:case j.DATA_LOSS:return!0;default:return Q(15467,{code:t})}}function $1(t){if(t===void 0)return rr("GRPC error has no .code"),j.UNKNOWN;switch(t){case Oe.OK:return j.OK;case Oe.CANCELLED:return j.CANCELLED;case Oe.UNKNOWN:return j.UNKNOWN;case Oe.DEADLINE_EXCEEDED:return j.DEADLINE_EXCEEDED;case Oe.RESOURCE_EXHAUSTED:return j.RESOURCE_EXHAUSTED;case Oe.INTERNAL:return j.INTERNAL;case Oe.UNAVAILABLE:return j.UNAVAILABLE;case Oe.UNAUTHENTICATED:return j.UNAUTHENTICATED;case Oe.INVALID_ARGUMENT:return j.INVALID_ARGUMENT;case Oe.NOT_FOUND:return j.NOT_FOUND;case Oe.ALREADY_EXISTS:return j.ALREADY_EXISTS;case Oe.PERMISSION_DENIED:return j.PERMISSION_DENIED;case Oe.FAILED_PRECONDITION:return j.FAILED_PRECONDITION;case Oe.ABORTED:return j.ABORTED;case Oe.OUT_OF_RANGE:return j.OUT_OF_RANGE;case Oe.UNIMPLEMENTED:return j.UNIMPLEMENTED;case Oe.DATA_LOSS:return j.DATA_LOSS;default:return Q(39323,{code:t})}}(ie=Oe||(Oe={}))[ie.OK=0]="OK",ie[ie.CANCELLED=1]="CANCELLED",ie[ie.UNKNOWN=2]="UNKNOWN",ie[ie.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ie[ie.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ie[ie.NOT_FOUND=5]="NOT_FOUND",ie[ie.ALREADY_EXISTS=6]="ALREADY_EXISTS",ie[ie.PERMISSION_DENIED=7]="PERMISSION_DENIED",ie[ie.UNAUTHENTICATED=16]="UNAUTHENTICATED",ie[ie.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ie[ie.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ie[ie.ABORTED=10]="ABORTED",ie[ie.OUT_OF_RANGE=11]="OUT_OF_RANGE",ie[ie.UNIMPLEMENTED=12]="UNIMPLEMENTED",ie[ie.INTERNAL=13]="INTERNAL",ie[ie.UNAVAILABLE=14]="UNAVAILABLE",ie[ie.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h4=new Mr([4294967295,4294967295],0);function Mw(t){const e=c1().encode(t),n=new n1;return n.update(e),new Uint8Array(n.digest())}function jw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Mr([n,r],0),new Mr([i,s],0)]}class Og{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Wo(`Invalid padding: ${n}`);if(r<0)throw new Wo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Wo(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Wo(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=Mr.fromNumber(this.pe)}we(e,n,r){let i=e.add(n.multiply(Mr.fromNumber(r)));return i.compare(h4)===1&&(i=new Mr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=Mw(e),[r,i]=jw(n);for(let s=0;s<this.hashCount;s++){const o=this.we(r,i,s);if(!this.be(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Og(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.pe===0)return;const n=Mw(e),[r,i]=jw(n);for(let s=0;s<this.hashCount;s++){const o=this.we(r,i,s);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Wo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,hl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new vh(J.min(),i,new Ae(ee),ir(),re())}}class hl{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new hl(r,n,re(),re(),re())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(e,n,r,i){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=i}}class z1{constructor(e,n){this.targetId=e,this.Ce=n}}class H1{constructor(e,n,r=et.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Fw{constructor(){this.Fe=0,this.Me=Uw(),this.xe=et.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=re(),n=re(),r=re();return this.Me.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Q(38017,{changeType:s})}}),new hl(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=Uw()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,ae(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class d4{constructor(e){this.ze=e,this.je=new Map,this.He=ir(),this.Je=hu(),this.Ye=hu(),this.Ze=new Ae(ee)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:Q(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,i)=>{this.it(i)&&n(i)})}ot(e){const n=e.targetId,r=e.Ce.count,i=this._t(n);if(i){const s=i.target;if(xp(s))if(r===0){const o=new q(s.path);this.tt(n,o,ut.newNoDocument(o,J.min()))}else ae(r===1,20013,{expectedCount:r});else{const o=this.ut(n);if(o!==r){const a=this.ct(e),l=a?this.lt(a,e,o):1;if(l!==0){this.st(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,c)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=qr(r).toUint8Array()}catch(l){if(l instanceof p1)return Us("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Og(o,i,s)}catch(l){return Us(l instanceof Wo?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.pe===0?null:a}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.ze.Pt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.tt(n,s,null),i++)}),i}It(e){const n=new Map;this.je.forEach((s,o)=>{const a=this._t(o);if(a){if(s.current&&xp(a.target)){const l=new q(a.target.path);this.Et(l).has(o)||this.dt(o,l)||this.tt(o,l,ut.newNoDocument(l,e))}s.Le&&(n.set(o,s.qe()),s.Qe())}});let r=re();this.Ye.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this._t(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.He.forEach((s,o)=>o.setReadTime(e));const i=new vh(e,n,this.Ze,this.He,r);return this.He=ir(),this.Je=hu(),this.Ye=hu(),this.Ze=new Ae(ee),i}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const i=this.rt(e);this.dt(e,n)?i.$e(n,1):i.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new Fw,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new $e(ee),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new $e(ee),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||z("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new Fw),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function hu(){return new Ae(q.comparator)}function Uw(){return new Ae(q.comparator)}const f4={asc:"ASCENDING",desc:"DESCENDING"},p4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},m4={and:"AND",or:"OR"};class g4{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Ap(t,e){return t.useProto3Json||dh(e)?e:{value:e}}function Rc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function W1(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function y4(t,e){return Rc(t,e.toTimestamp())}function In(t){return ae(!!t,49232),J.fromTimestamp(function(n){const r=Wr(n);return new ye(r.seconds,r.nanos)}(t))}function Mg(t,e){return kp(t,e).canonicalString()}function kp(t,e){const n=function(i){return new me(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function q1(t){const e=me.fromString(t);return ae(X1(e),10190,{key:e.toString()}),e}function Cp(t,e){return Mg(t.databaseId,e.path)}function Hd(t,e){const n=q1(e);if(n.get(1)!==t.databaseId.projectId)throw new H(j.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new H(j.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new q(G1(n))}function K1(t,e){return Mg(t.databaseId,e)}function v4(t){const e=q1(t);return e.length===4?me.emptyPath():G1(e)}function Rp(t){return new me(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function G1(t){return ae(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Bw(t,e,n){return{name:Cp(t,e),fields:n.value.mapValue.fields}}function _4(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Q(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,h){return c.useProto3Json?(ae(h===void 0||typeof h=="string",58123),et.fromBase64String(h||"")):(ae(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),et.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const h=c.code===void 0?j.UNKNOWN:$1(c.code);return new H(h,c.message||"")}(o);n=new H1(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Hd(t,r.document.name),s=In(r.document.updateTime),o=r.document.createTime?In(r.document.createTime):J.min(),a=new Ht({mapValue:{fields:r.document.fields}}),l=ut.newFoundDocument(i,s,o,a),c=r.targetIds||[],h=r.removedTargetIds||[];n=new Fu(c,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Hd(t,r.document),s=r.readTime?In(r.readTime):J.min(),o=ut.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Fu([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Hd(t,r.document),s=r.removedTargetIds||[];n=new Fu([],s,i,null)}else{if(!("filter"in e))return Q(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new u4(i,s),a=r.targetId;n=new z1(a,o)}}return n}function w4(t,e){let n;if(e instanceof cl)n={update:Bw(t,e.key,e.value)};else if(e instanceof B1)n={delete:Cp(t,e.key)};else if(e instanceof Hi)n={update:Bw(t,e.key,e.data),updateMask:R4(e.fieldMask)};else{if(!(e instanceof o4))return Q(16599,{ft:e.type});n={verify:Cp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof kc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Wa)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof qa)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Cc)return{fieldPath:o.field.canonicalString(),increment:a.Re};throw Q(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:y4(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Q(27497)}(t,e.precondition)),n}function E4(t,e){return t&&t.length>0?(ae(e!==void 0,14353),t.map(n=>function(i,s){let o=i.updateTime?In(i.updateTime):In(s);return o.isEqual(J.min())&&(o=In(s)),new r4(o,i.transformResults||[])}(n,e))):[]}function T4(t,e){return{documents:[K1(t,e.path)]}}function x4(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=K1(t,i);const s=function(c){if(c.length!==0)return Y1(hn.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(h=>function(m){return{field:ts(m.field),direction:A4(m.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Ap(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{gt:n,parent:i}}function S4(t){let e=v4(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ae(r===1,65062);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=function(d){const m=Q1(d);return m instanceof hn&&S1(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(m=>function(E){return new Ha(ns(E.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(d){let m;return m=typeof d=="object"?d.value:d,dh(m)?null:m}(n.limit));let l=null;n.startAt&&(l=function(d){const m=!!d.before,y=d.values||[];return new Ac(y,m)}(n.startAt));let c=null;return n.endAt&&(c=function(d){const m=!d.before,y=d.values||[];return new Ac(y,m)}(n.endAt)),Hj(e,i,o,s,a,"F",l,c)}function I4(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Q(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Q1(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ns(n.unaryFilter.field);return Fe.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ns(n.unaryFilter.field);return Fe.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=ns(n.unaryFilter.field);return Fe.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ns(n.unaryFilter.field);return Fe.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Q(61313);default:return Q(60726)}}(t):t.fieldFilter!==void 0?function(n){return Fe.create(ns(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Q(58110);default:return Q(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return hn.create(n.compositeFilter.filters.map(r=>Q1(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Q(1026)}}(n.compositeFilter.op))}(t):Q(30097,{filter:t})}function A4(t){return f4[t]}function k4(t){return p4[t]}function C4(t){return m4[t]}function ts(t){return{fieldPath:t.canonicalString()}}function ns(t){return Xe.fromServerFormat(t.fieldPath)}function Y1(t){return t instanceof Fe?function(n){if(n.op==="=="){if(Cw(n.value))return{unaryFilter:{field:ts(n.field),op:"IS_NAN"}};if(kw(n.value))return{unaryFilter:{field:ts(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Cw(n.value))return{unaryFilter:{field:ts(n.field),op:"IS_NOT_NAN"}};if(kw(n.value))return{unaryFilter:{field:ts(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ts(n.field),op:k4(n.op),value:n.value}}}(t):t instanceof hn?function(n){const r=n.getFilters().map(i=>Y1(i));return r.length===1?r[0]:{compositeFilter:{op:C4(n.op),filters:r}}}(t):Q(54877,{filter:t})}function R4(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function X1(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(e,n,r,i,s=J.min(),o=J.min(),a=et.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Ar(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ar(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ar(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ar(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P4{constructor(e){this.wt=e}}function b4(t){const e=S4({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ip(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N4{constructor(){this.Cn=new D4}addToCollectionParentIndex(e,n){return this.Cn.add(n),F.resolve()}getCollectionParents(e,n){return F.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return F.resolve()}deleteFieldIndex(e,n){return F.resolve()}deleteAllFieldIndexes(e){return F.resolve()}createTargetIndexes(e,n){return F.resolve()}getDocumentsMatchingTarget(e,n){return F.resolve(null)}getIndexType(e,n){return F.resolve(0)}getFieldIndexes(e,n){return F.resolve([])}getNextCollectionGroupToUpdate(e){return F.resolve(null)}getMinOffset(e,n){return F.resolve(Hr.min())}getMinOffsetFromCollectionGroup(e,n){return F.resolve(Hr.min())}updateCollectionGroup(e,n,r){return F.resolve()}updateIndexEntries(e,n){return F.resolve()}}class D4{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new $e(me.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new $e(me.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $w={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},J1=41943040;class xt{static withCacheSize(e){return new xt(e,xt.DEFAULT_COLLECTION_PERCENTILE,xt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xt.DEFAULT_COLLECTION_PERCENTILE=10,xt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,xt.DEFAULT=new xt(J1,xt.DEFAULT_COLLECTION_PERCENTILE,xt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),xt.DISABLED=new xt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Hs(0)}static lr(){return new Hs(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zw="LruGarbageCollector",V4=1048576;function Hw([t,e],[n,r]){const i=ee(t,n);return i===0?ee(e,r):i}class L4{constructor(e){this.Er=e,this.buffer=new $e(Hw),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Hw(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class O4{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){z(zw,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ro(n)?z(zw,"Ignoring IndexedDB error during garbage collection: ",n):await no(n)}await this.mr(3e5)})}}class M4{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return F.resolve(hh.le);const r=new L4(n);return this.gr.forEachTarget(e,i=>r.Rr(i.sequenceNumber)).next(()=>this.gr.yr(e,i=>r.Rr(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.gr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(z("LruGarbageCollector","Garbage collection skipped; disabled"),F.resolve($w)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(z("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),$w):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let r,i,s,o,a,l,c;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(z("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,o=Date.now(),this.nthSequenceNumber(e,i))).next(d=>(r=d,a=Date.now(),this.removeTargets(e,r,n))).next(d=>(s=d,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(d=>(c=Date.now(),Zi()<=ne.DEBUG&&z("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${d} documents in `+(c-l)+`ms
Total Duration: ${c-h}ms`),F.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:d})))}}function j4(t,e){return new M4(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F4{constructor(){this.changes=new zi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ut.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?F.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U4{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B4{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&ha(r.mutation,i,sn.empty(),ye.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,re()).next(()=>r))}getLocalViewOfDocuments(e,n,r=re()){const i=wi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Ho();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=wi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,re()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=ir();const o=ca(),a=function(){return ca()}();return n.forEach((l,c)=>{const h=r.get(c.key);i.has(c.key)&&(h===void 0||h.mutation instanceof Hi)?s=s.insert(c.key,c):h!==void 0?(o.set(c.key,h.mutation.getFieldMask()),ha(h.mutation,c,h.mutation.getFieldMask(),ye.now())):o.set(c.key,sn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,h)=>o.set(c,h)),n.forEach((c,h)=>{var d;return a.set(c,new U4(h,(d=o.get(c))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=ca();let i=new Ae((o,a)=>o-a),s=re();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let h=r.get(l)||sn.empty();h=a.applyToLocalView(c,h),r.set(l,h);const d=(i.get(a.batchId)||re()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,h=l.value,d=D1();h.forEach(m=>{if(!s.has(m)){const y=F1(n.get(m),r.get(m));y!==null&&d.set(m,y),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return F.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return q.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):C1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):F.resolve(wi());let a=Ua,l=s;return o.next(c=>F.forEach(c,(h,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(h)?F.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{l=l.insert(h,m)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,re())).next(h=>({batchId:a,changes:N1(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new q(n)).next(r=>{let i=Ho();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Ho();return this.indexManager.getCollectionParents(e,s).next(a=>F.forEach(a,l=>{const c=function(d,m){return new io(m,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(h=>{h.forEach((d,m)=>{o=o.insert(d,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,c)=>{const h=c.getKey();o.get(h)===null&&(o=o.insert(h,ut.newInvalidDocument(h)))});let a=Ho();return o.forEach((l,c)=>{const h=s.get(l);h!==void 0&&ha(h.mutation,c,sn.empty(),ye.now()),mh(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $4{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return F.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:In(i.createTime)}}(n)),F.resolve()}getNamedQuery(e,n){return F.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(i){return{name:i.name,query:b4(i.bundledQuery),readTime:In(i.readTime)}}(n)),F.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z4{constructor(){this.overlays=new Ae(q.comparator),this.Qr=new Map}getOverlay(e,n){return F.resolve(this.overlays.get(n))}getOverlays(e,n){const r=wi();return F.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.St(e,n,s)}),F.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Qr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Qr.delete(r)),F.resolve()}getOverlaysForCollection(e,n,r){const i=wi(),s=n.length+1,o=new q(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return F.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ae((c,h)=>c-h);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let h=s.get(c.largestBatchId);h===null&&(h=wi(),s=s.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const a=wi(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,h)=>a.set(c,h)),!(a.size()>=i)););return F.resolve(a)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Qr.get(i.largestBatchId).delete(r.key);this.Qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new l4(n,r));let s=this.Qr.get(n);s===void 0&&(s=re(),this.Qr.set(n,s)),this.Qr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H4{constructor(){this.sessionToken=et.EMPTY_BYTE_STRING}getSessionToken(e){return F.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,F.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jg{constructor(){this.$r=new $e(He.Ur),this.Kr=new $e(He.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const r=new He(e,n);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.zr(new He(e,n))}jr(e,n){e.forEach(r=>this.removeReference(r,n))}Hr(e){const n=new q(new me([])),r=new He(n,e),i=new He(n,e+1),s=[];return this.Kr.forEachInRange([r,i],o=>{this.zr(o),s.push(o.key)}),s}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new q(new me([])),r=new He(n,e),i=new He(n,e+1);let s=re();return this.Kr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new He(e,0),r=this.$r.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class He{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return q.comparator(e.key,n.key)||ee(e.Zr,n.Zr)}static Wr(e,n){return ee(e.Zr,n.Zr)||q.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W4{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new $e(He.Ur)}checkEmpty(e){return F.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new a4(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Xr=this.Xr.add(new He(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return F.resolve(o)}lookupMutationBatch(e,n){return F.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ti(r),s=i<0?0:i;return F.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return F.resolve(this.mutationQueue.length===0?Cg:this.nr-1)}getAllMutationBatches(e){return F.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new He(n,0),i=new He(n,Number.POSITIVE_INFINITY),s=[];return this.Xr.forEachInRange([r,i],o=>{const a=this.ei(o.Zr);s.push(a)}),F.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new $e(ee);return n.forEach(i=>{const s=new He(i,0),o=new He(i,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([s,o],a=>{r=r.add(a.Zr)})}),F.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;q.isDocumentKey(s)||(s=s.child(""));const o=new He(new q(s),0);let a=new $e(ee);return this.Xr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.Zr)),!0)},o),F.resolve(this.ni(a))}ni(e){const n=[];return e.forEach(r=>{const i=this.ei(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ae(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return F.forEach(n.mutations,i=>{const s=new He(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,n){const r=new He(n,0),i=this.Xr.firstAfterOrEqual(r);return F.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,F.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q4{constructor(e){this.ii=e,this.docs=function(){return new Ae(q.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.ii(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return F.resolve(r?r.document.mutableCopy():ut.newInvalidDocument(n))}getEntries(e,n){let r=ir();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():ut.newInvalidDocument(i))}),F.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=ir();const o=n.path,a=new q(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:h}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||Tj(Ej(h),r)<=0||(i.has(h.key)||mh(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return F.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Q(9500)}si(e,n){return F.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new K4(this)}getSize(e){return F.resolve(this.size)}}class K4 extends F4{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Br.addEntry(e,i)):this.Br.removeEntry(r)}),F.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G4{constructor(e){this.persistence=e,this.oi=new zi(n=>bg(n),Ng),this.lastRemoteSnapshotVersion=J.min(),this.highestTargetId=0,this._i=0,this.ai=new jg,this.targetCount=0,this.ui=Hs.cr()}forEachTarget(e,n){return this.oi.forEach((r,i)=>n(i)),F.resolve()}getLastRemoteSnapshotVersion(e){return F.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return F.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),F.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this._i&&(this._i=n),F.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new Hs(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,F.resolve()}updateTargetData(e,n){return this.Tr(n),F.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,F.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.oi.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.oi.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),F.waitFor(s).next(()=>i)}getTargetCount(e){return F.resolve(this.targetCount)}getTargetData(e,n){const r=this.oi.get(n)||null;return F.resolve(r)}addMatchingKeys(e,n,r){return this.ai.Gr(n,r),F.resolve()}removeMatchingKeys(e,n,r){this.ai.jr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),F.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),F.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ai.Yr(n);return F.resolve(r)}containsKey(e,n){return F.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(e,n){this.ci={},this.overlays={},this.li=new hh(0),this.hi=!1,this.hi=!0,this.Pi=new H4,this.referenceDelegate=e(this),this.Ti=new G4(this),this.indexManager=new N4,this.remoteDocumentCache=function(i){return new q4(i)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new P4(n),this.Ei=new $4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new z4,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ci[e.toKey()];return r||(r=new W4(n,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,r){z("MemoryPersistence","Starting transaction:",e);const i=new Q4(this.li.next());return this.referenceDelegate.di(),r(i).next(s=>this.referenceDelegate.Ai(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ri(e,n){return F.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,n)))}}class Q4 extends Sj{constructor(e){super(),this.currentSequenceNumber=e}}class Fg{constructor(e){this.persistence=e,this.Vi=new jg,this.mi=null}static fi(e){return new Fg(e)}get gi(){if(this.mi)return this.mi;throw Q(60996)}addReference(e,n,r){return this.Vi.addReference(r,n),this.gi.delete(r.toString()),F.resolve()}removeReference(e,n,r){return this.Vi.removeReference(r,n),this.gi.add(r.toString()),F.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),F.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(i=>this.gi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.gi.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return F.forEach(this.gi,r=>{const i=q.fromPath(r);return this.pi(e,i).next(s=>{s||n.removeEntry(i,J.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(r=>{r?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return F.or([()=>F.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class Pc{constructor(e,n){this.persistence=e,this.yi=new zi(r=>kj(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=j4(this,n)}static fi(e,n){return new Pc(e,n)}di(){}Ai(e){return F.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}br(e){let n=0;return this.yr(e,r=>{n++}).next(()=>n)}yr(e,n){return F.forEach(this.yi,(r,i)=>this.Dr(e,r,i).next(s=>s?F.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.si(e,o=>this.Dr(e,o,n).next(a=>{a||(r++,s.removeEntry(o,J.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),F.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),F.resolve()}removeReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),F.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),F.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ou(e.data.value)),n}Dr(e,n,r){return F.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.yi.get(n);return F.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ug{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ds=r,this.As=i}static Rs(e,n){let r=re(),i=re();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Ug(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X4{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return WO()?8:Ij(dt())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ws(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.bs(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new Y4;return this.Ss(e,n,o).next(a=>{if(s.result=a,this.fs)return this.Ds(e,n,o,a.size)})}).next(()=>s.result)}Ds(e,n,r,i){return r.documentReadCount<this.gs?(Zi()<=ne.DEBUG&&z("QueryEngine","SDK will not create cache indexes for query:",es(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),F.resolve()):(Zi()<=ne.DEBUG&&z("QueryEngine","Query:",es(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ps*i?(Zi()<=ne.DEBUG&&z("QueryEngine","The SDK decides to create cache indexes for query:",es(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,xn(n))):F.resolve())}ws(e,n){if(Nw(n))return F.resolve(null);let r=xn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Ip(n,null,"F"),r=xn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=re(...s);return this.ys.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.vs(n,a);return this.Cs(n,c,o,l.readTime)?this.ws(e,Ip(n,null,"F")):this.Fs(e,c,n,l)}))})))}bs(e,n,r,i){return Nw(n)||i.isEqual(J.min())?F.resolve(null):this.ys.getDocuments(e,r).next(s=>{const o=this.vs(n,s);return this.Cs(n,o,r,i)?F.resolve(null):(Zi()<=ne.DEBUG&&z("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),es(n)),this.Fs(e,o,n,wj(i,Ua)).next(a=>a))})}vs(e,n){let r=new $e(P1(e));return n.forEach((i,s)=>{mh(e,s)&&(r=r.add(s))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,n,r){return Zi()<=ne.DEBUG&&z("QueryEngine","Using full collection scan to execute query:",es(n)),this.ys.getDocumentsMatchingQuery(e,n,Hr.min(),r)}Fs(e,n,r,i){return this.ys.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bg="LocalStore",J4=3e8;class Z4{constructor(e,n,r,i){this.persistence=e,this.Ms=n,this.serializer=i,this.xs=new Ae(ee),this.Os=new zi(s=>bg(s),Ng),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new B4(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function eF(t,e,n,r){return new Z4(t,e,n,r)}async function eA(t,e){const n=Z(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=re();for(const c of i){o.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}for(const c of s){a.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(r,l).next(c=>({ks:c,removedBatchIds:o,addedBatchIds:a}))})})}function tF(t,e){const n=Z(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Bs.newChangeBuffer({trackRemovals:!0});return function(a,l,c,h){const d=c.batch,m=d.keys();let y=F.resolve();return m.forEach(E=>{y=y.next(()=>h.getEntry(l,E)).next(I=>{const R=c.docVersions.get(E);ae(R!==null,48541),I.version.compareTo(R)<0&&(d.applyToRemoteDocument(I,c),I.isValidDocument()&&(I.setReadTime(c.commitVersion),h.addEntry(I)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=re();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function tA(t){const e=Z(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function nF(t,e){const n=Z(t),r=e.snapshotVersion;let i=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Bs.newChangeBuffer({trackRemovals:!0});i=n.xs;const a=[];e.targetChanges.forEach((h,d)=>{const m=i.get(d);if(!m)return;a.push(n.Ti.removeMatchingKeys(s,h.removedDocuments,d).next(()=>n.Ti.addMatchingKeys(s,h.addedDocuments,d)));let y=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?y=y.withResumeToken(et.EMPTY_BYTE_STRING,J.min()).withLastLimboFreeSnapshotVersion(J.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(d,y),function(I,R,v){return I.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=J4?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(m,y,h)&&a.push(n.Ti.updateTargetData(s,y))});let l=ir(),c=re();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),a.push(rF(s,o,e.documentUpdates).next(h=>{l=h.qs,c=h.Qs})),!r.isEqual(J.min())){const h=n.Ti.getLastRemoteSnapshotVersion(s).next(d=>n.Ti.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(h)}return F.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.xs=i,s))}function rF(t,e,n){let r=re(),i=re();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=ir();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(J.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):z(Bg,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{qs:o,Qs:i}})}function iF(t,e){const n=Z(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Cg),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function sF(t,e){const n=Z(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ti.getTargetData(r,e).next(s=>s?(i=s,F.resolve(i)):n.Ti.allocateTargetId(r).next(o=>(i=new Ar(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ti.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.xs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.xs=n.xs.insert(r.targetId,r),n.Os.set(e,r.targetId)),r})}async function Pp(t,e,n){const r=Z(t),i=r.xs.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!ro(o))throw o;z(Bg,`Failed to update sequence numbers for target ${e}: ${o}`)}r.xs=r.xs.remove(e),r.Os.delete(i.target)}function Ww(t,e,n){const r=Z(t);let i=J.min(),s=re();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,h){const d=Z(l),m=d.Os.get(h);return m!==void 0?F.resolve(d.xs.get(m)):d.Ti.getTargetData(c,h)}(r,o,xn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Ms.getDocumentsMatchingQuery(o,e,n?i:J.min(),n?s:re())).next(a=>(oF(r,qj(e),a),{documents:a,$s:s})))}function oF(t,e,n){let r=t.Ns.get(e)||J.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Ns.set(e,r)}class qw{constructor(){this.activeTargetIds=Jj()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class aF{constructor(){this.xo=new qw,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,r){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new qw,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lF{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kw="ConnectivityMonitor";class Gw{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){z(Kw,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){z(Kw,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let du=null;function bp(){return du===null?du=function(){return 268435456+Math.round(2147483648*Math.random())}():du++,"0x"+du.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wd="RestConnection",uF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class cF{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${r}/databases/${i}`,this.Go=this.databaseId.database===Sc?`project_id=${r}`:`project_id=${r}&database_id=${i}`}zo(e,n,r,i,s){const o=bp(),a=this.jo(e,n.toUriEncodedString());z(Wd,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(l,i,s);const{host:c}=new URL(a),h=ni(c);return this.Jo(e,a,l,r,h).then(d=>(z(Wd,`Received RPC '${e}' ${o}: `,d),d),d=>{throw Us(Wd,`RPC '${e}' ${o} failed with error: `,d,"url: ",a,"request:",r),d})}Yo(e,n,r,i,s,o){return this.zo(e,n,r,i,s)}Ho(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+to}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}jo(e,n){const r=uF[e];return`${this.Ko}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hF{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ot="WebChannelConnection";class dF extends cF{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,s){const o=bp();return new Promise((a,l)=>{const c=new r1;c.setWithCredentials(!0),c.listenOnce(i1.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Lu.NO_ERROR:const d=c.getResponseJson();z(ot,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(d)),a(d);break;case Lu.TIMEOUT:z(ot,`RPC '${e}' ${o} timed out`),l(new H(j.DEADLINE_EXCEEDED,"Request time out"));break;case Lu.HTTP_ERROR:const m=c.getStatus();if(z(ot,`RPC '${e}' ${o} failed with status:`,m,"response text:",c.getResponseText()),m>0){let y=c.getResponseJson();Array.isArray(y)&&(y=y[0]);const E=y==null?void 0:y.error;if(E&&E.status&&E.message){const I=function(v){const _=v.toLowerCase().replace(/_/g,"-");return Object.values(j).indexOf(_)>=0?_:j.UNKNOWN}(E.status);l(new H(I,E.message))}else l(new H(j.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new H(j.UNAVAILABLE,"Connection failed."));break;default:Q(9055,{h_:e,streamId:o,P_:c.getLastErrorCode(),T_:c.getLastError()})}}finally{z(ot,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(i);z(ot,`RPC '${e}' ${o} sending request:`,i),c.send(n,"POST",h,r,15)})}I_(e,n,r){const i=bp(),s=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=a1(),a=o1(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Ho(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const h=s.join("");z(ot,`Creating RPC '${e}' stream ${i}: ${h}`,l);const d=o.createWebChannel(h,l);this.E_(d);let m=!1,y=!1;const E=new hF({Zo:R=>{y?z(ot,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(m||(z(ot,`Opening RPC '${e}' stream ${i} transport.`),d.open(),m=!0),z(ot,`RPC '${e}' stream ${i} sending:`,R),d.send(R))},Xo:()=>d.close()}),I=(R,v,_)=>{R.listen(v,x=>{try{_(x)}catch(N){setTimeout(()=>{throw N},0)}})};return I(d,zo.EventType.OPEN,()=>{y||(z(ot,`RPC '${e}' stream ${i} transport opened.`),E.__())}),I(d,zo.EventType.CLOSE,()=>{y||(y=!0,z(ot,`RPC '${e}' stream ${i} transport closed`),E.u_(),this.d_(d))}),I(d,zo.EventType.ERROR,R=>{y||(y=!0,Us(ot,`RPC '${e}' stream ${i} transport errored. Name:`,R.name,"Message:",R.message),E.u_(new H(j.UNAVAILABLE,"The operation could not be completed")))}),I(d,zo.EventType.MESSAGE,R=>{var v;if(!y){const _=R.data[0];ae(!!_,16349);const x=_,N=(x==null?void 0:x.error)||((v=x[0])===null||v===void 0?void 0:v.error);if(N){z(ot,`RPC '${e}' stream ${i} received error:`,N);const L=N.status;let M=function(A){const k=Oe[A];if(k!==void 0)return $1(k)}(L),S=N.message;M===void 0&&(M=j.INTERNAL,S="Unknown error status: "+L+" with message "+N.message),y=!0,E.u_(new H(M,S)),d.close()}else z(ot,`RPC '${e}' stream ${i} received:`,_),E.c_(_)}}),I(a,s1.STAT_EVENT,R=>{R.stat===vp.PROXY?z(ot,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===vp.NOPROXY&&z(ot,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{E.a_()},0),E}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(n=>n===e)}}function qd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _h(t){return new g4(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{constructor(e,n,r=1e3,i=1.5,s=6e4){this.xi=e,this.timerId=n,this.A_=r,this.R_=i,this.V_=s,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const n=Math.floor(this.m_+this.w_()),r=Math.max(0,Date.now()-this.g_),i=Math.max(0,n-r);i>0&&z("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,i,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qw="PersistentStream";class rA{constructor(e,n,r,i,s,o,a,l){this.xi=e,this.S_=r,this.D_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new nA(e,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():n&&n.code===j.RESOURCE_EXHAUSTED?(rr(n.toString()),rr("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===j.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.v_===n&&this.z_(r,i)},r=>{e(()=>{const i=new H(j.UNKNOWN,"Fetching auth token failed: "+r.message);return this.j_(i)})})}z_(e,n){const r=this.G_(this.v_);this.stream=this.H_(e,n),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(i=>{r(()=>this.j_(i))}),this.stream.onMessage(i=>{r(()=>++this.M_==1?this.J_(i):this.onNext(i))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return z(Qw,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return n=>{this.xi.enqueueAndForget(()=>this.v_===e?n():(z(Qw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class fF extends rA{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}H_(e,n){return this.connection.I_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const n=_4(this.serializer,e),r=function(s){if(!("targetChange"in s))return J.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?J.min():o.readTime?In(o.readTime):J.min()}(e);return this.listener.Y_(n,r)}Z_(e){const n={};n.database=Rp(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=xp(l)?{documents:T4(s,l)}:{query:x4(s,l).gt},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=W1(s,o.resumeToken);const c=Ap(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(J.min())>0){a.readTime=Rc(s,o.snapshotVersion.toTimestamp());const c=Ap(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=I4(this.serializer,e);r&&(n.labels=r),this.Q_(n)}X_(e){const n={};n.database=Rp(this.serializer),n.removeTarget=e,this.Q_(n)}}class pF extends rA{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,n){return this.connection.I_("Write",e,n)}J_(e){return ae(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ae(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){ae(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const n=E4(e.writeResults,e.commitTime),r=In(e.commitTime);return this.listener.ra(r,n)}ia(){const e={};e.database=Rp(this.serializer),this.Q_(e)}ta(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>w4(this.serializer,r))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mF{}class gF extends mF{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.sa=!1}oa(){if(this.sa)throw new H(j.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,r,i){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.zo(e,kp(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new H(j.UNKNOWN,s.toString())})}Yo(e,n,r,i,s){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Yo(e,kp(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new H(j.UNKNOWN,o.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class yF{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(rr(n),this.ua=!1):z("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Li="RemoteStore";class vF{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=s,this.Ra.No(o=>{r.enqueueAndForget(async()=>{Wi(this)&&(z(Li,"Restarting streams for network reachability change."),await async function(l){const c=Z(l);c.da.add(4),await dl(c),c.Va.set("Unknown"),c.da.delete(4),await wh(c)}(this))})}),this.Va=new yF(r,i)}}async function wh(t){if(Wi(t))for(const e of t.Aa)await e(!0)}async function dl(t){for(const e of t.Aa)await e(!1)}function iA(t,e){const n=Z(t);n.Ea.has(e.targetId)||(n.Ea.set(e.targetId,e),Wg(n)?Hg(n):so(n).N_()&&zg(n,e))}function $g(t,e){const n=Z(t),r=so(n);n.Ea.delete(e),r.N_()&&sA(n,e),n.Ea.size===0&&(r.N_()?r.k_():Wi(n)&&n.Va.set("Unknown"))}function zg(t,e){if(t.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(J.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}so(t).Z_(e)}function sA(t,e){t.ma.Ke(e),so(t).X_(e)}function Hg(t){t.ma=new d4({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Ea.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),so(t).start(),t.Va.ca()}function Wg(t){return Wi(t)&&!so(t).O_()&&t.Ea.size>0}function Wi(t){return Z(t).da.size===0}function oA(t){t.ma=void 0}async function _F(t){t.Va.set("Online")}async function wF(t){t.Ea.forEach((e,n)=>{zg(t,e)})}async function EF(t,e){oA(t),Wg(t)?(t.Va.Pa(e),Hg(t)):t.Va.set("Unknown")}async function TF(t,e,n){if(t.Va.set("Online"),e instanceof H1&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.Ea.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.Ea.delete(a),i.ma.removeTarget(a))}(t,e)}catch(r){z(Li,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await bc(t,r)}else if(e instanceof Fu?t.ma.Xe(e):e instanceof z1?t.ma.ot(e):t.ma.nt(e),!n.isEqual(J.min()))try{const r=await tA(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.ma.It(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const h=s.Ea.get(c);h&&s.Ea.set(c,h.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const h=s.Ea.get(l);if(!h)return;s.Ea.set(l,h.withResumeToken(et.EMPTY_BYTE_STRING,h.snapshotVersion)),sA(s,l);const d=new Ar(h.target,l,c,h.sequenceNumber);zg(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){z(Li,"Failed to raise snapshot:",r),await bc(t,r)}}async function bc(t,e,n){if(!ro(e))throw e;t.da.add(1),await dl(t),t.Va.set("Offline"),n||(n=()=>tA(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{z(Li,"Retrying IndexedDB access"),await n(),t.da.delete(1),await wh(t)})}function aA(t,e){return e().catch(n=>bc(t,n,e))}async function Eh(t){const e=Z(t),n=Gr(e);let r=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:Cg;for(;xF(e);)try{const i=await iF(e.localStore,r);if(i===null){e.Ia.length===0&&n.k_();break}r=i.batchId,SF(e,i)}catch(i){await bc(e,i)}lA(e)&&uA(e)}function xF(t){return Wi(t)&&t.Ia.length<10}function SF(t,e){t.Ia.push(e);const n=Gr(t);n.N_()&&n.ea&&n.ta(e.mutations)}function lA(t){return Wi(t)&&!Gr(t).O_()&&t.Ia.length>0}function uA(t){Gr(t).start()}async function IF(t){Gr(t).ia()}async function AF(t){const e=Gr(t);for(const n of t.Ia)e.ta(n.mutations)}async function kF(t,e,n){const r=t.Ia.shift(),i=Lg.from(r,e,n);await aA(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Eh(t)}async function CF(t,e){e&&Gr(t).ea&&await async function(r,i){if(function(o){return c4(o)&&o!==j.ABORTED}(i.code)){const s=r.Ia.shift();Gr(r).L_(),await aA(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Eh(r)}}(t,e),lA(t)&&uA(t)}async function Yw(t,e){const n=Z(t);n.asyncQueue.verifyOperationInProgress(),z(Li,"RemoteStore received new credentials");const r=Wi(n);n.da.add(3),await dl(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.da.delete(3),await wh(n)}async function RF(t,e){const n=Z(t);e?(n.da.delete(2),await wh(n)):e||(n.da.add(2),await dl(n),n.Va.set("Unknown"))}function so(t){return t.fa||(t.fa=function(n,r,i){const s=Z(n);return s.oa(),new fF(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{e_:_F.bind(null,t),n_:wF.bind(null,t),i_:EF.bind(null,t),Y_:TF.bind(null,t)}),t.Aa.push(async e=>{e?(t.fa.L_(),Wg(t)?Hg(t):t.Va.set("Unknown")):(await t.fa.stop(),oA(t))})),t.fa}function Gr(t){return t.ga||(t.ga=function(n,r,i){const s=Z(n);return s.oa(),new pF(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:IF.bind(null,t),i_:CF.bind(null,t),na:AF.bind(null,t),ra:kF.bind(null,t)}),t.Aa.push(async e=>{e?(t.ga.L_(),await Eh(t)):(await t.ga.stop(),t.Ia.length>0&&(z(Li,`Stopping write stream with ${t.Ia.length} pending writes`),t.Ia=[]))})),t.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Kn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new qg(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new H(j.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Kg(t,e){if(rr("AsyncQueue",`${e}: ${t}`),ro(t))return new H(j.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{static emptySet(e){return new As(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||q.comparator(n.key,r.key):(n,r)=>q.comparator(n.key,r.key),this.keyedMap=Ho(),this.sortedSet=new Ae(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof As)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new As;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{constructor(){this.pa=new Ae(q.comparator)}track(e){const n=e.doc.key,r=this.pa.get(n);r?e.type!==0&&r.type===3?this.pa=this.pa.insert(n,e):e.type===3&&r.type!==1?this.pa=this.pa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.pa=this.pa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.pa=this.pa.remove(n):e.type===1&&r.type===2?this.pa=this.pa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):Q(63341,{Vt:e,ya:r}):this.pa=this.pa.insert(n,e)}wa(){const e=[];return this.pa.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ws{constructor(e,n,r,i,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Ws(e,n,As.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ph(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PF{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class bF{constructor(){this.queries=Jw(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Z(n),s=i.queries;i.queries=Jw(),s.forEach((o,a)=>{for(const l of a.Sa)l.onError(r)})})(this,new H(j.ABORTED,"Firestore shutting down"))}}function Jw(){return new zi(t=>R1(t),ph)}async function cA(t,e){const n=Z(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.Da()&&e.va()&&(r=2):(s=new PF,r=e.va()?0:1);try{switch(r){case 0:s.ba=await n.onListen(i,!0);break;case 1:s.ba=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=Kg(o,`Initialization of query '${es(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.Sa.push(e),e.Fa(n.onlineState),s.ba&&e.Ma(s.ba)&&Gg(n)}async function hA(t,e){const n=Z(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.Sa.indexOf(e);o>=0&&(s.Sa.splice(o,1),s.Sa.length===0?i=e.va()?0:1:!s.Da()&&e.va()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function NF(t,e){const n=Z(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.Sa)a.Ma(i)&&(r=!0);o.ba=i}}r&&Gg(n)}function DF(t,e,n){const r=Z(t),i=r.queries.get(e);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(e)}function Gg(t){t.Ca.forEach(e=>{e.next()})}var Np,Zw;(Zw=Np||(Np={})).xa="default",Zw.Cache="cache";class dA{constructor(e,n,r){this.query=e,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=r||{}}Ma(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Ws(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Na?this.La(e)&&(this.Oa.next(e),n=!0):this.ka(e,this.onlineState)&&(this.qa(e),n=!0),this.Ba=e,n}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),n=!0),n}ka(e,n){if(!e.fromCache||!this.va())return!0;const r=n!=="Offline";return(!this.options.Qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}La(e){if(e.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(e){e=Ws.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==Np.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA{constructor(e){this.key=e}}class pA{constructor(e){this.key=e}}class VF{constructor(e,n){this.query=e,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=re(),this.mutatedKeys=re(),this.Za=P1(e),this.Xa=new As(this.Za)}get eu(){return this.Ha}tu(e,n){const r=n?n.nu:new Xw,i=n?n.Xa:this.Xa;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,d)=>{const m=i.get(h),y=mh(this.query,d)?d:null,E=!!m&&this.mutatedKeys.has(m.key),I=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let R=!1;m&&y?m.data.isEqual(y.data)?E!==I&&(r.track({type:3,doc:y}),R=!0):this.ru(m,y)||(r.track({type:2,doc:y}),R=!0,(l&&this.Za(y,l)>0||c&&this.Za(y,c)<0)&&(a=!0)):!m&&y?(r.track({type:0,doc:y}),R=!0):m&&!y&&(r.track({type:1,doc:m}),R=!0,(l||c)&&(a=!0)),R&&(y?(o=o.add(y),s=I?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{Xa:o,nu:r,Cs:a,mutatedKeys:s}}ru(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const o=e.nu.wa();o.sort((h,d)=>function(y,E){const I=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Q(20277,{Vt:R})}};return I(y)-I(E)}(h.type,d.type)||this.Za(h.doc,d.doc)),this.iu(r),i=i!=null&&i;const a=n&&!i?this.su():[],l=this.Ya.size===0&&this.current&&!i?1:0,c=l!==this.Ja;return this.Ja=l,o.length!==0||c?{snapshot:new Ws(this.query,e.Xa,s,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),ou:a}:{ou:a}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new Xw,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=re(),this.Xa.forEach(r=>{this._u(r.key)&&(this.Ya=this.Ya.add(r.key))});const n=[];return e.forEach(r=>{this.Ya.has(r)||n.push(new pA(r))}),this.Ya.forEach(r=>{e.has(r)||n.push(new fA(r))}),n}au(e){this.Ha=e.$s,this.Ya=re();const n=this.tu(e.documents);return this.applyChanges(n,!0)}uu(){return Ws.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const Qg="SyncEngine";class LF{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class OF{constructor(e){this.key=e,this.cu=!1}}class MF{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.lu={},this.hu=new zi(a=>R1(a),ph),this.Pu=new Map,this.Tu=new Set,this.Iu=new Ae(q.comparator),this.Eu=new Map,this.du=new jg,this.Au={},this.Ru=new Map,this.Vu=Hs.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function jF(t,e,n=!0){const r=wA(t);let i;const s=r.hu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.uu()):i=await mA(r,e,n,!0),i}async function FF(t,e){const n=wA(t);await mA(n,e,!0,!1)}async function mA(t,e,n,r){const i=await sF(t.localStore,xn(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await UF(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&iA(t.remoteStore,i),a}async function UF(t,e,n,r,i){t.fu=(d,m,y)=>async function(I,R,v,_){let x=R.view.tu(v);x.Cs&&(x=await Ww(I.localStore,R.query,!1).then(({documents:S})=>R.view.tu(S,x)));const N=_&&_.targetChanges.get(R.targetId),L=_&&_.targetMismatches.get(R.targetId)!=null,M=R.view.applyChanges(x,I.isPrimaryClient,N,L);return tE(I,R.targetId,M.ou),M.snapshot}(t,d,m,y);const s=await Ww(t.localStore,e,!0),o=new VF(e,s.$s),a=o.tu(s.documents),l=hl.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,l);tE(t,n,c.ou);const h=new LF(e,n,o);return t.hu.set(e,h),t.Pu.has(n)?t.Pu.get(n).push(e):t.Pu.set(n,[e]),c.snapshot}async function BF(t,e,n){const r=Z(t),i=r.hu.get(e),s=r.Pu.get(i.targetId);if(s.length>1)return r.Pu.set(i.targetId,s.filter(o=>!ph(o,e))),void r.hu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Pp(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&$g(r.remoteStore,i.targetId),Dp(r,i.targetId)}).catch(no)):(Dp(r,i.targetId),await Pp(r.localStore,i.targetId,!0))}async function $F(t,e){const n=Z(t),r=n.hu.get(e),i=n.Pu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),$g(n.remoteStore,r.targetId))}async function zF(t,e,n){const r=YF(t);try{const i=await function(o,a){const l=Z(o),c=ye.now(),h=a.reduce((y,E)=>y.add(E.key),re());let d,m;return l.persistence.runTransaction("Locally write mutations","readwrite",y=>{let E=ir(),I=re();return l.Bs.getEntries(y,h).next(R=>{E=R,E.forEach((v,_)=>{_.isValidDocument()||(I=I.add(v))})}).next(()=>l.localDocuments.getOverlayedDocuments(y,E)).next(R=>{d=R;const v=[];for(const _ of a){const x=s4(_,d.get(_.key).overlayedDocument);x!=null&&v.push(new Hi(_.key,x,E1(x.value.mapValue),Sn.exists(!0)))}return l.mutationQueue.addMutationBatch(y,c,v,a)}).next(R=>{m=R;const v=R.applyToLocalDocumentSet(d,I);return l.documentOverlayCache.saveOverlays(y,R.batchId,v)})}).then(()=>({batchId:m.batchId,changes:N1(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let c=o.Au[o.currentUser.toKey()];c||(c=new Ae(ee)),c=c.insert(a,l),o.Au[o.currentUser.toKey()]=c}(r,i.batchId,n),await fl(r,i.changes),await Eh(r.remoteStore)}catch(i){const s=Kg(i,"Failed to persist write");n.reject(s)}}async function gA(t,e){const n=Z(t);try{const r=await nF(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Eu.get(s);o&&(ae(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.cu=!0:i.modifiedDocuments.size>0?ae(o.cu,14607):i.removedDocuments.size>0&&(ae(o.cu,42227),o.cu=!1))}),await fl(n,r,e)}catch(r){await no(r)}}function eE(t,e,n){const r=Z(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.hu.forEach((s,o)=>{const a=o.view.Fa(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=Z(o);l.onlineState=a;let c=!1;l.queries.forEach((h,d)=>{for(const m of d.Sa)m.Fa(a)&&(c=!0)}),c&&Gg(l)}(r.eventManager,e),i.length&&r.lu.Y_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function HF(t,e,n){const r=Z(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Eu.get(e),s=i&&i.key;if(s){let o=new Ae(q.comparator);o=o.insert(s,ut.newNoDocument(s,J.min()));const a=re().add(s),l=new vh(J.min(),new Map,new Ae(ee),o,a);await gA(r,l),r.Iu=r.Iu.remove(s),r.Eu.delete(e),Yg(r)}else await Pp(r.localStore,e,!1).then(()=>Dp(r,e,n)).catch(no)}async function WF(t,e){const n=Z(t),r=e.batch.batchId;try{const i=await tF(n.localStore,e);vA(n,r,null),yA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await fl(n,i)}catch(i){await no(i)}}async function qF(t,e,n){const r=Z(t);try{const i=await function(o,a){const l=Z(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let h;return l.mutationQueue.lookupMutationBatch(c,a).next(d=>(ae(d!==null,37113),h=d.keys(),l.mutationQueue.removeMutationBatch(c,d))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h)).next(()=>l.localDocuments.getDocuments(c,h))})}(r.localStore,e);vA(r,e,n),yA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await fl(r,i)}catch(i){await no(i)}}function yA(t,e){(t.Ru.get(e)||[]).forEach(n=>{n.resolve()}),t.Ru.delete(e)}function vA(t,e,n){const r=Z(t);let i=r.Au[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Au[r.currentUser.toKey()]=i}}function Dp(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Pu.get(e))t.hu.delete(r),n&&t.lu.gu(r,n);t.Pu.delete(e),t.isPrimaryClient&&t.du.Hr(e).forEach(r=>{t.du.containsKey(r)||_A(t,r)})}function _A(t,e){t.Tu.delete(e.path.canonicalString());const n=t.Iu.get(e);n!==null&&($g(t.remoteStore,n),t.Iu=t.Iu.remove(e),t.Eu.delete(n),Yg(t))}function tE(t,e,n){for(const r of n)r instanceof fA?(t.du.addReference(r.key,e),KF(t,r)):r instanceof pA?(z(Qg,"Document no longer in limbo: "+r.key),t.du.removeReference(r.key,e),t.du.containsKey(r.key)||_A(t,r.key)):Q(19791,{pu:r})}function KF(t,e){const n=e.key,r=n.path.canonicalString();t.Iu.get(n)||t.Tu.has(r)||(z(Qg,"New document in limbo: "+n),t.Tu.add(r),Yg(t))}function Yg(t){for(;t.Tu.size>0&&t.Iu.size<t.maxConcurrentLimboResolutions;){const e=t.Tu.values().next().value;t.Tu.delete(e);const n=new q(me.fromString(e)),r=t.Vu.next();t.Eu.set(r,new OF(n)),t.Iu=t.Iu.insert(n,r),iA(t.remoteStore,new Ar(xn(Dg(n.path)),r,"TargetPurposeLimboResolution",hh.le))}}async function fl(t,e,n){const r=Z(t),i=[],s=[],o=[];r.hu.isEmpty()||(r.hu.forEach((a,l)=>{o.push(r.fu(l,e,n).then(c=>{var h;if((c||n)&&r.isPrimaryClient){const d=c?!c.fromCache:(h=n==null?void 0:n.targetChanges.get(l.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(c){i.push(c);const d=Ug.Rs(l.targetId,c);s.push(d)}}))}),await Promise.all(o),r.lu.Y_(i),await async function(l,c){const h=Z(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>F.forEach(c,m=>F.forEach(m.ds,y=>h.persistence.referenceDelegate.addReference(d,m.targetId,y)).next(()=>F.forEach(m.As,y=>h.persistence.referenceDelegate.removeReference(d,m.targetId,y)))))}catch(d){if(!ro(d))throw d;z(Bg,"Failed to update sequence numbers: "+d)}for(const d of c){const m=d.targetId;if(!d.fromCache){const y=h.xs.get(m),E=y.snapshotVersion,I=y.withLastLimboFreeSnapshotVersion(E);h.xs=h.xs.insert(m,I)}}}(r.localStore,s))}async function GF(t,e){const n=Z(t);if(!n.currentUser.isEqual(e)){z(Qg,"User change. New user:",e.toKey());const r=await eA(n.localStore,e);n.currentUser=e,function(s,o){s.Ru.forEach(a=>{a.forEach(l=>{l.reject(new H(j.CANCELLED,o))})}),s.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await fl(n,r.ks)}}function QF(t,e){const n=Z(t),r=n.Eu.get(e);if(r&&r.cu)return re().add(r.key);{let i=re();const s=n.Pu.get(e);if(!s)return i;for(const o of s){const a=n.hu.get(o);i=i.unionWith(a.view.eu)}return i}}function wA(t){const e=Z(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=gA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=QF.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=HF.bind(null,e),e.lu.Y_=NF.bind(null,e.eventManager),e.lu.gu=DF.bind(null,e.eventManager),e}function YF(t){const e=Z(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=WF.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=qF.bind(null,e),e}class Nc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=_h(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,n){return null}Cu(e,n){return null}Du(e){return eF(this.persistence,new X4,e.initialUser,this.serializer)}Su(e){return new Z1(Fg.fi,this.serializer)}bu(e){return new aF}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Nc.provider={build:()=>new Nc};class XF extends Nc{constructor(e){super(),this.cacheSizeBytes=e}vu(e,n){ae(this.persistence.referenceDelegate instanceof Pc,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new O4(r,e.asyncQueue,n)}Su(e){const n=this.cacheSizeBytes!==void 0?xt.withCacheSize(this.cacheSizeBytes):xt.DEFAULT;return new Z1(r=>Pc.fi(r,n),this.serializer)}}class Vp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>eE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=GF.bind(null,this.syncEngine),await RF(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new bF}()}createDatastore(e){const n=_h(e.databaseInfo.databaseId),r=function(s){return new dF(s)}(e.databaseInfo);return function(s,o,a,l){return new gF(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new vF(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>eE(this.syncEngine,n,0),function(){return Gw.C()?new Gw:new lF}())}createSyncEngine(e,n){return function(i,s,o,a,l,c,h){const d=new MF(i,s,o,a,l,c);return h&&(d.mu=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=Z(i);z(Li,"RemoteStore shutting down."),s.da.add(5),await dl(s),s.Ra.shutdown(),s.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Vp.provider={build:()=>new Vp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):rr("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qr="FirestoreClient";class JF{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=at.UNAUTHENTICATED,this.clientId=h1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{z(Qr,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(z(Qr,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Kn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Kg(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Kd(t,e){t.asyncQueue.verifyOperationInProgress(),z(Qr,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await eA(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function nE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await ZF(t);z(Qr,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Yw(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>Yw(e.remoteStore,i)),t._onlineComponents=e}async function ZF(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){z(Qr,"Using user provided OfflineComponentProvider");try{await Kd(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===j.FAILED_PRECONDITION||i.code===j.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Us("Error using user provided cache. Falling back to memory cache: "+n),await Kd(t,new Nc)}}else z(Qr,"Using default OfflineComponentProvider"),await Kd(t,new XF(void 0));return t._offlineComponents}async function TA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(z(Qr,"Using user provided OnlineComponentProvider"),await nE(t,t._uninitializedComponentsProvider._online)):(z(Qr,"Using default OnlineComponentProvider"),await nE(t,new Vp))),t._onlineComponents}function e6(t){return TA(t).then(e=>e.syncEngine)}async function xA(t){const e=await TA(t),n=e.eventManager;return n.onListen=jF.bind(null,e.syncEngine),n.onUnlisten=BF.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=FF.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=$F.bind(null,e.syncEngine),n}function t6(t,e,n={}){const r=new Kn;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const h=new EA({next:m=>{h.xu(),o.enqueueAndForget(()=>hA(s,d));const y=m.docs.has(a);!y&&m.fromCache?c.reject(new H(j.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&m.fromCache&&l&&l.source==="server"?c.reject(new H(j.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(m)},error:m=>c.reject(m)}),d=new dA(Dg(a.path),h,{includeMetadataChanges:!0,Qa:!0});return cA(s,d)}(await xA(t),t.asyncQueue,e,n,r)),r.promise}function n6(t,e,n={}){const r=new Kn;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const h=new EA({next:m=>{h.xu(),o.enqueueAndForget(()=>hA(s,d)),m.fromCache&&l.source==="server"?c.reject(new H(j.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(m)},error:m=>c.reject(m)}),d=new dA(a,h,{includeMetadataChanges:!0,Qa:!0});return cA(s,d)}(await xA(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IA(t,e,n){if(!n)throw new H(j.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function r6(t,e,n,r){if(e===!0&&r===!0)throw new H(j.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function iE(t){if(!q.isDocumentKey(t))throw new H(j.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function sE(t){if(q.isDocumentKey(t))throw new H(j.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Th(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Q(12329,{type:typeof t})}function Yr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new H(j.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Th(t);throw new H(j.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AA="firestore.googleapis.com",oE=!0;class aE{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new H(j.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=AA,this.ssl=oE}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:oE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=J1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<V4)throw new H(j.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}r6("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=SA((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new H(j.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new H(j.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new H(j.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class xh{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new aE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new H(j.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new H(j.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new aE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new hj;switch(r.type){case"firstParty":return new mj(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new H(j.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=rE.get(n);r&&(z("ComponentProvider","Removing Datastore"),rE.delete(n),r.terminate())}(this),Promise.resolve()}}function i6(t,e,n,r={}){var i;t=Yr(t,xh);const s=ni(e),o=t._getSettings(),a=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),l=`${e}:${n}`;s&&(Tg(`https://${l}`),xg("Firestore",!0)),o.host!==AA&&o.host!==l&&Us("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},o),{host:l,ssl:s,emulatorOptions:r});if(!Ni(c,a)&&(t._setSettings(c),r.mockUserToken)){let h,d;if(typeof r.mockUserToken=="string")h=r.mockUserToken,d=at.MOCK_USER;else{h=YI(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new H(j.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new at(m)}t._authCredentials=new dj(new u1(h,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new qi(this.firestore,e,this._query)}}class bt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new jr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new bt(this.firestore,e,this._key)}}class jr extends qi{constructor(e,n,r){super(e,n,Dg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new bt(this.firestore,null,new q(e))}withConverter(e){return new jr(this.firestore,e,this._path)}}function pl(t,e,...n){if(t=ze(t),IA("collection","path",e),t instanceof xh){const r=me.fromString(e,...n);return sE(r),new jr(t,null,r)}{if(!(t instanceof bt||t instanceof jr))throw new H(j.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(me.fromString(e,...n));return sE(r),new jr(t.firestore,null,r)}}function ml(t,e,...n){if(t=ze(t),arguments.length===1&&(e=h1.newId()),IA("doc","path",e),t instanceof xh){const r=me.fromString(e,...n);return iE(r),new bt(t,null,new q(r))}{if(!(t instanceof bt||t instanceof jr))throw new H(j.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(me.fromString(e,...n));return iE(r),new bt(t.firestore,t instanceof jr?t.converter:null,new q(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE="AsyncQueue";class uE{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new nA(this,"async_queue_retry"),this.rc=()=>{const r=qd();r&&z(lE,"Visibility state changed to "+r.visibilityState),this.x_.b_()},this.sc=e;const n=qd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const n=qd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new Kn;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!ro(e))throw e;z(lE,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const n=this.sc.then(()=>(this.ec=!0,e().catch(r=>{throw this.Xu=r,this.ec=!1,rr("INTERNAL UNHANDLED ERROR: ",cE(r)),r}).then(r=>(this.ec=!1,r))));return this.sc=n,n}enqueueAfterDelay(e,n,r){this.oc(),this.nc.indexOf(e)>-1&&(n=0);const i=qg.createAndSchedule(this,e,n,r,s=>this.uc(s));return this.Zu.push(i),i}oc(){this.Xu&&Q(47125,{cc:cE(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const n of this.Zu)if(n.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const n=this.Zu.indexOf(e);this.Zu.splice(n,1)}}function cE(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class gl extends xh{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new uE,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new uE(e),this._firestoreClient=void 0,await e}}}function s6(t,e){const n=typeof t=="object"?t:Ag(),r=typeof t=="string"?t:Sc,i=ch(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=KI("firestore");s&&i6(i,...s)}return i}function Xg(t){if(t._terminated)throw new H(j.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||o6(t),t._firestoreClient}function o6(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,c,h){return new Pj(a,l,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,SA(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new JF(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new qs(et.fromBase64String(e))}catch(n){throw new H(j.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new qs(et.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new H(j.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xe(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new H(j.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new H(j.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ee(this._lat,e._lat)||ee(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a6=/^__.*__$/;class l6{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Hi(e,this.data,this.fieldMask,n,this.fieldTransforms):new cl(e,this.data,n,this.fieldTransforms)}}function CA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Q(40011,{Ic:t})}}class ty{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Ec(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new ty(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.dc({path:r,Rc:!1});return i.Vc(e),i}mc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.dc({path:r,Rc:!1});return i.Ec(),i}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return Dc(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(CA(this.Ic)&&a6.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class u6{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||_h(e)}bc(e,n,r,i=!1){return new ty({Ic:e,methodName:n,wc:r,path:Xe.emptyPath(),Rc:!1,yc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ny(t){const e=t._freezeSettings(),n=_h(t._databaseId);return new u6(t._databaseId,!!e.ignoreUndefinedProperties,n)}function RA(t,e,n,r,i,s={}){const o=t.bc(s.merge||s.mergeFields?2:0,e,n,i);NA("Data must be an object, but it was:",o,r);const a=PA(r,o);let l,c;if(s.merge)l=new sn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const h=[];for(const d of s.mergeFields){const m=h6(e,d,n);if(!o.contains(m))throw new H(j.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);f6(h,m)||h.push(m)}l=new sn(h),c=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=o.fieldTransforms;return new l6(new Ht(a),l,c)}function c6(t,e,n,r=!1){return ry(n,t.bc(r?4:3,e))}function ry(t,e){if(bA(t=ze(t)))return NA("Unsupported field value:",e,t),PA(t,e);if(t instanceof kA)return function(r,i){if(!CA(i.Ic))throw i.gc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.gc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=ry(a,i.fc(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=ze(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Zj(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=ye.fromDate(r);return{timestampValue:Rc(i.serializer,s)}}if(r instanceof ye){const s=new ye(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Rc(i.serializer,s)}}if(r instanceof Zg)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof qs)return{bytesValue:W1(i.serializer,r._byteString)};if(r instanceof bt){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.gc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Mg(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof ey)return function(o,a){return{mapValue:{fields:{[_1]:{stringValue:w1},[Ic]:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.gc("VectorValues must only contain numeric values.");return Vg(a.serializer,c)})}}}}}}(r,i);throw i.gc(`Unsupported field value: ${Th(r)}`)}(t,e)}function PA(t,e){const n={};return f1(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):$i(t,(r,i)=>{const s=ry(i,e.Ac(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function bA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ye||t instanceof Zg||t instanceof qs||t instanceof bt||t instanceof kA||t instanceof ey)}function NA(t,e,n){if(!bA(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Th(n);throw r==="an object"?e.gc(t+" a custom object"):e.gc(t+" "+r)}}function h6(t,e,n){if((e=ze(e))instanceof Jg)return e._internalPath;if(typeof e=="string")return DA(t,e);throw Dc("Field path arguments must be of type string or ",t,!1,void 0,n)}const d6=new RegExp("[~\\*/\\[\\]]");function DA(t,e,n){if(e.search(d6)>=0)throw Dc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Jg(...e.split("."))._internalPath}catch{throw Dc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Dc(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new H(j.INVALID_ARGUMENT,a+t+l)}function f6(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new bt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new p6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(iy("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class p6 extends VA{data(){return super.data()}}function iy(t,e){return typeof e=="string"?DA(t,e):e instanceof Jg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m6(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new H(j.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class sy{}class LA extends sy{}function Sh(t,e,...n){let r=[];e instanceof sy&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof ay).length,a=s.filter(l=>l instanceof oy).length;if(o>1||o>0&&a>0)throw new H(j.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class oy extends LA{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new oy(e,n,r)}_apply(e){const n=this._parse(e);return OA(e._query,n),new qi(e.firestore,e.converter,Sp(e._query,n))}_parse(e){const n=ny(e.firestore);return function(s,o,a,l,c,h,d){let m;if(c.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new H(j.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){dE(d,h);const E=[];for(const I of d)E.push(hE(l,s,I));m={arrayValue:{values:E}}}else m=hE(l,s,d)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||dE(d,h),m=c6(a,o,d,h==="in"||h==="not-in");return Fe.create(c,h,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class ay extends sy{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new ay(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:hn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)OA(o,l),o=Sp(o,l)}(e._query,n),new qi(e.firestore,e.converter,Sp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ly extends LA{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new ly(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new H(j.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new H(j.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ha(s,o)}(e._query,this._field,this._direction);return new qi(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new io(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function uy(t,e="asc"){const n=e,r=iy("orderBy",t);return ly._create(r,n)}function hE(t,e,n){if(typeof(n=ze(n))=="string"){if(n==="")throw new H(j.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!C1(e)&&n.indexOf("/")!==-1)throw new H(j.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(me.fromString(n));if(!q.isDocumentKey(r))throw new H(j.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Aw(t,new q(r))}if(n instanceof bt)return Aw(t,n._key);throw new H(j.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Th(n)}.`)}function dE(t,e){if(!Array.isArray(t)||t.length===0)throw new H(j.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function OA(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new H(j.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new H(j.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class g6{convertValue(e,n="none"){switch(Kr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ve(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(qr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Q(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return $i(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[Ic].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Ve(o.doubleValue));return new ey(s)}convertGeoPoint(e){return new Zg(Ve(e.latitude),Ve(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=fh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ba(e));default:return null}}convertTimestamp(e){const n=Wr(e);return new ye(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=me.fromString(e);ae(X1(r),9688,{name:e});const i=new $a(r.get(1),r.get(3)),s=new q(r.popFirst(5));return i.isEqual(n)||rr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MA(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class jA extends VA{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Uu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(iy("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Uu extends jA{data(e={}){return super.data(e)}}class y6{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new qo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Uu(this._firestore,this._userDataWriter,r.key,r,new qo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new H(j.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new Uu(i._firestore,i._userDataWriter,a.doc.key,a.doc,new qo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Uu(i._firestore,i._userDataWriter,a.doc.key,a.doc,new qo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,h=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:v6(a.type),doc:l,oldIndex:c,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function v6(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Q(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cy(t){t=Yr(t,bt);const e=Yr(t.firestore,gl);return t6(Xg(e),t._key).then(n=>E6(e,t,n))}class FA extends g6{constructor(e){super(),this.firestore=e}convertBytes(e){return new qs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new bt(this.firestore,null,n)}}function Ih(t){t=Yr(t,qi);const e=Yr(t.firestore,gl),n=Xg(e),r=new FA(e);return m6(t._query),n6(n,t._query).then(i=>new y6(e,r,t,i))}function _6(t,e,n){t=Yr(t,bt);const r=Yr(t.firestore,gl),i=MA(t.converter,e,n);return UA(r,[RA(ny(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Sn.none())])}function w6(t,e){const n=Yr(t.firestore,gl),r=ml(t),i=MA(t.converter,e);return UA(n,[RA(ny(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Sn.exists(!1))]).then(()=>r)}function UA(t,e){return function(r,i){const s=new Kn;return r.asyncQueue.enqueueAndForget(async()=>zF(await e6(r),i,s)),s.promise}(Xg(t),e)}function E6(t,e,n){const r=n.docs.get(e._key),i=new FA(t);return new jA(t,i,e._key,r,new qo(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){to=i})(Bi),Di(new zr("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new gl(new fj(r.getProvider("auth-internal")),new gj(o,r.getProvider("app-check-internal")),function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new H(j.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $a(c.options.projectId,h)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Tn(pw,mw,e),Tn(pw,mw,"esm2017")})();function hy(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function BA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const T6=BA,$A=new ll("auth","Firebase",BA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vc=new Sg("@firebase/auth");function x6(t,...e){Vc.logLevel<=ne.WARN&&Vc.warn(`Auth (${Bi}): ${t}`,...e)}function Bu(t,...e){Vc.logLevel<=ne.ERROR&&Vc.error(`Auth (${Bi}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yt(t,...e){throw fy(t,...e)}function un(t,...e){return fy(t,...e)}function dy(t,e,n){const r=Object.assign(Object.assign({},T6()),{[e]:n});return new ll("auth","Firebase",r).create(e,{appName:t.name})}function Gn(t){return dy(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function S6(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Yt(t,"argument-error"),dy(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function fy(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return $A.create(t,...e)}function G(t,e,...n){if(!t)throw fy(e,...n)}function zn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Bu(e),new Error(e)}function sr(t,e){t||zn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function I6(){return fE()==="http:"||fE()==="https:"}function fE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A6(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(I6()||$O()||"connection"in navigator)?navigator.onLine:!0}function k6(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(e,n){this.shortDelay=e,this.longDelay=n,sr(n>e,"Short delay should be less than long delay!"),this.isMobile=FO()||zO()}get(){return A6()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function py(t,e){sr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;zn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;zn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;zn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C6={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R6=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],P6=new yl(3e4,6e4);function ri(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ii(t,e,n,r,i={}){return HA(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=ul(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},s);return BO()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&ni(t.emulatorConfig.host)&&(c.credentials="include"),zA.fetch()(await WA(t,t.config.apiHost,n,a),c)})}async function HA(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},C6),e);try{const i=new N6(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw fu(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw fu(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw fu(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw fu(t,"user-disabled",o);const h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw dy(t,h,c);Yt(t,h)}}catch(i){if(i instanceof bn)throw i;Yt(t,"network-request-failed",{message:String(i)})}}async function vl(t,e,n,r,i={}){const s=await ii(t,e,n,r,i);return"mfaPendingCredential"in s&&Yt(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function WA(t,e,n,r){const i=`${e}${n}?${r}`,s=t,o=s.config.emulator?py(t.config,i):`${t.config.apiScheme}://${i}`;return R6.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}function b6(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class N6{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(un(this.auth,"network-request-failed")),P6.get())})}}function fu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=un(t,e,r);return i.customData._tokenResponse=n,i}function pE(t){return t!==void 0&&t.enterprise!==void 0}class D6{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return b6(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function V6(t,e){return ii(t,"GET","/v2/recaptchaConfig",ri(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L6(t,e){return ii(t,"POST","/v1/accounts:delete",e)}async function Lc(t,e){return ii(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function da(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function O6(t,e=!1){const n=ze(t),r=await n.getIdToken(e),i=my(r);G(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:da(Gd(i.auth_time)),issuedAtTime:da(Gd(i.iat)),expirationTime:da(Gd(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Gd(t){return Number(t)*1e3}function my(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Bu("JWT malformed, contained fewer than 3 sections"),null;try{const i=WI(n);return i?JSON.parse(i):(Bu("Failed to decode base64 JWT payload"),null)}catch(i){return Bu("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function mE(t){const e=my(t);return G(e,"internal-error"),G(typeof e.exp<"u","internal-error"),G(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ka(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof bn&&M6(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function M6({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j6{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=da(this.lastLoginAt),this.creationTime=da(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oc(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Ka(t,Lc(n,{idToken:r}));G(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?qA(s.providerUserInfo):[],a=U6(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),h=l?c:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Op(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(t,d)}async function F6(t){const e=ze(t);await Oc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function U6(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function qA(t){return t.map(e=>{var{providerId:n}=e,r=hy(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B6(t,e){const n=await HA(t,{},async()=>{const r=ul({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=await WA(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&ni(t.emulatorConfig.host)&&(l.credentials="include"),zA.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function $6(t,e){return ii(t,"POST","/v2/accounts:revokeToken",ri(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){G(e.idToken,"internal-error"),G(typeof e.idToken<"u","internal-error"),G(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):mE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){G(e.length!==0,"internal-error");const n=mE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(G(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await B6(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new ks;return r&&(G(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(G(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(G(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ks,this.toJSON())}_performRefresh(){return zn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pr(t,e){G(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class on{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=hy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new j6(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Op(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Ka(this,this.stsTokenManager.getToken(this.auth,e));return G(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return O6(this,e)}reload(){return F6(this)}_assign(e){this!==e&&(G(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new on(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){G(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Oc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(It(this.auth.app))return Promise.reject(Gn(this.auth));const e=await this.getIdToken();return await Ka(this,L6(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,c,h;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,y=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,E=(o=n.photoURL)!==null&&o!==void 0?o:void 0,I=(a=n.tenantId)!==null&&a!==void 0?a:void 0,R=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,v=(c=n.createdAt)!==null&&c!==void 0?c:void 0,_=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:x,emailVerified:N,isAnonymous:L,providerData:M,stsTokenManager:S}=n;G(x&&S,e,"internal-error");const w=ks.fromJSON(this.name,S);G(typeof x=="string",e,"internal-error"),pr(d,e.name),pr(m,e.name),G(typeof N=="boolean",e,"internal-error"),G(typeof L=="boolean",e,"internal-error"),pr(y,e.name),pr(E,e.name),pr(I,e.name),pr(R,e.name),pr(v,e.name),pr(_,e.name);const A=new on({uid:x,auth:e,email:m,emailVerified:N,displayName:d,isAnonymous:L,photoURL:E,phoneNumber:y,tenantId:I,stsTokenManager:w,createdAt:v,lastLoginAt:_});return M&&Array.isArray(M)&&(A.providerData=M.map(k=>Object.assign({},k))),R&&(A._redirectEventId=R),A}static async _fromIdTokenResponse(e,n,r=!1){const i=new ks;i.updateFromServerResponse(n);const s=new on({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Oc(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];G(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?qA(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new ks;a.updateFromIdToken(r);const l=new on({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Op(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gE=new Map;function Hn(t){sr(t instanceof Function,"Expected a class definition");let e=gE.get(t);return e?(sr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,gE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}KA.type="NONE";const yE=KA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $u(t,e,n){return`firebase:${t}:${e}:${n}`}class Cs{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=$u(this.userKey,i.apiKey,s),this.fullPersistenceKey=$u("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Lc(this.auth,{idToken:e}).catch(()=>{});return n?on._fromGetAccountInfoResponse(this.auth,n,e):null}return on._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Cs(Hn(yE),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||Hn(yE);const o=$u(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const h=await c._get(o);if(h){let d;if(typeof h=="string"){const m=await Lc(e,{idToken:h}).catch(()=>{});if(!m)break;d=await on._fromGetAccountInfoResponse(e,m,h)}else d=on._fromJSON(e,h);c!==s&&(a=d),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Cs(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new Cs(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(XA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(GA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ZA(e))return"Blackberry";if(ek(e))return"Webos";if(QA(e))return"Safari";if((e.includes("chrome/")||YA(e))&&!e.includes("edge/"))return"Chrome";if(JA(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function GA(t=dt()){return/firefox\//i.test(t)}function QA(t=dt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function YA(t=dt()){return/crios\//i.test(t)}function XA(t=dt()){return/iemobile/i.test(t)}function JA(t=dt()){return/android/i.test(t)}function ZA(t=dt()){return/blackberry/i.test(t)}function ek(t=dt()){return/webos/i.test(t)}function gy(t=dt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function z6(t=dt()){var e;return gy(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function H6(){return HO()&&document.documentMode===10}function tk(t=dt()){return gy(t)||JA(t)||ek(t)||ZA(t)||/windows phone/i.test(t)||XA(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nk(t,e=[]){let n;switch(t){case"Browser":n=vE(dt());break;case"Worker":n=`${vE(dt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Bi}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W6{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q6(t,e={}){return ii(t,"GET","/v2/passwordPolicy",ri(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K6=6;class G6{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:K6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q6{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _E(this),this.idTokenSubscription=new _E(this),this.beforeStateQueue=new W6(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=$A,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Hn(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await Cs.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Lc(this,{idToken:e}),r=await on._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(It(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return G(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Oc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=k6()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(It(this.app))return Promise.reject(Gn(this));const n=e?ze(e):null;return n&&G(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&G(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return It(this.app)?Promise.reject(Gn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return It(this.app)?Promise.reject(Gn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Hn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await q6(this),n=new G6(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ll("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await $6(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Hn(e)||this._popupRedirectResolver;G(n,this,"argument-error"),this.redirectPersistenceManager=await Cs.create(this,[Hn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(G(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return G(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=nk(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(It(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&x6(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function si(t){return ze(t)}class _E{constructor(e){this.auth=e,this.observer=null,this.addObserver=JO(n=>this.observer=n)}get next(){return G(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ah={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Y6(t){Ah=t}function rk(t){return Ah.loadJS(t)}function X6(){return Ah.recaptchaEnterpriseScript}function J6(){return Ah.gapiScript}function Z6(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class eU{constructor(){this.enterprise=new tU}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class tU{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const nU="recaptcha-enterprise",ik="NO_RECAPTCHA";class rU{constructor(e){this.type=nU,this.auth=si(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{V6(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new D6(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;pE(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(ik)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new eU().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&pE(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=X6();l.length!==0&&(l+=a),rk(l).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function wE(t,e,n,r=!1,i=!1){const s=new rU(t);let o;if(i)o=ik;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Mp(t,e,n,r,i){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await wE(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await wE(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iU(t,e){const n=ch(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Ni(s,e??{}))return i;Yt(i,"already-initialized")}return n.initialize({options:e})}function sU(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Hn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function oU(t,e,n){const r=si(t);G(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=sk(e),{host:o,port:a}=aU(e),l=a===null?"":`:${a}`,c={url:`${s}//${o}${l}/`},h=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){G(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),G(Ni(c,r.config.emulator)&&Ni(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,ni(o)?(Tg(`${s}//${o}${l}`),xg("Auth",!0)):lU()}function sk(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function aU(t){const e=sk(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:EE(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:EE(o)}}}function EE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function lU(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return zn("not implemented")}_getIdTokenResponse(e){return zn("not implemented")}_linkToIdToken(e,n){return zn("not implemented")}_getReauthenticationResolver(e){return zn("not implemented")}}async function uU(t,e){return ii(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cU(t,e){return vl(t,"POST","/v1/accounts:signInWithPassword",ri(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hU(t,e){return vl(t,"POST","/v1/accounts:signInWithEmailLink",ri(t,e))}async function dU(t,e){return vl(t,"POST","/v1/accounts:signInWithEmailLink",ri(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga extends yy{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Ga(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Ga(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Mp(e,n,"signInWithPassword",cU);case"emailLink":return hU(e,{email:this._email,oobCode:this._password});default:Yt(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Mp(e,r,"signUpPassword",uU);case"emailLink":return dU(e,{idToken:n,email:this._email,oobCode:this._password});default:Yt(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rs(t,e){return vl(t,"POST","/v1/accounts:signInWithIdp",ri(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fU="http://localhost";class Oi extends yy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Oi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Yt("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=hy(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Oi(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Rs(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Rs(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Rs(e,n)}buildRequest(){const e={requestUri:fU,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ul(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pU(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function mU(t){const e=Bo($o(t)).link,n=e?Bo($o(e)).deep_link_id:null,r=Bo($o(t)).deep_link_id;return(r?Bo($o(r)).link:null)||r||n||e||t}class vy{constructor(e){var n,r,i,s,o,a;const l=Bo($o(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,h=(r=l.oobCode)!==null&&r!==void 0?r:null,d=pU((i=l.mode)!==null&&i!==void 0?i:null);G(c&&h&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=h,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.lang)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=mU(e);try{return new vy(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(){this.providerId=oo.PROVIDER_ID}static credential(e,n){return Ga._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=vy.parseLink(n);return G(r,"argument-error"),Ga._fromEmailAndCode(e,r.code,r.tenantId)}}oo.PROVIDER_ID="password";oo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";oo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l extends _y{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr extends _l{constructor(){super("facebook.com")}static credential(e){return Oi._fromParams({providerId:wr.PROVIDER_ID,signInMethod:wr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return wr.credentialFromTaggedObject(e)}static credentialFromError(e){return wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return wr.credential(e.oauthAccessToken)}catch{return null}}}wr.FACEBOOK_SIGN_IN_METHOD="facebook.com";wr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un extends _l{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Oi._fromParams({providerId:Un.PROVIDER_ID,signInMethod:Un.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Un.credentialFromTaggedObject(e)}static credentialFromError(e){return Un.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Un.credential(n,r)}catch{return null}}}Un.GOOGLE_SIGN_IN_METHOD="google.com";Un.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er extends _l{constructor(){super("github.com")}static credential(e){return Oi._fromParams({providerId:Er.PROVIDER_ID,signInMethod:Er.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Er.credentialFromTaggedObject(e)}static credentialFromError(e){return Er.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Er.credential(e.oauthAccessToken)}catch{return null}}}Er.GITHUB_SIGN_IN_METHOD="github.com";Er.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr extends _l{constructor(){super("twitter.com")}static credential(e,n){return Oi._fromParams({providerId:Tr.PROVIDER_ID,signInMethod:Tr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Tr.credentialFromTaggedObject(e)}static credentialFromError(e){return Tr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Tr.credential(n,r)}catch{return null}}}Tr.TWITTER_SIGN_IN_METHOD="twitter.com";Tr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gU(t,e){return vl(t,"POST","/v1/accounts:signUp",ri(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await on._fromIdTokenResponse(e,r,i),o=TE(r);return new Mi({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=TE(r);return new Mi({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function TE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc extends bn{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Mc.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Mc(e,n,r,i)}}function ok(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Mc._fromErrorAndOperation(t,s,e,r):s})}async function yU(t,e,n=!1){const r=await Ka(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Mi._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vU(t,e,n=!1){const{auth:r}=t;if(It(r.app))return Promise.reject(Gn(r));const i="reauthenticate";try{const s=await Ka(t,ok(r,i,e,t),n);G(s.idToken,r,"internal-error");const o=my(s.idToken);G(o,r,"internal-error");const{sub:a}=o;return G(t.uid===a,r,"user-mismatch"),Mi._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Yt(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ak(t,e,n=!1){if(It(t.app))return Promise.reject(Gn(t));const r="signIn",i=await ok(t,r,e),s=await Mi._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function _U(t,e){return ak(si(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lk(t){const e=si(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function wU(t,e,n){if(It(t.app))return Promise.reject(Gn(t));const r=si(t),o=await Mp(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",gU).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&lk(t),l}),a=await Mi._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function EU(t,e,n){return It(t.app)?Promise.reject(Gn(t)):_U(ze(t),oo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&lk(t),r})}function TU(t,e,n,r){return ze(t).onIdTokenChanged(e,n,r)}function xU(t,e,n){return ze(t).beforeAuthStateChanged(e,n)}function uk(t,e,n,r){return ze(t).onAuthStateChanged(e,n,r)}function SU(t){return ze(t).signOut()}const jc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ck{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(jc,"1"),this.storage.removeItem(jc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IU=1e3,AU=10;class hk extends ck{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=tk(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);H6()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,AU):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},IU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}hk.type="LOCAL";const kU=hk;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dk extends ck{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}dk.type="SESSION";const fk=dk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CU(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new kh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await CU(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}kh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wy(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RU{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=wy("",20);i.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const m=d;if(m.data.eventId===c)switch(m.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(m.data.response);break;default:clearTimeout(h),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function An(){return window}function PU(t){An().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pk(){return typeof An().WorkerGlobalScope<"u"&&typeof An().importScripts=="function"}async function bU(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function NU(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function DU(){return pk()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mk="firebaseLocalStorageDb",VU=1,Fc="firebaseLocalStorage",gk="fbase_key";class wl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ch(t,e){return t.transaction([Fc],e?"readwrite":"readonly").objectStore(Fc)}function LU(){const t=indexedDB.deleteDatabase(mk);return new wl(t).toPromise()}function jp(){const t=indexedDB.open(mk,VU);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Fc,{keyPath:gk})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Fc)?e(r):(r.close(),await LU(),e(await jp()))})})}async function xE(t,e,n){const r=Ch(t,!0).put({[gk]:e,value:n});return new wl(r).toPromise()}async function OU(t,e){const n=Ch(t,!1).get(e),r=await new wl(n).toPromise();return r===void 0?null:r.value}function SE(t,e){const n=Ch(t,!0).delete(e);return new wl(n).toPromise()}const MU=800,jU=3;class yk{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await jp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>jU)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return pk()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=kh._getInstance(DU()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await bU(),!this.activeServiceWorker)return;this.sender=new RU(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||NU()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await jp();return await xE(e,jc,"1"),await SE(e,jc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>xE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>OU(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>SE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Ch(i,!1).getAll();return new wl(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),MU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}yk.type="LOCAL";const FU=yk;new yl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vk(t,e){return e?Hn(e):(G(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey extends yy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Rs(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Rs(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Rs(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function UU(t){return ak(t.auth,new Ey(t),t.bypassAuthState)}function BU(t){const{auth:e,user:n}=t;return G(n,e,"internal-error"),vU(n,new Ey(t),t.bypassAuthState)}async function $U(t){const{auth:e,user:n}=t;return G(n,e,"internal-error"),yU(n,new Ey(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return UU;case"linkViaPopup":case"linkViaRedirect":return $U;case"reauthViaPopup":case"reauthViaRedirect":return BU;default:Yt(this.auth,"internal-error")}}resolve(e){sr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){sr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zU=new yl(2e3,1e4);async function HU(t,e,n){if(It(t.app))return Promise.reject(un(t,"operation-not-supported-in-this-environment"));const r=si(t);S6(t,e,_y);const i=vk(r,n);return new Ei(r,"signInViaPopup",e,i).executeNotNull()}class Ei extends _k{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Ei.currentPopupAction&&Ei.currentPopupAction.cancel(),Ei.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return G(e,this.auth,"internal-error"),e}async onExecution(){sr(this.filter.length===1,"Popup operations only handle one event");const e=wy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(un(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(un(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ei.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(un(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,zU.get())};e()}}Ei.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WU="pendingRedirect",zu=new Map;class qU extends _k{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=zu.get(this.auth._key());if(!e){try{const r=await KU(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}zu.set(this.auth._key(),e)}return this.bypassAuthState||zu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function KU(t,e){const n=YU(e),r=QU(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function GU(t,e){zu.set(t._key(),e)}function QU(t){return Hn(t._redirectPersistence)}function YU(t){return $u(WU,t.config.apiKey,t.name)}async function XU(t,e,n=!1){if(It(t.app))return Promise.reject(Gn(t));const r=si(t),i=vk(r,e),o=await new qU(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JU=10*60*1e3;class ZU{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!e3(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!wk(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(un(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=JU&&this.cachedEventUids.clear(),this.cachedEventUids.has(IE(e))}saveEventToCache(e){this.cachedEventUids.add(IE(e)),this.lastProcessedEventTime=Date.now()}}function IE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function wk({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function e3(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return wk(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t3(t,e={}){return ii(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,r3=/^https?/;async function i3(t){if(t.config.emulator)return;const{authorizedDomains:e}=await t3(t);for(const n of e)try{if(s3(n))return}catch{}Yt(t,"unauthorized-domain")}function s3(t){const e=Lp(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!r3.test(n))return!1;if(n3.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o3=new yl(3e4,6e4);function AE(){const t=An().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function a3(t){return new Promise((e,n)=>{var r,i,s;function o(){AE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{AE(),n(un(t,"network-request-failed"))},timeout:o3.get()})}if(!((i=(r=An().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=An().gapi)===null||s===void 0)&&s.load)o();else{const a=Z6("iframefcb");return An()[a]=()=>{gapi.load?o():n(un(t,"network-request-failed"))},rk(`${J6()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Hu=null,e})}let Hu=null;function l3(t){return Hu=Hu||a3(t),Hu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u3=new yl(5e3,15e3),c3="__/auth/iframe",h3="emulator/auth/iframe",d3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},f3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function p3(t){const e=t.config;G(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?py(e,h3):`https://${t.config.authDomain}/${c3}`,r={apiKey:e.apiKey,appName:t.name,v:Bi},i=f3.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${ul(r).slice(1)}`}async function m3(t){const e=await l3(t),n=An().gapi;return G(n,t,"internal-error"),e.open({where:document.body,url:p3(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:d3,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=un(t,"network-request-failed"),a=An().setTimeout(()=>{s(o)},u3.get());function l(){An().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},y3=500,v3=600,_3="_blank",w3="http://localhost";class kE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function E3(t,e,n,r=y3,i=v3){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},g3),{width:r.toString(),height:i.toString(),top:s,left:o}),c=dt().toLowerCase();n&&(a=YA(c)?_3:n),GA(c)&&(e=e||w3,l.scrollbars="yes");const h=Object.entries(l).reduce((m,[y,E])=>`${m}${y}=${E},`,"");if(z6(c)&&a!=="_self")return T3(e||"",a),new kE(null);const d=window.open(e||"",a,h);G(d,t,"popup-blocked");try{d.focus()}catch{}return new kE(d)}function T3(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x3="__/auth/handler",S3="emulator/auth/handler",I3=encodeURIComponent("fac");async function CE(t,e,n,r,i,s){G(t.config.authDomain,t,"auth-domain-config-required"),G(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Bi,eventId:i};if(e instanceof _y){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",XO(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,d]of Object.entries({}))o[h]=d}if(e instanceof _l){const h=e.getScopes().filter(d=>d!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const l=await t._getAppCheckToken(),c=l?`#${I3}=${encodeURIComponent(l)}`:"";return`${A3(t)}?${ul(a).slice(1)}${c}`}function A3({config:t}){return t.emulator?py(t,S3):`https://${t.authDomain}/${x3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qd="webStorageSupport";class k3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=fk,this._completeRedirectFn=XU,this._overrideRedirectResult=GU}async _openPopup(e,n,r,i){var s;sr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await CE(e,n,r,Lp(),i);return E3(e,o,wy())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await CE(e,n,r,Lp(),i);return PU(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(sr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await m3(e),r=new ZU(e);return n.register("authEvent",i=>(G(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Qd,{type:Qd},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Qd];o!==void 0&&n(!!o),Yt(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=i3(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return tk()||QA()||gy()}}const C3=k3;var RE="@firebase/auth",PE="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R3{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){G(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P3(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function b3(t){Di(new zr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;G(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:nk(t)},c=new Q6(r,i,s,l);return sU(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Di(new zr("auth-internal",e=>{const n=si(e.getProvider("auth").getImmediate());return(r=>new R3(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Tn(RE,PE,P3(t)),Tn(RE,PE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N3=5*60,D3=QI("authIdTokenMaxAge")||N3;let bE=null;const V3=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>D3)return;const i=n==null?void 0:n.token;bE!==i&&(bE=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function L3(t=Ag()){const e=ch(t,"auth");if(e.isInitialized())return e.getImmediate();const n=iU(t,{popupRedirectResolver:C3,persistence:[FU,kU,fk]}),r=QI("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=V3(s.toString());xU(n,o,()=>o(n.currentUser)),TU(n,a=>o(a))}}const i=qI("auth");return i&&oU(n,`http://${i}`),n}function O3(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Y6({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=un("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",O3().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});b3("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ek="firebasestorage.googleapis.com",Tk="storageBucket",M3=2*60*1e3,j3=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be extends bn{constructor(e,n,r=0){super(Yd(e),`Firebase Storage: ${n} (${Yd(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,be.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Yd(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Pe;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Pe||(Pe={}));function Yd(t){return"storage/"+t}function Ty(){const t="An unknown error occurred, please check the error payload for server response.";return new be(Pe.UNKNOWN,t)}function F3(t){return new be(Pe.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function U3(t){return new be(Pe.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function B3(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new be(Pe.UNAUTHENTICATED,t)}function $3(){return new be(Pe.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function z3(t){return new be(Pe.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function H3(){return new be(Pe.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function W3(){return new be(Pe.CANCELED,"User canceled the upload/download.")}function q3(t){return new be(Pe.INVALID_URL,"Invalid URL '"+t+"'.")}function K3(t){return new be(Pe.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function G3(){return new be(Pe.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Tk+"' property when initializing the app?")}function Q3(){return new be(Pe.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Y3(){return new be(Pe.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function X3(t){return new be(Pe.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Fp(t){return new be(Pe.INVALID_ARGUMENT,t)}function xk(){return new be(Pe.APP_DELETED,"The Firebase app was deleted.")}function J3(t){return new be(Pe.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function fa(t,e){return new be(Pe.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Do(t){throw new be(Pe.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Lt.makeFromUrl(e,n)}catch{return new Lt(e,"")}if(r.path==="")return r;throw K3(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(N){N.path.charAt(N.path.length-1)==="/"&&(N.path_=N.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function c(N){N.path_=decodeURIComponent(N.path)}const h="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",y=new RegExp(`^https?://${d}/${h}/b/${i}/o${m}`,"i"),E={bucket:1,path:3},I=n===Ek?"(?:storage.googleapis.com|storage.cloud.google.com)":n,R="([^?#]*)",v=new RegExp(`^https?://${I}/${i}/${R}`,"i"),x=[{regex:a,indices:l,postModify:s},{regex:y,indices:E,postModify:c},{regex:v,indices:{bucket:1,path:2},postModify:c}];for(let N=0;N<x.length;N++){const L=x[N],M=L.regex.exec(e);if(M){const S=M[L.indices.bucket];let w=M[L.indices.path];w||(w=""),r=new Lt(S,w),L.postModify(r);break}}if(r==null)throw q3(e);return r}}class Z3{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e5(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let c=!1;function h(...R){c||(c=!0,e.apply(null,R))}function d(R){i=setTimeout(()=>{i=null,t(y,l())},R)}function m(){s&&clearTimeout(s)}function y(R,...v){if(c){m();return}if(R){m(),h.call(null,R,...v);return}if(l()||o){m(),h.call(null,R,...v);return}r<64&&(r*=2);let x;a===1?(a=2,x=0):x=(r+Math.random())*1e3,d(x)}let E=!1;function I(R){E||(E=!0,m(),!c&&(i!==null?(R||(a=2),clearTimeout(i),d(0)):R||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,I(!0)},n),I}function t5(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n5(t){return t!==void 0}function r5(t){return typeof t=="object"&&!Array.isArray(t)}function xy(t){return typeof t=="string"||t instanceof String}function NE(t){return Sy()&&t instanceof Blob}function Sy(){return typeof Blob<"u"}function DE(t,e,n,r){if(r<e)throw Fp(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Fp(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iy(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function Sk(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Ai;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Ai||(Ai={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i5(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s5{constructor(e,n,r,i,s,o,a,l,c,h,d,m=!0,y=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=h,this.connectionFactory_=d,this.retry=m,this.isUsingEmulator=y,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((E,I)=>{this.resolve_=E,this.reject_=I,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new pu(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===Ai.NO_ERROR,l=s.getStatus();if(!a||i5(l,this.additionalRetryCodes_)&&this.retry){const h=s.getErrorCode()===Ai.ABORT;r(!1,new pu(!1,null,h));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new pu(c,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());n5(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=Ty();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?xk():W3();o(l)}else{const l=H3();o(l)}};this.canceled_?n(!1,new pu(!1,null,!0)):this.backoffId_=e5(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&t5(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class pu{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function o5(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function a5(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function l5(t,e){e&&(t["X-Firebase-GMPID"]=e)}function u5(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function c5(t,e,n,r,i,s,o=!0,a=!1){const l=Sk(t.urlParams),c=t.url+l,h=Object.assign({},t.headers);return l5(h,e),o5(h,n),a5(h,s),u5(h,r),new s5(c,t.method,h,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h5(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function d5(...t){const e=h5();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(Sy())return new Blob(t);throw new be(Pe.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function f5(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p5(t){if(typeof atob>"u")throw X3("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Xd{constructor(e,n){this.data=e,this.contentType=n||null}}function m5(t,e){switch(t){case gn.RAW:return new Xd(Ik(e));case gn.BASE64:case gn.BASE64URL:return new Xd(Ak(t,e));case gn.DATA_URL:return new Xd(y5(e),v5(e))}throw Ty()}function Ik(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function g5(t){let e;try{e=decodeURIComponent(t)}catch{throw fa(gn.DATA_URL,"Malformed data URL.")}return Ik(e)}function Ak(t,e){switch(t){case gn.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw fa(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case gn.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw fa(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=p5(e)}catch(i){throw i.message.includes("polyfill")?i:fa(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class kk{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw fa(gn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=_5(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function y5(t){const e=new kk(t);return e.base64?Ak(gn.BASE64,e.rest):g5(e.rest)}function v5(t){return new kk(t).contentType}function _5(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(e,n){let r=0,i="";NE(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(NE(this.data_)){const r=this.data_,i=f5(r,e,n);return i===null?null:new xr(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new xr(r,!0)}}static getBlob(...e){if(Sy()){const n=e.map(r=>r instanceof xr?r.data_:r);return new xr(d5.apply(null,n))}else{const n=e.map(o=>xy(o)?m5(gn.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new xr(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ck(t){let e;try{e=JSON.parse(t)}catch{return null}return r5(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w5(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function E5(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function Rk(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T5(t,e){return e}class gt{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||T5}}let mu=null;function x5(t){return!xy(t)||t.length<2?t:Rk(t)}function Pk(){if(mu)return mu;const t=[];t.push(new gt("bucket")),t.push(new gt("generation")),t.push(new gt("metageneration")),t.push(new gt("name","fullPath",!0));function e(s,o){return x5(o)}const n=new gt("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new gt("size");return i.xform=r,t.push(i),t.push(new gt("timeCreated")),t.push(new gt("updated")),t.push(new gt("md5Hash",null,!0)),t.push(new gt("cacheControl",null,!0)),t.push(new gt("contentDisposition",null,!0)),t.push(new gt("contentEncoding",null,!0)),t.push(new gt("contentLanguage",null,!0)),t.push(new gt("contentType",null,!0)),t.push(new gt("metadata","customMetadata",!0)),mu=t,mu}function S5(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new Lt(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function I5(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return S5(r,t),r}function bk(t,e,n){const r=Ck(e);return r===null?null:I5(t,r,n)}function A5(t,e,n,r){const i=Ck(e);if(i===null||!xy(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(c=>{const h=t.bucket,d=t.fullPath,m="/b/"+o(h)+"/o/"+o(d),y=Iy(m,n,r),E=Sk({alt:"media",token:c});return y+E})[0]}function k5(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class Nk{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dk(t){if(!t)throw Ty()}function C5(t,e){function n(r,i){const s=bk(t,i,e);return Dk(s!==null),s}return n}function R5(t,e){function n(r,i){const s=bk(t,i,e);return Dk(s!==null),A5(s,i,t.host,t._protocol)}return n}function Vk(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=$3():i=B3():n.getStatus()===402?i=U3(t.bucket):n.getStatus()===403?i=z3(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function P5(t){const e=Vk(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=F3(t.path)),s.serverResponse=i.serverResponse,s}return n}function b5(t,e,n){const r=e.fullServerUrl(),i=Iy(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new Nk(i,s,R5(t,n),o);return a.errorHandler=P5(e),a}function N5(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function D5(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=N5(null,e)),r}function V5(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let x="";for(let N=0;N<2;N++)x=x+Math.random().toString().slice(2);return x}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const c=D5(e,r,i),h=k5(c,n),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+h+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,m=`\r
--`+l+"--",y=xr.getBlob(d,r,m);if(y===null)throw Q3();const E={name:c.fullPath},I=Iy(s,t.host,t._protocol),R="POST",v=t.maxUploadRetryTime,_=new Nk(I,R,C5(t,n),v);return _.urlParams=E,_.headers=o,_.body=y.uploadData(),_.errorHandler=Vk(e),_}class L5{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ai.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ai.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ai.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i,s){if(this.sent_)throw Do("cannot .send() more than once");if(ni(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const o in s)s.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,s[o].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Do("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Do("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Do("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Do("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class O5 extends L5{initXhr(){this.xhr_.responseType="text"}}function Lk(){return new O5}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(e,n){this._service=e,n instanceof Lt?this._location=n:this._location=Lt.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new ji(e,n)}get root(){const e=new Lt(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Rk(this._location.path)}get storage(){return this._service}get parent(){const e=w5(this._location.path);if(e===null)return null;const n=new Lt(this._location.bucket,e);return new ji(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw J3(e)}}function M5(t,e,n){t._throwIfRoot("uploadBytes");const r=V5(t.storage,t._location,Pk(),new xr(e,!0),n);return t.storage.makeRequestWithTokens(r,Lk).then(i=>({metadata:i,ref:t}))}function j5(t){t._throwIfRoot("getDownloadURL");const e=b5(t.storage,t._location,Pk());return t.storage.makeRequestWithTokens(e,Lk).then(n=>{if(n===null)throw Y3();return n})}function F5(t,e){const n=E5(t._location.path,e),r=new Lt(t._location.bucket,n);return new ji(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U5(t){return/^[A-Za-z]+:\/\//.test(t)}function B5(t,e){return new ji(t,e)}function Ok(t,e){if(t instanceof Ay){const n=t;if(n._bucket==null)throw G3();const r=new ji(n,n._bucket);return e!=null?Ok(r,e):r}else return e!==void 0?F5(t,e):t}function $5(t,e){if(e&&U5(e)){if(t instanceof Ay)return B5(t,e);throw Fp("To use ref(service, url), the first argument must be a Storage instance.")}else return Ok(t,e)}function VE(t,e){const n=e==null?void 0:e[Tk];return n==null?null:Lt.makeFromBucketSpec(n,t)}function z5(t,e,n,r={}){t.host=`${e}:${n}`;const i=ni(e);i&&(Tg(`https://${t.host}/b`),xg("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:YI(s,t.app.options.projectId))}class Ay{constructor(e,n,r,i,s,o=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._isUsingEmulator=o,this._bucket=null,this._host=Ek,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=M3,this._maxUploadRetryTime=j3,this._requests=new Set,i!=null?this._bucket=Lt.makeFromBucketSpec(i,this._host):this._bucket=VE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Lt.makeFromBucketSpec(this._url,e):this._bucket=VE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){DE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){DE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(It(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ji(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new Z3(xk());{const o=c5(e,this._appId,r,i,n,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const LE="@firebase/storage",OE="0.13.13";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mk="storage";function H5(t,e,n){return t=ze(t),M5(t,e,n)}function W5(t){return t=ze(t),j5(t)}function q5(t,e){return t=ze(t),$5(t,e)}function K5(t=Ag(),e){t=ze(t);const r=ch(t,Mk).getImmediate({identifier:e}),i=KI("storage");return i&&G5(r,...i),r}function G5(t,e,n,r={}){z5(t,e,n,r)}function Q5(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new Ay(n,r,i,e,Bi)}function Y5(){Di(new zr(Mk,Q5,"PUBLIC").setMultipleInstances(!0)),Tn(LE,OE,""),Tn(LE,OE,"esm2017")}Y5();const X5={apiKey:"AIzaSyB4LeOrUHlsbL1sXDob5feJ82sUx4hB0bQ",authDomain:"stadium876-c42bf.firebaseapp.com",projectId:"stadium876-c42bf",storageBucket:"stadium876-c42bf.firebasestorage.app",messagingSenderId:"555557983522",appId:"1:555557983522:web:87bf09f2085c81f7b8c17b"},ky=ZI(X5),or=s6(ky),Ps=L3(ky),J5=K5(ky);async function Z5(t){const e=ml(or,"users",t),n=await cy(e);return n.exists()?n.data():null}function jk(){const[t,e]=C.useState(null);return C.useEffect(()=>{const n=uk(Ps,async r=>{if(r){const i=await Z5(r.uid);e((i==null?void 0:i.interests)||[])}else e([])});return()=>n()},[]),t}function Up(t,e){return t.map(n=>{const r=n.category&&e.includes(n.category.toLowerCase());return{...n,_score:r?3:1}}).sort((n,r)=>r._score-n._score)}const Vo=t=>({id:t.id,title:t.title||"",excerpt:t.content?t.content.split(`
`).slice(0,2).join(" ").slice(0,120)+(t.content.length>120?"...":""):"",category:t.category||"",imageUrl:t.imageUrl||"",author:t.author||"Unknown",authorImageUrl:t.authorImageUrl||"",date:t.createdAt instanceof ye?t.createdAt.toDate().toLocaleDateString():"seconds"in t.createdAt?new Date(t.createdAt.seconds*1e3).toLocaleDateString():"",readTime:t.readTime?String(t.readTime):"2"}),Lo=(t,e)=>t.filter(n=>n.category===e).sort((n,r)=>{const i=typeof n.clicks=="number"?n.clicks:0,s=typeof r.clicks=="number"?r.clicks:0;if(i!==s)return s-i;const o=n.createdAt instanceof ye?n.createdAt.toDate().getTime():"seconds"in n.createdAt?n.createdAt.seconds*1e3:0;return(r.createdAt instanceof ye?r.createdAt.toDate().getTime():"seconds"in r.createdAt?r.createdAt.seconds*1e3:0)-o}),e9=()=>{const[t,e]=C.useState([]),[n,r]=C.useState(!0),i=jk();if(C.useEffect(()=>{(async()=>{const m=Sh(pl(or,"articles")),y=await Ih(m);e(y.docs.map(E=>({id:E.id,...E.data()}))),r(!1)})()},[]),n||i===null)return p.jsx("div",{className:"text-center py-10",children:"Loading highlights..."});const s=Up(t,i),o=Lo(s,"Football").slice(0,2),a=Lo(s,"Netball").slice(0,2),l=Lo(s,"Basketball").slice(0,2),c=Lo(s,"Track and Field").slice(0,2),h=Lo(s,"Gaming").slice(0,2);return p.jsxs("div",{className:"space-y-10 ",children:[o.length>0&&p.jsxs("section",{id:"football",children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-yellow-400",children:"Football"}),p.jsxs("a",{href:"/football",className:"text-green-600 hover:text-green-700 font-medium text-sm flex items-center dark:text-yellow-400 dark:hover:text-yellow-500",children:["View all",p.jsx("svg",{className:"w-4 h-4 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:o.map((d,m)=>p.jsx(No,{...Vo(d),featured:m===0},d.id))})]}),a.length>0&&p.jsxs("section",{id:"netball",children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-yellow-400",children:"Netball"}),p.jsxs("a",{href:"/netball",className:"text-green-600 hover:text-green-700 font-medium text-sm flex items-center dark:text-yellow-400 dark:hover:text-yellow-500",children:["View all",p.jsx("svg",{className:"w-4 h-4 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:a.map((d,m)=>p.jsx(No,{...Vo(d),featured:m===0},d.id))})]}),l.length>0&&p.jsxs("section",{id:"basketball",children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-yellow-400",children:"Basketball"}),p.jsxs("a",{href:"/basketball",className:"text-green-600 hover:text-green-700 font-medium text-sm flex items-center dark:text-yellow-400 dark:hover:text-yellow-500",children:["View all",p.jsx("svg",{className:"w-4 h-4 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:l.map((d,m)=>p.jsx(No,{...Vo(d),featured:m===0},d.id))})]}),c.length>0&&p.jsxs("section",{id:"track-field",children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-yellow-400",children:"Track & Field"}),p.jsxs("a",{href:"/track-field",className:"text-green-600 hover:text-green-700 font-medium text-sm flex items-center dark:text-yellow-400 dark:hover:text-yellow-500",children:["View all",p.jsx("svg",{className:"w-4 h-4 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:c.map((d,m)=>p.jsx(No,{...Vo(d),featured:m===0},d.id))})]}),h.length>0&&p.jsxs("section",{id:"gaming",children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-yellow-400",children:"Gaming"}),p.jsxs("a",{href:"/gaming",className:"text-green-600 hover:text-green-700 font-medium text-sm flex items-center dark:text-yellow-400 dark:hover:text-yellow-500",children:["View all",p.jsx("svg",{className:"w-4 h-4 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:h.map((d,m)=>p.jsx(No,{...Vo(d),featured:m===0},d.id))})]})]})},t9=()=>{const t=[{title:"Are Our Athletes In Trouble?",category:"Track & Field",imageUrl:"https://firebasestorage.googleapis.com/v0/b/stadium876-c42bf.firebasestorage.app/o/article-images%2F1750490673810_trk.jpeg?alt=media&token=73a79f23-3fbc-49fd-a5e1-40c930e55dc8",date:"June 21, 2024"}];return p.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[p.jsx("h2",{className:"text-2xl font-bold mb-6 pb-2 border-b border-gray-200 text-gray-900 dark:text-yellow-400",children:"Trending Now"}),p.jsx("div",{className:"space-y-6",children:t.map((e,n)=>p.jsxs("div",{className:"flex gap-4",children:[p.jsx("div",{className:"flex-none w-24 h-24",children:p.jsx("img",{src:e.imageUrl,alt:e.title,className:"w-full h-full object-cover rounded"})}),p.jsxs("div",{className:"flex-grow",children:[p.jsx("span",{className:"text-xs font-medium text-green-600 mb-1 block",children:e.category}),p.jsx("h3",{className:"font-bold text-base mb-1 line-clamp-2",children:e.title}),p.jsx("p",{className:"text-xs text-gray-500",children:e.date})]})]},n))}),p.jsxs("div",{className:"mt-8 bg-white rounded-lg p-5",children:[p.jsx("h3",{className:"font-bold text-lg mb-3 text-gray-900",children:"Newsletter"}),p.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Get the latest sports news delivered to your inbox weekly."}),p.jsxs("form",{className:"space-y-3",children:[p.jsx("input",{type:"email",placeholder:"Your email address",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent"}),p.jsx("button",{type:"submit",className:"w-full bg-yellow-500 hover:bg-yellow-600 text-black font-medium py-2 px-4 rounded-md transition duration-300",children:"Subscribe"})]})]})]})},n9=()=>p.jsx("footer",{className:"bg-black text-white py-8 mt-8",children:p.jsxs("div",{className:"container mx-auto px-4 lg:px-6 py-12",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[p.jsxs("div",{children:[p.jsx("h2",{className:"text-2xl font-extrabold mb-4 bg-clip-text text-transparent bg-gradient-to-r from-green-500 via-yellow-400 to-white",children:"Stadium876"}),p.jsx("p",{className:"text-gray-400 mb-4",children:"Your premier destination for Jamaican sports news, analysis, and commentary."}),p.jsxs("div",{className:"flex space-x-4",children:[p.jsx(gu,{href:"https://facebook.com",icon:p.jsx(_O,{className:"h-5 w-5"})}),p.jsx(gu,{href:"https://twitter.com/stadium876",icon:p.jsx(TO,{className:"h-5 w-5"})}),p.jsx(gu,{href:"https://www.instagram.com/stadium876/",icon:p.jsx(wO,{className:"h-5 w-5"})}),p.jsx(gu,{href:"https://www.youtube.com/@stadium876",icon:p.jsx(SO,{className:"h-5 w-5"})})]})]}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-lg font-bold mb-4",children:"Sports"}),p.jsxs("ul",{className:"space-y-2",children:[p.jsx(Tt,{href:"/football",children:"Football"}),p.jsx(Tt,{href:"/netball",children:"Netball"}),p.jsx(Tt,{href:"/basketball",children:"Basketball"}),p.jsx(Tt,{href:"/track-field",children:"Track & Field"}),p.jsx(Tt,{href:"/gaming",children:"Gaming"})]})]}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-lg font-bold mb-4",children:"Company"}),p.jsxs("ul",{className:"space-y-2",children:[p.jsx(Tt,{href:"/about",children:"About Us"}),p.jsx(Tt,{href:"/team",children:"Our Team"}),p.jsx(Tt,{href:"/careers",children:"Careers"}),p.jsx(Tt,{href:"/advertise",children:"Advertise"}),p.jsx(Tt,{href:"/contact",children:"Contact"})]})]}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-lg font-bold mb-4",children:"Legal"}),p.jsxs("ul",{className:"space-y-2",children:[p.jsx(Tt,{href:"/terms",children:"Terms of Service"}),p.jsx(Tt,{href:"/privacy",children:"Privacy Policy"}),p.jsx(Tt,{href:"/cookies",children:"Cookie Policy"}),p.jsx(Tt,{href:"/accessibility",children:"Accessibility"})]})]})]}),p.jsx("div",{className:"border-t border-gray-800 mt-12 pt-8 text-center text-gray-400 text-sm",children:p.jsxs("p",{children:[" ",new Date().getFullYear()," Stadium876. All rights reserved."]})})]})}),gu=({href:t,icon:e})=>p.jsx("a",{href:t,className:"bg-gray-800 p-2 rounded-full hover:bg-green-600 transition-colors duration-300","aria-label":"Social media",children:e}),Tt=({href:t,children:e})=>p.jsx("li",{children:p.jsx("a",{href:t,className:"text-gray-400 hover:text-yellow-400 transition-colors duration-300",children:e})}),r9=[{key:"football",label:"Football",icon:""},{key:"netball",label:"Netball",icon:""},{key:"basketball",label:"Basketball",icon:""},{key:"gaming",label:"Gaming",icon:""}],i9=[{key:"articles",label:"Articles",icon:""},{key:"stats",label:"Player/Team Stats",icon:""},{key:"predictions",label:"Match Predictions",icon:""},{key:"fantasy",label:"Fantasy Football",icon:""},{key:"liveScores",label:"Live Scores",icon:""},{key:"tournaments",label:"Tournaments/Esports",icon:""},{key:"notifications",label:"Notifications",icon:""}],s9=({uid:t,email:e})=>{const[n,r]=C.useState([]),[i,s]=C.useState([]),[o,a]=C.useState(!1),l=rh(),c=m=>{r(y=>y.includes(m)?y.filter(E=>E!==m):[...y,m])},h=m=>{s(y=>y.includes(m)?y.filter(E=>E!==m):[...y,m])},d=async m=>{m.preventDefault(),a(!0);const y={uid:t,email:e,interests:n,features:i};await _6(ml(or,"users",t),y,{merge:!0}),a(!1),l("/")};return p.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-black via-gray-900 to-emerald-900 relative overflow-hidden",children:[p.jsxs("div",{className:"absolute inset-0 opacity-10",children:[p.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-gradient-to-r from-yellow-400 to-amber-400 rounded-full blur-3xl animate-pulse"}),p.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-80 h-80 bg-gradient-to-r from-emerald-400 to-green-400 rounded-full blur-3xl animate-pulse delay-1000"}),p.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-72 h-72 bg-gradient-to-r from-yellow-300 to-green-300 rounded-full blur-3xl animate-pulse delay-2000"})]}),p.jsxs("div",{className:"relative z-10 bg-gradient-to-b from-gray-900/95 to-black/95 backdrop-blur-sm p-10 rounded-2xl shadow-2xl w-full max-w-2xl border border-emerald-500/30 hover:border-yellow-400/50 transition-all duration-500",children:[p.jsxs("div",{className:"text-center mb-10",children:[p.jsx("h2",{className:"text-4xl font-black mb-3 bg-gradient-to-r from-emerald-400 via-yellow-400 to-emerald-400 bg-clip-text text-transparent animate-pulse",children:"Personalize Your Experience"}),p.jsx("p",{className:"text-gray-300 text-lg font-medium",children:"Choose your interests to get a tailored experience"}),p.jsx("div",{className:"w-24 h-1 bg-gradient-to-r from-emerald-400 to-yellow-400 mx-auto mt-4 rounded-full"})]}),p.jsxs("form",{onSubmit:d,className:"space-y-10",children:[p.jsxs("div",{className:"space-y-4",children:[p.jsx("label",{className:"block text-emerald-300 font-bold text-xl mb-6 text-center",children:" What sports ignite your passion?"}),p.jsx("div",{className:"grid grid-cols-2 gap-4",children:r9.map(m=>p.jsxs("label",{className:`group cursor-pointer transition-all duration-300 transform hover:scale-105 ${n.includes(m.key)?"bg-gradient-to-r from-emerald-600 to-green-600 shadow-lg shadow-emerald-500/50 scale-105":"bg-gradient-to-r from-gray-800 to-gray-700 hover:from-emerald-900 hover:to-green-900"} p-6 rounded-xl border-2 ${n.includes(m.key)?"border-yellow-400 shadow-yellow-400/30":"border-gray-600 hover:border-emerald-500"}`,children:[p.jsx("input",{type:"checkbox",checked:n.includes(m.key),onChange:()=>c(m.key),className:"sr-only"}),p.jsxs("div",{className:"flex items-center justify-center space-x-3",children:[p.jsx("span",{className:"text-3xl",children:m.icon}),p.jsx("span",{className:`font-bold text-lg ${n.includes(m.key)?"text-yellow-200":"text-gray-200 group-hover:text-emerald-200"}`,children:m.label})]}),n.includes(m.key)&&p.jsx("div",{className:"mt-2 text-center",children:p.jsx("span",{className:"inline-block w-2 h-2 bg-yellow-400 rounded-full animate-ping"})})]},m.key))})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsx("label",{className:"block text-yellow-300 font-bold text-xl mb-6 text-center",children:" What features excite you most?"}),p.jsx("div",{className:"grid grid-cols-2 gap-3",children:i9.map(m=>p.jsxs("label",{className:`group cursor-pointer transition-all duration-300 transform hover:scale-105 ${i.includes(m.key)?"bg-gradient-to-r from-yellow-600 to-amber-600 shadow-lg shadow-yellow-500/50 scale-105":"bg-gradient-to-r from-gray-800 to-gray-700 hover:from-yellow-900 hover:to-amber-900"} p-4 rounded-xl border-2 ${i.includes(m.key)?"border-emerald-400 shadow-emerald-400/30":"border-gray-600 hover:border-yellow-500"}`,children:[p.jsx("input",{type:"checkbox",checked:i.includes(m.key),onChange:()=>h(m.key),className:"sr-only"}),p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsx("span",{className:"text-2xl",children:m.icon}),p.jsx("span",{className:`font-semibold ${i.includes(m.key)?"text-emerald-200":"text-gray-200 group-hover:text-yellow-200"}`,children:m.label})]}),i.includes(m.key)&&p.jsx("div",{className:"mt-1 text-right",children:p.jsx("span",{className:"inline-block w-2 h-2 bg-emerald-400 rounded-full animate-ping"})})]},m.key))})]}),p.jsx("div",{className:"pt-6",children:p.jsx("button",{type:"submit",className:`w-full font-black py-4 px-8 rounded-xl transition-all duration-300 transform hover:scale-105 text-lg ${o?"bg-gray-600 cursor-not-allowed":"bg-gradient-to-r from-emerald-600 via-yellow-500 to-emerald-600 hover:from-emerald-500 hover:via-yellow-400 hover:to-emerald-500 shadow-lg hover:shadow-2xl"} text-black border-2 border-yellow-400 hover:border-emerald-400`,disabled:o,children:o?p.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[p.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-black"}),p.jsx("span",{children:"Saving Your Preferences..."})]}):p.jsxs("span",{className:"flex items-center justify-center space-x-2",children:[p.jsx("span",{children:""}),p.jsx("span",{children:"Let's Get Started!"}),p.jsx("span",{children:""})]})})})]}),p.jsxs("div",{className:"mt-8 text-center",children:[p.jsxs("p",{className:"text-gray-400 text-sm",children:["Selected: ",n.length," sports, ",i.length," features"]}),p.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2 mt-2",children:p.jsx("div",{className:"bg-gradient-to-r from-emerald-400 to-yellow-400 h-2 rounded-full transition-all duration-500",style:{width:`${Math.min((n.length+i.length)/11*100,100)}%`}})})]})]})]})},o9=()=>{const[t,e]=C.useState(!0),[n,r]=C.useState(""),[i,s]=C.useState(""),[o,a]=C.useState(""),[l,c]=C.useState(!1),[h,d]=C.useState(!1),[m,y]=C.useState(null),E=rh(),I=async R=>{R.preventDefault(),a(""),c(!0);try{if(t)await EU(Ps,n,i),E("/");else{const v=await wU(Ps,n,i);y({uid:v.user.uid,email:n}),d(!0);return}}catch(v){v instanceof Error?a(v.message):a("An unknown error occurred.")}finally{c(!1)}};return h&&m?p.jsx(s9,{uid:m.uid,email:m.email}):p.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-green-50 via-yellow-100 to-green-200 dark:from-black dark:via-gray-900 dark:to-black",children:p.jsxs("div",{className:"bg-white dark:bg-black p-8 rounded-lg shadow-md w-full max-w-md border border-green-200 dark:border-yellow-600",children:[p.jsx("h2",{className:"text-2xl font-extrabold mb-6 text-center bg-clip-text text-transparent bg-gradient-to-r from-green-600 via-yellow-500 to-black dark:from-green-400 dark:via-yellow-400 dark:to-white",children:t?"Login":"Sign Up"}),o&&p.jsx("div",{className:"mb-4 text-red-600 text-sm text-center",children:o}),p.jsxs("form",{onSubmit:I,className:"space-y-4",children:[p.jsx("input",{type:"email",placeholder:"Email",value:n,onChange:R=>r(R.target.value),className:"w-full px-3 py-2 border border-green-300 dark:border-yellow-500 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 dark:focus:ring-yellow-500 dark:bg-black dark:text-yellow-400 bg-gradient-to-r from-green-50 via-yellow-50 to-white",required:!0}),p.jsx("input",{type:"password",placeholder:"Password",value:i,onChange:R=>s(R.target.value),className:"w-full px-3 py-2 border border-green-300 dark:border-yellow-500 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 dark:focus:ring-yellow-500 dark:bg-black dark:text-yellow-400 bg-gradient-to-r from-green-50 via-yellow-50 to-white",required:!0}),p.jsx("button",{type:"submit",className:"w-full bg-gradient-to-r from-green-600 via-yellow-500 to-black hover:from-green-700 hover:via-yellow-600 hover:to-black text-white font-bold py-2 px-4 rounded-md transition duration-300 shadow-lg",disabled:l,children:l?t?"Logging in...":"Signing up...":t?"Login":"Sign Up"})]}),p.jsx("div",{className:"mt-4 text-center",children:p.jsx("button",{className:"text-sm bg-clip-text text-transparent bg-gradient-to-r from-green-600 via-yellow-500 to-black font-bold hover:underline dark:from-green-400 dark:via-yellow-400 dark:to-white",onClick:()=>e(!t),disabled:l,children:t?"Don't have an account? Sign Up":"Already have an account? Login"})})]})})},Fk="https://www.thesportsdb.com/api/v1/json/123";async function Uk(){return(await(await fetch(`${Fk}/all_leagues.php`)).json()).leagues.filter(n=>n.strSport==="Soccer")}async function Bk(t,e){const n=`${Fk}/eventsday.php?d=${e}&l=${encodeURIComponent(t)}`;return(await(await fetch(n)).json()).events||[]}const $k=()=>p.jsx("header",{className:"bg-[#1a1a1a] text-white",children:p.jsx("div",{className:"container mx-auto px-4",children:p.jsx("div",{className:"flex items-center justify-between h-14",children:p.jsx("div",{className:"flex items-center space-x-8",children:p.jsx("a",{href:"/",className:"flex items-center"})})})})}),zk=({children:t})=>p.jsx("div",{className:"bg-[#1a1a1a] border-b border-gray-800",children:p.jsx("div",{className:"container mx-auto px-4 py-3",children:p.jsx("div",{className:"flex items-center space-x-4 text-white overflow-x-auto mb-6",children:t})})}),a9=({homeTeam:t,awayTeam:e,homeScore:n,awayScore:r,date:i})=>p.jsxs("div",{className:"bg-white border-b border-gray-200 py-2 px-4 hover:bg-gray-50 cursor-pointer",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[p.jsx("div",{className:"w-6 h-6 bg-gray-200 rounded-full"}),p.jsx("span",{className:"font-medium text-sm",children:t})]}),p.jsxs("div",{className:"flex items-center justify-center space-x-2 w-16",children:[p.jsx("span",{className:"font-medium text-sm",children:n}),p.jsx("span",{className:"text-xs text-gray-500",children:"-"}),p.jsx("span",{className:"font-medium text-sm",children:r})]}),p.jsxs("div",{className:"flex items-center space-x-3 flex-1 justify-end",children:[p.jsx("span",{className:"font-medium text-sm",children:e}),p.jsx("div",{className:"w-6 h-6 bg-gray-200 rounded-full"})]})]}),p.jsx("div",{className:"text-xs text-gray-500 text-center mt-1",children:new Date(i).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})})]}),Hk=({leagueName:t,matches:e,matchweek:n})=>p.jsx("div",{className:"bg-white border-b border-gray-200",children:p.jsxs("div",{className:"container mx-auto",children:[p.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-200",children:[p.jsxs("div",{className:"flex items-center space-x-4",children:[p.jsx("h2",{className:"font-bold text-sm",children:t}),n&&p.jsx("span",{className:"text-xs text-gray-500",children:n})]}),p.jsx("button",{className:"text-xs text-gray-600 hover:text-gray-900",children:"View All"})]}),p.jsx("div",{className:"divide-y divide-gray-100",children:e.map((r,i)=>p.jsx(a9,{homeTeam:r.homeTeam,awayTeam:r.awayTeam,homeScore:r.homeScore,awayScore:r.awayScore,date:r.date},i))})]})}),El=({category:t})=>{const[e,n]=C.useState([]),[r,i]=C.useState(!0);return C.useEffect(()=>{(async()=>{const o=Sh(pl(or,"articles"),uy("createdAt","desc")),l=(await Ih(o)).docs.map(c=>({id:c.id,...c.data()}));n(l.filter(c=>c.category===t)),i(!1)})()},[t]),r?p.jsx("div",{className:"text-center py-4",children:"Loading articles..."}):e.length===0?p.jsx("div",{className:"text-center py-4 text-gray-500",children:"No articles yet for this section."}):p.jsxs("section",{className:"mb-8",children:[p.jsx("h2",{className:"text-2xl font-bold mb-4 text-green-700",children:"Articles"}),p.jsx("div",{className:"flex flex-col gap-6",children:e.map(s=>{let o=s.content.split(`
`).slice(0,2).join(" ");return o.length>120&&(o=o.slice(0,120)+"..."),p.jsxs("div",{className:"bg-white rounded-xl shadow p-4 flex flex-col gap-2",children:[s.imageUrl&&p.jsx("img",{src:s.imageUrl,alt:s.title,className:"w-full h-40 object-cover rounded mb-2"}),p.jsx("h3",{className:"text-lg font-bold text-gray-900",children:s.title}),p.jsx("div",{className:"text-gray-700 mb-2 whitespace-pre-line",children:o}),p.jsx(rl,{to:`/article/${s.id}`,className:"text-green-700 font-semibold hover:underline",children:"Read more"})]},s.id)})})]})},l9="2025-05-25",u9=()=>{const[t,e]=C.useState([]),[n,r]=C.useState(""),[i,s]=C.useState(l9),[o,a]=C.useState([]),[l,c]=C.useState(!1),[h,d]=C.useState("");return C.useEffect(()=>{Uk().then(m=>{e(m),m.length>0&&r(m[0].strLeague)})},[]),C.useEffect(()=>{n&&(c(!0),d(""),Bk(n,i).then(m=>{a((m||[]).map(y=>({homeTeam:y.strHomeTeam,awayTeam:y.strAwayTeam,homeScore:y.intHomeScore??"-",awayScore:y.intAwayScore??"-",date:y.dateEvent+" "+(y.strTime||"")})))}).catch(()=>d("Failed to load results")).finally(()=>c(!1)))},[n,i]),p.jsxs("div",{className:"bg-gray-50 min-h-screen w-full",children:[p.jsx($k,{}),p.jsxs(zk,{children:[t.slice(0,5).map(m=>p.jsx("button",{className:`text-sm font-medium px-3 py-1 rounded-full whitespace-nowrap transition-colors duration-200 ${n===m.strLeague?"bg-green-700 text-white":"bg-gray-800 hover:bg-green-600 text-white"}`,onClick:()=>r(m.strLeague),children:m.strLeague},m.idLeague)),p.jsx("div",{className:"ml-4",children:p.jsx("input",{type:"date",className:"border-0 rounded-full px-4 py-1 text-gray-800 focus:outline-none focus:ring-2 focus:ring-green-600 bg-white shadow transition-all duration-200 hover:ring-2 hover:ring-green-400 cursor-pointer",value:i,onChange:m=>s(m.target.value),max:new Date().toISOString().split("T")[0],style:{minWidth:140}})})]}),p.jsxs("div",{className:"container mx-auto px-4",children:[p.jsx(Hk,{leagueName:n,matches:o,matchweek:void 0}),p.jsx("div",{className:"flex flex-col gap-8 mt-8"}),p.jsx("div",{className:"max-w-3xl mx-auto py-10 px-4",children:p.jsx(El,{category:"Football"})})]})]})},c9=()=>p.jsxs("div",{className:"bg-gray-50 min-h-screen w-full",children:[p.jsxs("div",{className:"w-full bg-black relative overflow-hidden",children:[p.jsx("div",{className:"absolute inset-0 z-0",children:p.jsx("img",{src:"https://images.unsplash.com/photo-1517649763962-0c623066013b?auto=format&fit=crop&w=1500&q=80",alt:"Netball court",className:"w-full h-full object-cover opacity-50"})}),p.jsxs("div",{className:"container mx-auto px-4 py-16 md:py-24 relative z-10 flex flex-col items-center text-center",children:[p.jsxs("div",{className:"mb-4 flex space-x-1",children:[p.jsx("div",{className:"w-4 h-4 bg-black rounded-full"}),p.jsx("div",{className:"w-4 h-4 bg-green-600 rounded-full"}),p.jsx("div",{className:"w-4 h-4 bg-yellow-400 rounded-full"})]}),p.jsx("h1",{className:"text-4xl md:text-6xl font-bold text-white mb-4",children:"Jamaican & World Netball"}),p.jsx("p",{className:"text-xl md:text-2xl text-gray-200 mb-8 max-w-2xl",children:"Discover the latest news, competitions, and highlights from Jamaica and the global netball scene."})]})]}),p.jsxs("div",{className:"max-w-3xl mx-auto py-10 px-4",children:[p.jsxs("section",{className:"mb-8",children:[p.jsx("h2",{className:"text-2xl font-semibold mb-2 text-green-700 dark:text-yellow-400",children:"About Netball"}),p.jsx("p",{className:"mb-2 text-gray-700",children:"Netball is a fast-paced team sport, primarily played by women, with over 20 million players in more than 80 countries. It is especially popular in Commonwealth nations, including Jamaica, Australia, New Zealand, and England."}),p.jsx("p",{className:"mb-2 text-gray-700",children:"The game is played between two teams of seven players, aiming to score goals by passing a ball and shooting it through a raised hoop. Netball is known for its speed, skill, and teamwork."})]}),p.jsxs("section",{className:"mb-8",children:[p.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Jamaican Netball Highlights"}),p.jsxs("ul",{className:"list-disc ml-6 mb-2 text-gray-700",children:[p.jsx("li",{children:"Sunshine Girls: Jamaicas national team, consistently ranked among the worlds best, with multiple World Cup and Commonwealth Games medals."}),p.jsx("li",{children:"Local Leagues: Netball is played at schools and clubs across Jamaica, developing top talent for the national team."}),p.jsx("li",{children:"Youth & Development: Grassroots programs nurture the next generation of netball stars."})]})]}),p.jsxs("section",{className:"mb-8",children:[p.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Major Competitions"}),p.jsxs("ul",{className:"list-disc ml-6 mb-2 text-gray-700",children:[p.jsxs("li",{children:[p.jsx("strong",{children:"Netball World Cup:"})," The premier international tournament, held every four years."]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Commonwealth Games:"})," Netball is a core sport, with Jamaica regularly contending for medals."]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Fast5 Netball World Series:"})," A fast-paced, modified version of the game featuring top nations."]})]})]}),p.jsxs("section",{className:"mb-8",children:[p.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Stay Updated"}),p.jsx("p",{className:"mb-2 text-gray-700",children:"Get the latest news, scores, and fixtures from trusted sources:"}),p.jsxs("ul",{className:"list-disc ml-6 text-green-700",children:[p.jsx("li",{children:p.jsx("a",{href:"https://netballjamaica.com/",className:"underline",target:"_blank",rel:"noopener noreferrer",children:"Netball Jamaica"})}),p.jsx("li",{children:p.jsx("a",{href:"https://www.bbc.com/sport/netball",className:"underline",target:"_blank",rel:"noopener noreferrer",children:"BBC Sport Netball"})}),p.jsx("li",{children:p.jsx("a",{href:"https://netball.sport/",className:"underline",target:"_blank",rel:"noopener noreferrer",children:"World Netball"})})]})]}),p.jsxs("section",{className:"mb-8",children:[p.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Learn More"}),p.jsxs("ul",{className:"list-disc ml-6",children:[p.jsx("li",{children:p.jsx("a",{href:"https://en.wikipedia.org/wiki/Netball",className:"text-green-700 underline",target:"_blank",rel:"noopener noreferrer",children:"Wikipedia: Netball"})}),p.jsx("li",{children:p.jsx("a",{href:"https://netball.sport/",className:"text-green-700 underline",target:"_blank",rel:"noopener noreferrer",children:"World Netball Official Site"})}),p.jsx("li",{children:p.jsx("a",{href:"https://www.britannica.com/sports/netball",className:"text-green-700 underline",target:"_blank",rel:"noopener noreferrer",children:"Britannica: Netball"})})]})]}),p.jsx(El,{category:"Netball"})]})]}),h9="2025-05-25",d9=()=>{const[t,e]=C.useState([]),[n,r]=C.useState(""),[i,s]=C.useState(h9),[o,a]=C.useState([]);return C.useEffect(()=>{Uk().then(l=>{const c=l.filter(h=>h.strSport==="Basketball");e(c),c.length>0&&r(c[0].strLeague)})},[]),C.useEffect(()=>{n&&Bk(n,i).then(l=>{a((l||[]).map(c=>({homeTeam:c.strHomeTeam,awayTeam:c.strAwayTeam,homeScore:c.intHomeScore??"-",awayScore:c.intAwayScore??"-",date:c.dateEvent+" "+(c.strTime||"")})))})},[n,i]),p.jsxs("div",{className:"bg-gray-50 min-h-screen w-full",children:[p.jsx($k,{}),p.jsx("div",{className:"w-full bg-gradient-to-r from-black via-yellow-500 to-green-600 py-2 flex justify-center items-center shadow-md",children:p.jsxs("button",{type:"button",className:`flex items-center gap-2 px-6 py-1 rounded-full font-bold text-lg shadow transition bg-white/90 hover:bg-white text-black
            ${n==="NBA"?"ring-4 ring-green-700 ring-opacity-60 scale-105":""}`,onClick:()=>r("NBA"),children:[p.jsx("img",{src:"https://images.ctfassets.net/h8q6lxmb5akt/5qXnOINbPrHKXWa42m6NOa/421ab176b501f5bdae71290a8002545c/nba-logo_2x.png",alt:"NBA Logo",className:"h-7 w-auto"}),"NBA"]})}),p.jsxs(zk,{children:[t.slice(0,5).map(l=>p.jsx("button",{className:`text-sm font-medium px-3 py-1 rounded-full whitespace-nowrap transition-colors duration-200 ${n===l.strLeague?"bg-green-700 text-white":"bg-gray-800 hover:bg-green-600 text-white"}`,onClick:()=>r(l.strLeague),children:l.strLeague},l.idLeague)),p.jsx("div",{className:"ml-4",children:p.jsx("input",{type:"date",className:"border-0 rounded-full px-4 py-1 text-gray-800 focus:outline-none focus:ring-2 focus:ring-green-600 bg-white shadow transition-all duration-200 hover:ring-2 hover:ring-green-400 cursor-pointer",value:i,onChange:l=>s(l.target.value),max:new Date().toISOString().split("T")[0],style:{minWidth:140}})})]}),p.jsxs("div",{className:"container mx-auto px-4",children:[p.jsx(Hk,{leagueName:n,matches:o,matchweek:void 0}),p.jsx("div",{className:"max-w-3xl mx-auto py-10 px-4",children:p.jsx(El,{category:"Basketball"})})]})]})},f9=()=>p.jsxs("div",{className:"bg-gray-50 min-h-screen w-full",children:[p.jsxs("div",{className:"w-full bg-black relative overflow-hidden",children:[p.jsx("div",{className:"absolute inset-0 z-0",children:p.jsx("img",{src:"https://images.unsplash.com/photo-1506744038136-46273834b3fb?auto=format&fit=crop&w=1500&q=80",alt:"Track and field stadium",className:"w-full h-full object-cover opacity-50"})}),p.jsxs("div",{className:"container mx-auto px-4 py-16 md:py-24 relative z-10 flex flex-col items-center text-center",children:[p.jsxs("div",{className:"mb-4 flex space-x-1",children:[p.jsx("div",{className:"w-4 h-4 bg-black rounded-full"}),p.jsx("div",{className:"w-4 h-4 bg-green-600 rounded-full"}),p.jsx("div",{className:"w-4 h-4 bg-yellow-400 rounded-full"})]}),p.jsx("h1",{className:"text-4xl md:text-6xl font-bold text-white mb-4",children:"Jamaican & World Track & Field"}),p.jsx("p",{className:"text-xl md:text-2xl text-gray-200 mb-8 max-w-2xl",children:"Follow the latest news, competitions, and highlights from Jamaica and the global athletics stage."})]})]}),p.jsxs("div",{className:"max-w-3xl mx-auto py-10 px-4",children:[p.jsxs("section",{className:"mb-8",children:[p.jsx("h2",{className:"text-2xl font-semibold mb-2 text-green-700 dark:text-yellow-400",children:"About Track & Field"}),p.jsx("p",{className:"mb-2 text-gray-700",children:"Track and field is a collection of athletic contests based on running, jumping, and throwing. It is one of the oldest sports, with roots in ancient Olympic Games, and is a major part of the modern Olympics."}),p.jsx("p",{className:"mb-2 text-gray-700",children:"Jamaica is world-renowned for its sprinters, producing legends like Usain Bolt, Shelly-Ann Fraser-Pryce, and Elaine Thompson-Herah."})]}),p.jsxs("section",{className:"mb-8",children:[p.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Jamaican Track & Field Highlights"}),p.jsxs("ul",{className:"list-disc ml-6 mb-2 text-gray-700",children:[p.jsx("li",{children:"Olympic & World Champions: Jamaica has won dozens of Olympic and World Championship medals, especially in sprint events."}),p.jsx("li",{children:"Champs: The ISSA/Grace Kennedy Boys and Girls' Athletics Championships is the premier high school meet, showcasing future stars."}),p.jsx("li",{children:"Development: Clubs and school programs nurture talent from a young age."})]})]}),p.jsxs("section",{className:"mb-8",children:[p.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Major Competitions"}),p.jsxs("ul",{className:"list-disc ml-6 mb-2 text-gray-700",children:[p.jsxs("li",{children:[p.jsx("strong",{children:"Olympic Games:"})," The pinnacle of track and field, held every four years."]}),p.jsxs("li",{children:[p.jsx("strong",{children:"World Athletics Championships:"})," The top global event for athletics, held biennially."]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Diamond League:"})," Annual series of elite track and field meetings around the world."]})]})]}),p.jsxs("section",{className:"mb-8",children:[p.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Stay Updated"}),p.jsx("p",{className:"mb-2 text-gray-700",children:"Get the latest news, results, and schedules from trusted sources:"}),p.jsxs("ul",{className:"list-disc ml-6 text-green-700",children:[p.jsx("li",{children:p.jsx("a",{href:"https://worldathletics.org/",className:"underline",target:"_blank",rel:"noopener noreferrer",children:"World Athletics"})}),p.jsx("li",{children:p.jsx("a",{href:"https://www.bbc.com/sport/athletics",className:"underline",target:"_blank",rel:"noopener noreferrer",children:"BBC Sport Athletics"})}),p.jsx("li",{children:p.jsx("a",{href:"https://www.trackalerts.com/",className:"underline",target:"_blank",rel:"noopener noreferrer",children:"TrackAlerts (Caribbean)"})})]})]}),p.jsxs("section",{className:"mb-8",children:[p.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Learn More"}),p.jsxs("ul",{className:"list-disc ml-6",children:[p.jsx("li",{children:p.jsx("a",{href:"https://en.wikipedia.org/wiki/Track_and_field",className:"text-green-700 underline",target:"_blank",rel:"noopener noreferrer",children:"Wikipedia: Track and Field"})}),p.jsx("li",{children:p.jsx("a",{href:"https://worldathletics.org/",className:"text-green-700 underline",target:"_blank",rel:"noopener noreferrer",children:"World Athletics Official Site"})}),p.jsx("li",{children:p.jsx("a",{href:"https://www.britannica.com/sports/track-and-field-sports",className:"text-green-700 underline",target:"_blank",rel:"noopener noreferrer",children:"Britannica: Track and Field"})})]})]}),p.jsx(El,{category:"Track and Field"})]})]}),p9=()=>p.jsxs("div",{className:"bg-gray-50 min-h-screen w-full",children:[p.jsxs("div",{className:"w-full bg-black relative overflow-hidden",children:[p.jsx("div",{className:"absolute inset-0 z-0",children:p.jsx("img",{src:"https://images.unsplash.com/photo-1511512578047-dfb367046420?auto=format&fit=crop&w=1500&q=80",alt:"Gaming setup",className:"w-full h-full object-cover opacity-50"})}),p.jsxs("div",{className:"container mx-auto px-4 py-16 md:py-24 relative z-10 flex flex-col items-center text-center",children:[p.jsxs("div",{className:"mb-4 flex space-x-1",children:[p.jsx("div",{className:"w-4 h-4 bg-black rounded-full"}),p.jsx("div",{className:"w-4 h-4 bg-green-600 rounded-full"}),p.jsx("div",{className:"w-4 h-4 bg-yellow-400 rounded-full"})]}),p.jsx("h1",{className:"text-4xl md:text-6xl font-bold text-white mb-4",children:"Jamaican & World Gaming"}),p.jsx("p",{className:"text-xl md:text-2xl text-gray-200 mb-8 max-w-2xl",children:"Dive into the latest news, tournaments, and highlights from Jamaica and the global gaming community."})]})]}),p.jsxs("div",{className:"max-w-3xl mx-auto py-10 px-4",children:[p.jsxs("section",{className:"mb-8",children:[p.jsx("h2",{className:"text-2xl font-semibold mb-2 text-green-700 dark:text-yellow-400",children:"About Gaming"}),p.jsx("p",{className:"mb-2 text-gray-700",children:"Gaming is a global phenomenon, spanning video games, esports, and tabletop games. With billions of players worldwide, gaming is a major part of youth culture and entertainment."}),p.jsx("p",{className:"mb-2 text-gray-700",children:"Jamaicas gaming scene is growing, with local tournaments, esports teams, and a vibrant community of gamers and streamers."})]}),p.jsxs("section",{className:"mb-8",children:[p.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Jamaican Gaming Highlights"}),p.jsxs("ul",{className:"list-disc ml-6 mb-2 text-gray-700",children:[p.jsx("li",{children:"Esports Jamaica: Local teams and players compete in FIFA, Call of Duty, League of Legends, and more."}),p.jsx("li",{children:"Events: Gaming tournaments and conventions are held in Kingston and across the island."}),p.jsx("li",{children:"Community: Jamaican gamers connect through social media, streaming, and clubs."})]})]}),p.jsxs("section",{className:"mb-8",children:[p.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Major Competitions"}),p.jsxs("ul",{className:"list-disc ml-6 mb-2 text-gray-700",children:[p.jsxs("li",{children:[p.jsx("strong",{children:"Esports World Championships:"})," International tournaments for games like League of Legends, Dota 2, and Counter-Strike."]}),p.jsxs("li",{children:[p.jsx("strong",{children:"FIFAe World Cup:"})," The top global competition for FIFA video game players."]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Local Tournaments:"})," Jamaican events for FIFA, Mortal Kombat, and more."]})]})]}),p.jsxs("section",{className:"mb-8",children:[p.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Stay Updated"}),p.jsx("p",{className:"mb-2 text-gray-700",children:"Get the latest news, events, and streams from trusted sources:"}),p.jsxs("ul",{className:"list-disc ml-6 text-green-700",children:[p.jsx("li",{children:p.jsx("a",{href:"https://www.esportsjamaica.org/",className:"underline",target:"_blank",rel:"noopener noreferrer",children:"Esports Jamaica"})}),p.jsx("li",{children:p.jsx("a",{href:"https://www.bbc.com/news/technology",className:"underline",target:"_blank",rel:"noopener noreferrer",children:"BBC Gaming & Tech"})}),p.jsx("li",{children:p.jsx("a",{href:"https://www.esports.com/en",className:"underline",target:"_blank",rel:"noopener noreferrer",children:"Esports.com"})})]})]}),p.jsxs("section",{className:"mb-8",children:[p.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Learn More"}),p.jsxs("ul",{className:"list-disc ml-6",children:[p.jsx("li",{children:p.jsx("a",{href:"https://en.wikipedia.org/wiki/Video_game",className:"text-green-700 underline",target:"_blank",rel:"noopener noreferrer",children:"Wikipedia: Video Game"})}),p.jsx("li",{children:p.jsx("a",{href:"https://en.wikipedia.org/wiki/Esports",className:"text-green-700 underline",target:"_blank",rel:"noopener noreferrer",children:"Wikipedia: Esports"})}),p.jsx("li",{children:p.jsx("a",{href:"https://www.britannica.com/topic/electronic-sports",className:"text-green-700 underline",target:"_blank",rel:"noopener noreferrer",children:"Britannica: Electronic Sports"})})]})]}),p.jsx(El,{category:"Gaming"})]})]}),m9=()=>{const[t,e]=C.useState(0),[n,r]=C.useState([]),[i,s]=C.useState(!0),o=C.useRef(null);return C.useEffect(()=>{(async()=>{const l=Sh(pl(or,"articles"),uy("createdAt","desc")),h=(await Ih(l)).docs.slice(0,3).map(d=>({id:d.id,...d.data()}));r(h),s(!1)})()},[]),C.useEffect(()=>{if(n.length)return o.current=setInterval(()=>{e(a=>(a+1)%n.length)},2500),()=>{o.current&&clearInterval(o.current)}},[n.length]),i?p.jsx("div",{className:"w-full bg-white py-8 text-center",children:"Loading featured articles..."}):p.jsx("div",{className:"w-full bg-white py-8",children:p.jsxs("div",{className:"max-w-4xl mx-auto",children:[p.jsx("div",{className:"relative h-64 flex items-center justify-center",children:n.map((a,l)=>p.jsx("div",{className:`absolute transition-all duration-700 w-full ${l===t?"opacity-100 z-10":"opacity-0 z-0"}`,children:p.jsxs("div",{className:"min-w-[300px] bg-white rounded-lg shadow-md p-4 mx-auto",children:[p.jsx("div",{className:"h-40 bg-gray-200 rounded mb-2 flex items-center justify-center",children:a.imageUrl?p.jsx("img",{src:a.imageUrl,alt:a.title,className:"h-full w-full object-cover rounded"}):p.jsx("span",{className:"text-gray-400",children:"Image"})}),p.jsx("h3",{className:"font-bold text-lg mb-1 text-black",children:a.title}),p.jsx("p",{className:"text-gray-800 text-sm mb-2",children:a.content?a.content.split(`
`).slice(0,2).join(" ").slice(0,120)+(a.content.length>120?"...":""):""}),p.jsx(rl,{to:`/article/${a.id}`,className:"text-green-700 font-semibold hover:underline",children:"Read more"})]})},l))}),p.jsx("div",{className:"flex justify-center gap-2 mt-2",children:n.map((a,l)=>p.jsx("span",{className:`w-2 h-2 rounded-full bg-yellow-500 inline-block transition-opacity duration-300 ${t===l?"opacity-100":"opacity-40"}`},l))})]})})},g9=()=>{const[t,e]=C.useState(0);return C.useEffect(()=>{const n=()=>{const r=window.scrollY,i=document.documentElement.scrollHeight-window.innerHeight,s=i>0?r/i*100:0;e(s)};return window.addEventListener("scroll",n),()=>window.removeEventListener("scroll",n)},[]),p.jsx("div",{className:"fixed top-0 left-0 w-full z-[9999]",children:p.jsx("div",{className:"h-1 bg-yellow-500 transition-all duration-200",style:{width:`${t}%`}})})},y9=[{name:"Football",id:"football"},{name:"Netball",id:"netball"},{name:"Basketball",id:"basketball"},{name:"Track & Field",id:"track-field"},{name:"Gaming",id:"gaming"}],v9=t=>{const e=document.getElementById(t);e&&e.scrollIntoView({behavior:"smooth",block:"start"})},_9=()=>p.jsx("div",{className:"w-full overflow-x-auto py-3 bg-white border-b border-gray-200 flex gap-3 px-4",children:y9.map(t=>p.jsx("button",{onClick:()=>v9(t.id),className:"px-4 py-2 rounded-full font-medium text-sm bg-gray-100 dark:bg-gray-800 text-gray-800 dark:text-gray-100 hover:bg-yellow-500 hover:text-black transition",children:t.name},t.id))}),w9=()=>{const[t,e]=C.useState(!1);C.useEffect(()=>{const r=()=>{e(window.scrollY>window.innerHeight/2)};return window.addEventListener("scroll",r),()=>window.removeEventListener("scroll",r)},[]);const n=()=>{window.scrollTo({top:0,behavior:"smooth"})};return t?p.jsxs("button",{onClick:n,className:"fixed bottom-8 right-8 z-[9999] bg-yellow-500 hover:bg-yellow-600 text-black p-3 rounded-full shadow-lg transition flex items-center group",title:"Back to Top",children:[p.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 15l7-7 7 7"})}),p.jsx("span",{className:"ml-2 text-xs opacity-0 group-hover:opacity-100 transition",children:"Back to Top"})]}):null},E9=()=>p.jsxs("div",{className:"fixed inset-0 z-[99999] flex items-center justify-center bg-black/70",children:[p.jsxs("svg",{className:"animate-spin w-16 h-16 text-yellow-500",viewBox:"0 0 50 50",children:[p.jsx("circle",{className:"opacity-20",cx:"25",cy:"25",r:"20",stroke:"currentColor",strokeWidth:"5",fill:"none"}),p.jsx("path",{className:"opacity-80",fill:"currentColor",d:"M25 5a20 20 0 0 1 20 20h-5a15 15 0 0 0-15-15V5z"})]}),p.jsx("span",{className:"ml-4 text-yellow-500 font-bold text-xl",children:"Loading..."})]}),T9=()=>{const[t,e]=C.useState(null),[n,r]=C.useState(!1),[i,s]=C.useState(""),[o,a]=C.useState(""),[l,c]=C.useState(null),[h,d]=C.useState([""]),[m,y]=C.useState("Football");C.useEffect(()=>{const v=uk(Ps,async _=>{if(e(_),_){const x=await cy(ml(or,"users",_.uid));r(x.exists()&&x.data().role==="admin")}else r(!1)});return()=>v()},[]);const E=async()=>{const v=new Un;await HU(Ps,v)},I=async()=>{await SU(Ps)},R=async v=>{v.preventDefault();let _="";try{if(l){const x=q5(J5,`article-images/${Date.now()}_${l.name}`);await H5(x,l),_=await W5(x)}await w6(pl(or,"articles"),{title:i,content:o,createdAt:ye.now(),videoLinks:h.filter(Boolean),imageUrl:_,category:m}),alert("Article submitted to Firebase!"),s(""),a(""),c(null),d([""]),y("Football")}catch{alert("Failed to submit article")}};return t?n?p.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col items-center py-10",children:p.jsxs("div",{className:"bg-white shadow-lg rounded-xl p-8 w-full max-w-2xl",children:[p.jsxs("div",{className:"flex justify-between items-center mb-6",children:[p.jsx("h2",{className:"text-2xl font-bold",children:"Publish New Article"}),p.jsx("button",{onClick:I,className:"px-3 py-1 bg-red-100 text-red-600 rounded hover:bg-red-200",children:"Sign out"})]}),p.jsxs("form",{onSubmit:R,children:[p.jsx("input",{type:"text",placeholder:"Article Title",className:"w-full mb-4 px-3 py-2 border rounded",value:i,onChange:v=>s(v.target.value),required:!0}),p.jsxs("div",{className:"mb-4",children:[p.jsx("label",{className:"block mb-2 font-semibold",children:"Category"}),p.jsxs("select",{className:"w-full px-3 py-2 border rounded",value:m,onChange:v=>y(v.target.value),required:!0,children:[p.jsx("option",{value:"Football",children:"Football"}),p.jsx("option",{value:"Netball",children:"Netball"}),p.jsx("option",{value:"Basketball",children:"Basketball"}),p.jsx("option",{value:"Track and Field",children:"Track and Field"}),p.jsx("option",{value:"Gaming",children:"Gaming"})]})]}),p.jsx("textarea",{placeholder:"Article Content",className:"w-full mb-4 px-3 py-2 border rounded min-h-[120px]",value:o,onChange:v=>a(v.target.value),required:!0}),p.jsxs("div",{className:"mb-4",children:[p.jsx("label",{className:"block mb-2 font-semibold",children:"Featured Image"}),p.jsx("input",{type:"file",accept:"image/*",onChange:v=>c(v.target.files?v.target.files[0]:null),className:"block w-full"}),l&&p.jsx("div",{className:"mt-2",children:p.jsx("img",{src:URL.createObjectURL(l),alt:"Preview",className:"h-32 rounded"})})]}),p.jsxs("div",{className:"mb-4",children:[p.jsx("label",{className:"block mb-2 font-semibold",children:"Video Links"}),h.map((v,_)=>p.jsxs("div",{className:"flex mb-2",children:[p.jsx("input",{type:"url",placeholder:"https://youtube.com/...",className:"flex-1 px-3 py-2 border rounded",value:v,onChange:x=>{const N=[...h];N[_]=x.target.value,d(N)}}),p.jsx("button",{type:"button",className:"ml-2 px-2 py-1 bg-red-100 text-red-600 rounded hover:bg-red-200",onClick:()=>d(h.filter((x,N)=>N!==_)),disabled:h.length===1,children:""})]},_)),p.jsx("button",{type:"button",className:"mt-2 px-3 py-1 bg-green-100 text-green-700 rounded hover:bg-green-200",onClick:()=>d([...h,""]),children:"+ Add Video Link"})]}),p.jsx("button",{type:"submit",className:"w-full bg-green-700 text-white py-2 rounded font-semibold hover:bg-green-800 transition",children:"Publish Article"})]})]})}):p.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col items-center py-10",children:p.jsxs("div",{className:"bg-white shadow-lg rounded-xl p-8 w-full max-w-sm text-center",children:[p.jsx("h2",{className:"text-xl font-bold mb-4",children:"Access Denied"}),p.jsx("p",{className:"mb-4",children:"You do not have admin privileges."}),p.jsx("button",{onClick:I,className:"text-red-600 underline",children:"Sign out"})]})}):p.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col items-center py-10",children:p.jsxs("div",{className:"bg-white shadow-lg rounded-xl p-8 w-full max-w-sm text-center",children:[p.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Admin Login"}),p.jsx("button",{onClick:E,className:"w-full bg-green-700 text-white py-2 rounded font-semibold hover:bg-green-800 transition",children:"Sign in with Google"})]})})},ME=t=>{const e=t.match(/(?:youtu\.be\/|youtube\.com\/(?:watch\?v=|embed\/|v\/|shorts\/)?)([\w-]{11})/);return e?e[1]:null},x9=({showOnlyNew:t=!1})=>{const[e,n]=C.useState([]),[r,i]=C.useState([]),[s,o]=C.useState(!0),a=jk();return C.useEffect(()=>{(async()=>{const c=Sh(pl(or,"articles"),uy("createdAt","desc")),d=(await Ih(c)).docs.map(E=>({id:E.id,title:E.data().title||"",content:E.data().content||"",imageUrl:E.data().imageUrl||"",videoLinks:E.data().videoLinks||[],createdAt:E.data().createdAt,category:E.data().category||"",author:E.data().author||"Unknown",authorImageUrl:E.data().authorImageUrl||"",readTime:E.data().readTime||"2",clicks:E.data().clicks||0})),m=Date.now(),y=2*24*60*60*1e3;i(Up(d.filter(E=>{if(!E.createdAt)return!1;let I=0;return E.createdAt instanceof ye?I=E.createdAt.toDate().getTime():"seconds"in E.createdAt&&(I=E.createdAt.seconds*1e3),m-I<=y}),a||[])),n(Up(d.filter(E=>{let I=0;return E.createdAt instanceof ye?I=E.createdAt.toDate().getTime():"seconds"in E.createdAt&&(I=E.createdAt.seconds*1e3),m-I>y}),a||[])),o(!1)})()},[a]),s?p.jsx("div",{className:"text-center py-10",children:"Loading articles..."}):p.jsxs("div",{className:"container mx-auto px-4 py-8 flex flex-col gap-10",children:[r.length>0&&p.jsxs("section",{children:[p.jsx("h2",{className:"text-2xl font-bold mb-4 text-green-700",children:"New"}),p.jsx("div",{className:"flex flex-col gap-6",children:r.map(l=>{let c=l.content.split(`
`).slice(0,2).join(" ");return c.length>120&&(c=c.slice(0,120)+"..."),p.jsxs("div",{className:"bg-yellow-50 rounded-xl shadow-lg overflow-hidden flex flex-col gap-4 p-6 border-l-4 border-yellow-500",children:[l.imageUrl&&p.jsx("img",{src:l.imageUrl,alt:l.title,className:"w-full h-48 object-cover rounded-lg mb-2"}),p.jsxs("div",{className:"flex-1 flex flex-col",children:[p.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:l.title}),p.jsx("div",{className:"text-gray-700 mb-4 whitespace-pre-line",children:c}),p.jsx(rl,{to:`/article/${l.id}`,className:"text-green-700 font-semibold hover:underline mt-auto",children:"Read more"}),l.videoLinks&&l.videoLinks.length>0&&p.jsx("div",{className:"flex flex-wrap gap-4 mt-2",children:l.videoLinks.filter(Boolean).map((h,d)=>{const m=ME(h);return m?p.jsxs("a",{href:h,target:"_blank",rel:"noopener noreferrer",className:"relative group w-48 h-28 block rounded-lg overflow-hidden shadow",children:[p.jsx("img",{src:`https://img.youtube.com/vi/${m}/hqdefault.jpg`,alt:"YouTube thumbnail",className:"w-full h-full object-cover group-hover:brightness-75 transition"}),p.jsx("span",{className:"absolute inset-0 flex items-center justify-center",children:p.jsxs("svg",{className:"w-12 h-12 text-white opacity-90",fill:"currentColor",viewBox:"0 0 24 24",children:[p.jsx("circle",{cx:"12",cy:"12",r:"12",fill:"black",fillOpacity:"0.6"}),p.jsx("polygon",{points:"10,8 16,12 10,16",fill:"white"})]})})]},d):null})})]})]},l.id)})})]}),!t&&e.map(l=>p.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden flex flex-col md:flex-row gap-6 p-6",children:[l.imageUrl&&p.jsx("img",{src:l.imageUrl,alt:l.title,className:"w-full md:w-64 h-48 object-cover rounded-lg"}),p.jsxs("div",{className:"flex-1 flex flex-col",children:[p.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:l.title}),p.jsx("div",{className:"text-gray-700 mb-4 whitespace-pre-line",children:l.content}),l.videoLinks&&l.videoLinks.length>0&&p.jsx("div",{className:"flex flex-wrap gap-4 mt-2",children:l.videoLinks.filter(Boolean).map((c,h)=>{const d=ME(c);return d?p.jsxs("a",{href:c,target:"_blank",rel:"noopener noreferrer",className:"relative group w-48 h-28 block rounded-lg overflow-hidden shadow",children:[p.jsx("img",{src:`https://img.youtube.com/vi/${d}/hqdefault.jpg`,alt:"YouTube thumbnail",className:"w-full h-full object-cover group-hover:brightness-75 transition"}),p.jsx("span",{className:"absolute inset-0 flex items-center justify-center",children:p.jsxs("svg",{className:"w-12 h-12 text-white opacity-90",fill:"currentColor",viewBox:"0 0 24 24",children:[p.jsx("circle",{cx:"12",cy:"12",r:"12",fill:"black",fillOpacity:"0.6"}),p.jsx("polygon",{points:"10,8 16,12 10,16",fill:"white"})]})})]},h):null})})]})]},l.id))]})},S9=()=>{const{id:t}=Db(),[e,n]=C.useState(null),[r,i]=C.useState(!0);return C.useEffect(()=>{(async()=>{if(!t)return;const o=ml(or,"articles",t),a=await cy(o);a.exists()&&n({id:a.id,...a.data()}),i(!1)})()},[t]),r?p.jsx("div",{className:"text-center py-10",children:"Loading..."}):e?p.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-3xl",children:[p.jsx("h1",{className:"text-3xl font-bold mb-4",children:e.title}),e.imageUrl&&p.jsx("img",{src:e.imageUrl,alt:e.title,className:"w-full h-80 object-cover rounded mb-6"}),p.jsx("div",{className:"text-gray-700 mb-6 whitespace-pre-line",children:e.content}),e.videoLinks&&e.videoLinks.length>0&&p.jsx("div",{className:"flex flex-wrap gap-4 mt-2",children:e.videoLinks.filter(Boolean).map((s,o)=>p.jsxs("a",{href:s,target:"_blank",rel:"noopener noreferrer",className:"underline text-blue-600",children:["Watch Video ",o+1]},o))})]}):p.jsx("div",{className:"text-center py-10",children:"Article not found."})},I9=()=>p.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-green-50 via-yellow-100 to-green-200 dark:from-black dark:via-gray-900 dark:to-black",children:p.jsxs("div",{className:"bg-white dark:bg-black p-10 rounded-lg shadow-md w-full max-w-md border border-green-200 dark:border-yellow-600 flex flex-col items-center",children:[p.jsx("h1",{className:"text-3xl font-extrabold mb-4 text-center bg-clip-text text-transparent bg-gradient-to-r from-green-600 via-yellow-500 to-black dark:from-green-400 dark:via-yellow-400 dark:to-white",children:"Feature Coming Soon"}),p.jsx("p",{className:"text-lg text-gray-700 dark:text-yellow-200 text-center mt-2",children:"The subscribe feature is on its way. Stay tuned for updates!"})]})});function A9(){const t=ei();return p.jsx(RN,{children:p.jsxs("div",{className:"flex flex-col min-h-screen bg-white",children:[p.jsx(IO,{}),p.jsxs("main",{className:"flex-grow w-full",children:[p.jsx(g9,{}),p.jsx(C.Suspense,{fallback:p.jsx(E9,{}),children:p.jsx(PD,{mode:"wait",children:p.jsx(pO.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.4,ease:"easeInOut"},children:p.jsxs(Gb,{location:t,children:[p.jsx(Zt,{path:"/login",element:p.jsx(o9,{})}),p.jsx(Zt,{path:"/admin",element:p.jsx(T9,{})}),p.jsx(Zt,{path:"/football",element:p.jsx(u9,{})}),p.jsx(Zt,{path:"/netball",element:p.jsx(c9,{})}),p.jsx(Zt,{path:"/basketball",element:p.jsx(d9,{})}),p.jsx(Zt,{path:"/track-field",element:p.jsx(f9,{})}),p.jsx(Zt,{path:"/gaming",element:p.jsx(p9,{})}),p.jsx(Zt,{path:"/article/:id",element:p.jsx(S9,{})}),p.jsx(Zt,{path:"/subscribe",element:p.jsx(I9,{})}),p.jsx(Zt,{path:"/",element:p.jsxs(p.Fragment,{children:[p.jsx(AO,{}),p.jsx(m9,{}),p.jsx(_9,{}),p.jsx("div",{className:"container mx-auto px-4 lg:px-6 py-8",children:p.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[p.jsx("div",{className:"lg:w-2/3",children:p.jsx(e9,{})}),p.jsxs("div",{className:"lg:w-1/3 flex flex-col gap-8",children:[p.jsx(x9,{showOnlyNew:!0}),p.jsx(t9,{})]})]})})]})})]})},t.pathname)})})]}),p.jsx(n9,{}),p.jsx(w9,{})]})})}KP.render(p.jsx(vN,{children:p.jsx(A9,{})}),document.getElementById("root"));
